(self.webpackChunktest_case_codebar=self.webpackChunktest_case_codebar||[]).push([[179],{145:(Os,Rs,z)=>{"use strict";function nt(e){return"function"==typeof e}function Ls(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Do=Ls(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,s)=>`${s+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Io(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Fn{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const c of n)c.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(nt(r))try{r()}catch(c){t=c instanceof Do?c.errors:[c]}const{_finalizers:s}=this;if(s){this._finalizers=null;for(const c of s)try{cn(c)}catch(f){t=t??[],f instanceof Do?t=[...t,...f.errors]:t.push(f)}}if(t)throw new Do(t)}}add(t){var n;if(t&&t!==this)if(this.closed)cn(t);else{if(t instanceof Fn){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Io(n,t)}remove(t){const{_finalizers:n}=this;n&&Io(n,t),t instanceof Fn&&t._removeParent(this)}}Fn.EMPTY=(()=>{const e=new Fn;return e.closed=!0,e})();const Ps=Fn.EMPTY;function Gt(e){return e instanceof Fn||e&&"closed"in e&&nt(e.remove)&&nt(e.add)&&nt(e.unsubscribe)}function cn(e){nt(e)?e():e.unsubscribe()}const ne={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Hn={setTimeout(e,t,...n){const{delegate:r}=Hn;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Hn;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function bt(e){Hn.setTimeout(()=>{const{onUnhandledError:t}=ne;if(!t)throw e;t(e)})}function So(){}const qe=Et("C",void 0,void 0);function Et(e,t,n){return{kind:e,value:t,error:n}}let we=null;function $e(e){if(ne.useDeprecatedSynchronousErrorHandling){const t=!we;if(t&&(we={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=we;if(we=null,n)throw r}}else e()}class rt extends Fn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Gt(t)&&t.add(this)):this.destination=Tt}static create(t,n,r){return new Gn(t,n,r)}next(t){this.isStopped?ze(function Fs(e){return Et("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ze(function vo(e){return Et("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ze(qe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Q=Function.prototype.bind;function Be(e,t){return Q.call(e,t)}class Y{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Ft(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Ft(r)}else Ft(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Ft(n)}}}class Gn extends rt{constructor(t,n,r){let s;if(super(),nt(t)||!t)s={next:t??void 0,error:n??void 0,complete:r??void 0};else{let c;this&&ne.useDeprecatedNextContext?(c=Object.create(t),c.unsubscribe=()=>this.unsubscribe(),s={next:t.next&&Be(t.next,c),error:t.error&&Be(t.error,c),complete:t.complete&&Be(t.complete,c)}):s=t}this.destination=new Y(s)}}function Ft(e){ne.useDeprecatedSynchronousErrorHandling?function Mi(e){ne.useDeprecatedSynchronousErrorHandling&&we&&(we.errorThrown=!0,we.error=e)}(e):bt(e)}function ze(e,t){const{onStoppedNotification:n}=ne;n&&Hn.setTimeout(()=>n(e,t))}const Tt={closed:!0,next:So,error:function _e(e){throw e},complete:So},V="function"==typeof Symbol&&Symbol.observable||"@@observable";function Dt(e){return e}let pt=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,s){const c=function Zt(e){return e&&e instanceof rt||function Bs(e){return e&&nt(e.next)&&nt(e.error)&&nt(e.complete)}(e)&&Gt(e)}(n)?n:new Gn(n,r,s);return $e(()=>{const{operator:f,source:g}=this;c.add(f?f.call(c,g):g?this._subscribe(c):this._trySubscribe(c))}),c}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=zn(r))((s,c)=>{const f=new Gn({next:g=>{try{n(g)}catch(m){c(m),f.unsubscribe()}},error:c,complete:s});this.subscribe(f)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[V](){return this}pipe(...n){return function Gr(e){return 0===e.length?Dt:1===e.length?e[0]:function(n){return e.reduce((r,s)=>s(r),n)}}(n)(this)}toPromise(n){return new(n=zn(n))((r,s)=>{let c;this.subscribe(f=>c=f,f=>s(f),()=>r(c))})}}return e.create=t=>new e(t),e})();function zn(e){var t;return null!==(t=e??ne.Promise)&&void 0!==t?t:Promise}const _r=Ls(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Bt=(()=>{class e extends pt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new ci(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new _r}next(n){$e(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){$e(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){$e(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:s,observers:c}=this;return r||s?Ps:(this.currentObservers=null,c.push(n),new Fn(()=>{this.currentObservers=null,Io(c,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:s,isStopped:c}=this;r?n.error(s):c&&n.complete()}asObservable(){const n=new pt;return n.source=this,n}}return e.create=(t,n)=>new ci(t,n),e})();class ci extends Bt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:Ps}}function nr(e){return t=>{if(function le(e){return nt(e?.lift)}(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function xt(e,t,n,r,s){return new li(e,t,n,r,s)}class li extends rt{constructor(t,n,r,s,c,f){super(t),this.onFinalize=c,this.shouldUnsubscribe=f,this._next=n?function(g){try{n(g)}catch(m){t.error(m)}}:super._next,this._error=s?function(g){try{s(g)}catch(m){t.error(m)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(g){t.error(g)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Bn(e){return this instanceof Bn?(this.v=e,this):new Bn(e)}function bc(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,r=n.apply(e,t||[]),c=[];return s={},f("next"),f("throw"),f("return"),s[Symbol.asyncIterator]=function(){return this},s;function f(S){r[S]&&(s[S]=function(T){return new Promise(function(O,F){c.push([S,T,O,F])>1||g(S,T)})})}function g(S,T){try{!function m(S){S.value instanceof Bn?Promise.resolve(S.value.v).then(x,E):A(c[0][2],S)}(r[S](T))}catch(O){A(c[0][3],O)}}function x(S){g("next",S)}function E(S){g("throw",S)}function A(S,T){S(T),c.shift(),c.length&&g(c[0][0],c[0][1])}}function X(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function _n(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(c){n[c]=e[c]&&function(f){return new Promise(function(g,m){!function s(c,f,g,m){Promise.resolve(m).then(function(x){c({value:x,done:g})},f)}(g,m,(f=e[c](f)).done,f.value)})}}}const fi=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Mo(e){return nt(e?.then)}function No(e){return nt(e[V])}function yn(e){return Symbol.asyncIterator&&nt(e?.[Symbol.asyncIterator])}function Pi(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Er=function wr(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function hi(e){return nt(e?.[Er])}function Dn(e){return bc(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:s}=yield Bn(n.read());if(s)return yield Bn(void 0);yield yield Bn(r)}}finally{n.releaseLock()}})}function zs(e){return nt(e?.getReader)}function ln(e){if(e instanceof pt)return e;if(null!=e){if(No(e))return function Oo(e){return new pt(t=>{const n=e[V]();if(nt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(fi(e))return function In(e){return new pt(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Mo(e))return function Cr(e){return new pt(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,bt)})}(e);if(yn(e))return te(e);if(hi(e))return function zr(e){return new pt(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(zs(e))return function Wr(e){return te(Dn(e))}(e)}throw Pi(e)}function te(e){return new pt(t=>{(function Ro(e,t){var n,r,s,c;return function Ri(e,t,n,r){return new(n||(n=Promise))(function(c,f){function g(E){try{x(r.next(E))}catch(A){f(A)}}function m(E){try{x(r.throw(E))}catch(A){f(A)}}function x(E){E.done?c(E.value):function s(c){return c instanceof n?c:new n(function(f){f(c)})}(E.value).then(g,m)}x((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=X(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(f){s={error:f}}finally{try{r&&!r.done&&(c=n.return)&&(yield c.call(n))}finally{if(s)throw s.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Mt(e,t,n,r=0,s=!1){const c=t.schedule(function(){n(),s?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(c),!s)return c}function Ws(e,t,n=1/0){return nt(t)?Ws((r,s)=>function ui(e,t){return nr((n,r)=>{let s=0;n.subscribe(xt(r,c=>{r.next(e.call(t,c,s++))}))})}((c,f)=>t(r,c,s,f))(ln(e(r,s))),n):("number"==typeof t&&(n=t),nr((r,s)=>function Ic(e,t,n,r,s,c,f,g){const m=[];let x=0,E=0,A=!1;const S=()=>{A&&!m.length&&!x&&t.complete()},T=F=>x<r?O(F):m.push(F),O=F=>{c&&t.next(F),x++;let k=!1;ln(n(F,E++)).subscribe(xt(t,G=>{s?.(G),c?T(G):t.next(G)},()=>{k=!0},void 0,()=>{if(k)try{for(x--;m.length&&x<r;){const G=m.shift();f?Mt(t,f,()=>O(G)):O(G)}S()}catch(G){t.error(G)}}))};return e.subscribe(xt(t,T,()=>{A=!0,S()})),()=>{g?.()}}(r,s,e,n)))}const Lo=new pt(e=>e.complete());function Po(e){return e[e.length-1]}function Bi(e,t=0){return nr((n,r)=>{n.subscribe(xt(r,s=>Mt(r,e,()=>r.next(s),t),()=>Mt(r,e,()=>r.complete(),t),s=>Mt(r,e,()=>r.error(s),t)))})}function j(e,t=0){return nr((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function je(e,t){if(!e)throw new Error("Iterable cannot be null");return new pt(n=>{Mt(n,t,()=>{const r=e[Symbol.asyncIterator]();Mt(n,t,()=>{r.next().then(s=>{s.done?n.complete():n.next(s.value)})},0,!0)})})}function Bo(...e){const t=function Ys(e){return function vc(e){return e&&nt(e.schedule)}(Po(e))?e.pop():void 0}(e),n=function ir(e,t){return"number"==typeof Po(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?ln(r[0]):function Fi(e=1/0){return Ws(Dt,e)}(n)(function Fo(e,t){return t?function Oe(e,t){if(null!=e){if(No(e))return function Tc(e,t){return ln(e).pipe(j(t),Bi(t))}(e,t);if(fi(e))return function Yr(e,t){return new pt(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(Mo(e))return function ft(e,t){return ln(e).pipe(j(t),Bi(t))}(e,t);if(yn(e))return je(e,t);if(hi(e))return function Mc(e,t){return new pt(n=>{let r;return Mt(n,t,()=>{r=e[Er](),Mt(n,t,()=>{let s,c;try{({value:s,done:c}=r.next())}catch(f){return void n.error(f)}c?n.complete():n.next(s)},0,!0)}),()=>nt(r?.return)&&r.return()})}(e,t);if(zs(e))return function He(e,t){return je(Dn(e),t)}(e,t)}throw Pi(e)}(e,t):ln(e)}(r,t)):Lo}function ht(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Gn({next:()=>{r.unsubscribe(),e()}});return t(...n).subscribe(r)}function Pe(e){for(let t in e)if(e[t]===Pe)return t;throw Error("Could not find renamed property on target object.")}function xe(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(xe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Xr(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Nc=Pe({__forward_ref__:Pe});function Wn(e){return e.__forward_ref__=Wn,e.toString=function(){return xe(this())},e}function $(e){return function Nt(e){return"function"==typeof e&&e.hasOwnProperty(Nc)&&e.__forward_ref__===Wn}(e)?e():e}class D extends Error{constructor(t,n){super(function se(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,n)),this.code=t}}function Ce(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function re(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function ae(e,t){throw new D(-201,!1)}function Ze(e,t){null==e&&function Ye(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function ct(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function br(e){return{providers:e.providers||[],imports:e.imports||[]}}function sr(e){return Qr(e,gi)||Qr(e,$s)}function Qr(e,t){return e.hasOwnProperty(t)?e[t]:null}function Uo(e){return e&&(e.hasOwnProperty(jo)||e.hasOwnProperty(Vc))?e[jo]:null}const gi=Pe({\u0275prov:Pe}),jo=Pe({\u0275inj:Pe}),$s=Pe({ngInjectableDef:Pe}),Vc=Pe({ngInjectorDef:Pe});var ye=(()=>((ye=ye||{})[ye.Default=0]="Default",ye[ye.Host=1]="Host",ye[ye.Self=2]="Self",ye[ye.SkipSelf=4]="SkipSelf",ye[ye.Optional=8]="Optional",ye))();let Ge;function Qt(e){const t=Ge;return Ge=e,t}function Yn(e,t,n){const r=sr(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ye.Optional?null:void 0!==t?t:void ae(xe(e))}function P(e){return{toString:e}.toString()}var de=(()=>((de=de||{})[de.OnPush=0]="OnPush",de[de.Default=1]="Default",de))(),Sn=(()=>{return(e=Sn||(Sn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Sn;var e})();const it=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Xn={},fe=[],qr=Pe({\u0275cmp:Pe}),ar=Pe({\u0275dir:Pe}),$r=Pe({\u0275pipe:Pe}),pi=Pe({\u0275mod:Pe}),Fe=Pe({\u0275fac:Pe}),ce=Pe({__NG_ELEMENT_ID__:Pe});let Uc=0;function Je(e){return P(()=>{const n=!0===e.standalone,r={},s={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===de.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||fe,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Sn.Emulated,id:"c"+Uc++,styles:e.styles||fe,_:null,setInput:null,schemas:e.schemas||null,tView:null},c=e.dependencies,f=e.features;return s.inputs=zo(e.inputs,r),s.outputs=zo(e.outputs),f&&f.forEach(g=>g(s)),s.directiveDefs=c?()=>("function"==typeof c?c():c).map(Ho).filter(ea):null,s.pipeDefs=c?()=>("function"==typeof c?c():c).map(Ct).filter(ea):null,s})}function Ho(e){return Xe(e)||$t(e)}function ea(e){return null!==e}function xi(e){return P(()=>({type:e.type,bootstrap:e.bootstrap||fe,declarations:e.declarations||fe,imports:e.imports||fe,exports:e.exports||fe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function zo(e,t){if(null==e)return Xn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let s=e[r],c=s;Array.isArray(s)&&(c=s[1],s=s[0]),n[s]=r,t&&(t[s]=c)}return n}function Xe(e){return e[qr]||null}function $t(e){return e[ar]||null}function Ct(e){return e[$r]||null}const i=18,u=22,I=10;function M(e){return Array.isArray(e)&&"object"==typeof e[1]}function N(e){return Array.isArray(e)&&!0===e[1]}function L(e){return 0!=(8&e.flags)}function Z(e){return 1==(1&e.flags)}function B(e){return null!==e.template}function Me(e){return 0!=(256&e[2])}function wi(e,t){return e.hasOwnProperty(Fe)?e[Fe]:null}class Gx{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function tf(e){return e.type.prototype.ngOnChanges&&(e.setInput=Wx),zx}function zx(){const e=rf(this),t=e?.current;if(t){const n=e.previous;if(n===Xn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Wx(e,t,n,r){const s=rf(e)||function Yx(e,t){return e[nf]=t}(e,{previous:Xn,current:null}),c=s.current||(s.current={}),f=s.previous,g=this.declaredInputs[n],m=f[g];c[g]=new Gx(m&&m.currentValue,t,f===Xn),e[r]=t}const nf="__ngSimpleChanges__";function rf(e){return e[nf]||null}function Ot(e){for(;Array.isArray(e);)e=e[0];return e}function Tn(e,t){return Ot(t[e.index])}function Mn(e,t){const n=t[e];return M(n)?n:n[0]}function ra(e){return 64==(64&e[2])}function Jr(e,t){return null==t?null:e[t]}function of(e){e[i]=0}function Xc(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Ee={lFrame:pf(null),bindingsEnabled:!0};function af(){return Ee.bindingsEnabled}function H(){return Ee.lFrame.lView}function Ue(){return Ee.lFrame.tView}function Vt(){let e=cf();for(;null!==e&&64===e.type;)e=e.parent;return e}function cf(){return Ee.lFrame.currentTNode}function ur(e,t){const n=Ee.lFrame;n.currentTNode=e,n.isParent=t}function Zc(){return Ee.lFrame.isParent}function l2(e,t){const n=Ee.lFrame;n.bindingIndex=n.bindingRootIndex=e,qc(t)}function qc(e){Ee.lFrame.currentDirectiveIndex=e}function Kc(e){Ee.lFrame.currentQueryIndex=e}function d2(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function hf(e,t,n){if(n&ye.SkipSelf){let s=t,c=e;for(;!(s=s.parent,null!==s||n&ye.Host||(s=d2(c),null===s||(c=c[15],10&s.type))););if(null===s)return!1;t=s,e=c}const r=Ee.lFrame=gf();return r.currentTNode=t,r.lView=e,!0}function Jc(e){const t=gf(),n=e[1];Ee.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function gf(){const e=Ee.lFrame,t=null===e?null:e.child;return null===t?pf(e):t}function pf(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function xf(){const e=Ee.lFrame;return Ee.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const mf=xf;function el(){const e=xf();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ei(e){Ee.lFrame.selectedIndex=e}function ia(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const c=e.data[n].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:g,ngAfterViewInit:m,ngAfterViewChecked:x,ngOnDestroy:E}=c;f&&(e.contentHooks||(e.contentHooks=[])).push(-n,f),g&&((e.contentHooks||(e.contentHooks=[])).push(n,g),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,g)),m&&(e.viewHooks||(e.viewHooks=[])).push(-n,m),x&&((e.viewHooks||(e.viewHooks=[])).push(n,x),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,x)),null!=E&&(e.destroyHooks||(e.destroyHooks=[])).push(n,E)}}function oa(e,t,n){_f(e,t,3,n)}function sa(e,t,n,r){(3&e[2])===n&&_f(e,t,n,r)}function tl(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function _f(e,t,n,r){const c=r??-1,f=t.length-1;let g=0;for(let m=void 0!==r?65535&e[i]:0;m<f;m++)if("number"==typeof t[m+1]){if(g=t[m],null!=r&&g>=r)break}else t[m]<0&&(e[i]+=65536),(g<c||-1==c)&&(w2(e,n,t,m),e[i]=(4294901760&e[i])+m+2),m++}function w2(e,t,n,r){const s=n[r]<0,c=n[r+1],g=e[s?-n[r]:n[r]];if(s){if(e[2]>>11<e[i]>>16&&(3&e[2])===t){e[2]+=2048;try{c.call(g)}finally{}}}else try{c.call(g)}finally{}}class Yo{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function aa(e,t,n){let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const c=n[r++],f=n[r++],g=n[r++];e.setAttribute(t,f,g,c)}else{const c=s,f=n[++r];wf(c)?e.setProperty(t,c,f):e.setAttribute(t,c,f),r++}}return r}function yf(e){return 3===e||4===e||6===e}function wf(e){return 64===e.charCodeAt(0)}function ca(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const s=t[r];"number"==typeof s?n=s:0===n||Ef(e,n,s,null,-1===n||2===n?t[++r]:null)}}return e}function Ef(e,t,n,r,s){let c=0,f=e.length;if(-1===t)f=-1;else for(;c<e.length;){const g=e[c++];if("number"==typeof g){if(g===t){f=-1;break}if(g>t){f=c-1;break}}}for(;c<e.length;){const g=e[c];if("number"==typeof g)break;if(g===n){if(null===r)return void(null!==s&&(e[c+1]=s));if(r===e[c+1])return void(e[c+2]=s)}c++,null!==r&&c++,null!==s&&c++}-1!==f&&(e.splice(f,0,t),c=f+1),e.splice(c++,0,n),null!==r&&e.splice(c++,0,r),null!==s&&e.splice(c++,0,s)}function Gi(e){return 32767&e}function zi(e,t){let n=function D2(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let rl=!0;function la(e){const t=rl;return rl=e,t}let I2=0;const dr={};function Zo(e,t){const n=ol(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,il(r.data,e),il(t,null),il(r.blueprint,null));const s=ua(e,t),c=e.injectorIndex;if(function Cf(e){return-1!==e}(s)){const f=Gi(s),g=zi(s,t),m=g[1].data;for(let x=0;x<8;x++)t[c+x]=g[f+x]|m[f+x]}return t[c+8]=s,c}function il(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ol(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function ua(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,s=t;for(;null!==s;){if(r=Nf(s),null===r)return-1;if(n++,s=s[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function da(e,t,n){!function S2(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ce)&&(r=n[ce]),null==r&&(r=n[ce]=I2++);const s=255&r;t.data[e+(s>>5)]|=1<<s}(e,t,n)}function Df(e,t,n){if(n&ye.Optional||void 0!==e)return e;ae()}function If(e,t,n,r){if(n&ye.Optional&&void 0===r&&(r=null),0==(n&(ye.Self|ye.Host))){const s=e[9],c=Qt(void 0);try{return s?s.get(t,r,n&ye.Optional):Yn(t,r,n&ye.Optional)}finally{Qt(c)}}return Df(r,0,n)}function Sf(e,t,n,r=ye.Default,s){if(null!==e){if(1024&t[2]){const f=function R2(e,t,n,r,s){let c=e,f=t;for(;null!==c&&null!==f&&1024&f[2]&&!(256&f[2]);){const g=vf(c,f,n,r|ye.Self,dr);if(g!==dr)return g;let m=c.parent;if(!m){const x=f[21];if(x){const E=x.get(n,dr,r);if(E!==dr)return E}m=Nf(f),f=f[15]}c=m}return s}(e,t,n,r,dr);if(f!==dr)return f}const c=vf(e,t,n,r,dr);if(c!==dr)return c}return If(t,n,r,s)}function vf(e,t,n,r,s){const c=function M2(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ce)?e[ce]:void 0;return"number"==typeof t?t>=0?255&t:N2:t}(n);if("function"==typeof c){if(!hf(t,e,r))return r&ye.Host?Df(s,0,r):If(t,n,r,s);try{const f=c(r);if(null!=f||r&ye.Optional)return f;ae()}finally{mf()}}else if("number"==typeof c){let f=null,g=ol(e,t),m=-1,x=r&ye.Host?t[16][6]:null;for((-1===g||r&ye.SkipSelf)&&(m=-1===g?ua(e,t):t[g+8],-1!==m&&Mf(r,!1)?(f=t[1],g=Gi(m),t=zi(m,t)):g=-1);-1!==g;){const E=t[1];if(Tf(c,g,E.data)){const A=T2(g,t,n,f,r,x);if(A!==dr)return A}m=t[g+8],-1!==m&&Mf(r,t[1].data[g+8]===x)&&Tf(c,g,t)?(f=E,g=Gi(m),t=zi(m,t)):g=-1}}return s}function T2(e,t,n,r,s,c){const f=t[1],g=f.data[e+8],E=function fa(e,t,n,r,s){const c=e.providerIndexes,f=t.data,g=1048575&c,m=e.directiveStart,E=c>>20,S=s?g+E:e.directiveEnd;for(let T=r?g:g+E;T<S;T++){const O=f[T];if(T<m&&n===O||T>=m&&O.type===n)return T}if(s){const T=f[m];if(T&&B(T)&&T.type===n)return m}return null}(g,f,n,null==r?function W(e){return 2==(2&e.flags)}(g)&&rl:r!=f&&0!=(3&g.type),s&ye.Host&&c===g);return null!==E?Qo(t,f,E,g):dr}function Qo(e,t,n,r){let s=e[n];const c=t.data;if(function E2(e){return e instanceof Yo}(s)){const f=s;f.resolving&&function Oc(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new D(-200,`Circular dependency in DI detected for ${e}${n}`)}(Ce(c[n]));const g=la(f.canSeeViewProviders);f.resolving=!0;const m=f.injectImpl?Qt(f.injectImpl):null;hf(e,r,ye.Default);try{s=e[n]=f.factory(void 0,c,e,r),t.firstCreatePass&&n>=r.directiveStart&&function y2(e,t,n){const{ngOnChanges:r,ngOnInit:s,ngDoCheck:c}=t.type.prototype;if(r){const f=tf(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,f),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,f)}s&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,s),c&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,c),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,c))}(n,c[n],t)}finally{null!==m&&Qt(m),la(g),f.resolving=!1,mf()}}return s}function Tf(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Mf(e,t){return!(e&ye.Self||e&ye.Host&&t)}class Wi{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Sf(this._tNode,this._lView,t,r,n)}}function N2(){return new Wi(Vt(),H())}function Nf(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[6]:null}class Re{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ct({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Mr(e,t){e.forEach(n=>Array.isArray(n)?Mr(n,t):t(n))}function ha(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Jo={},pa="ngTempTokenPath",W2=/\n/gm,Bf="__source";let es;function $i(e){const t=es;return es=e,t}function X2(e,t=ye.Default){if(void 0===es)throw new D(-203,!1);return null===es?Yn(e,void 0,t):es.get(e,t&ye.Optional?null:void 0,t)}function Qe(e,t=ye.Default){return(function Ks(){return Ge}()||X2)($(e),t)}function hl(e){const t=[];for(let n=0;n<e.length;n++){const r=$(e[n]);if(Array.isArray(r)){if(0===r.length)throw new D(900,!1);let s,c=ye.Default;for(let f=0;f<r.length;f++){const g=r[f],m=Q2(g);"number"==typeof m?-1===m?s=g.token:c|=m:s=g}t.push(Qe(s,c))}else t.push(Qe(r))}return t}function Q2(e){return e.__NG_DI_FLAG__}var Cn=(()=>((Cn=Cn||{})[Cn.Important=1]="Important",Cn[Cn.DashCase=2]="DashCase",Cn))();const _l=new Map;let hm=0;const wl="__ngContext__";function rn(e,t){M(t)?(e[wl]=t[20],function pm(e){_l.set(e[20],e)}(t)):e[wl]=t}function Cl(e,t){return undefined(e,t)}function os(e){const t=e[3];return N(t)?t[3]:t}function Al(e){return o0(e[13])}function bl(e){return o0(e[4])}function o0(e){for(;null!==e&&!N(e);)e=e[4];return e}function Ji(e,t,n,r,s){if(null!=r){let c,f=!1;N(r)?c=r:M(r)&&(f=!0,r=r[0]);const g=Ot(r);0===e&&null!==n?null==s?d0(t,n,g):Ei(t,n,g,s||null,!0):1===e&&null!==n?Ei(t,n,g,s||null,!0):2===e?function Nl(e,t,n){const r=function wa(e,t){return e.parentNode(t)}(e,t);r&&function Bm(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,g,f):3===e&&t.destroyNode(g),null!=c&&function Um(e,t,n,r,s){const c=n[7];c!==Ot(n)&&Ji(t,e,r,c,s);for(let g=I;g<n.length;g++){const m=n[g];ss(m[1],m,e,t,r,c)}}(t,e,c,n,s)}}function Il(e,t,n){return e.createElement(t,n)}function a0(e,t){const n=e[9],r=n.indexOf(t),s=t[3];512&t[2]&&(t[2]&=-513,Xc(s,-1)),n.splice(r,1)}function vl(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function Fm(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const s=t[n[r]];if(!(s instanceof Yo)){const c=n[r+1];if(Array.isArray(c))for(let f=0;f<c.length;f+=2){const g=s[c[f]],m=c[f+1];try{m.call(g)}finally{}}else try{c.call(s)}finally{}}}}(e,t),function Pm(e,t){const n=e.cleanup,r=t[7];let s=-1;if(null!==n)for(let c=0;c<n.length-1;c+=2)if("string"==typeof n[c]){const f=n[c+1],g="function"==typeof f?f(t):Ot(t[f]),m=r[s=n[c+2]],x=n[c+3];"boolean"==typeof x?g.removeEventListener(n[c],m,x):x>=0?r[s=x]():r[s=-x].unsubscribe(),c+=2}else{const f=r[s=n[c+1]];n[c].call(f)}if(null!==r){for(let c=s+1;c<r.length;c++)(0,r[c])();t[7]=null}}(e,t),1===t[1].type&&t[11].destroy();const n=t[17];if(null!==n&&N(t[3])){n!==t[3]&&a0(n,t);const r=t[19];null!==r&&r.detachView(e)}!function xm(e){_l.delete(e[20])}(t)}}function l0(e,t,n){return function u0(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const s=e.data[r.directiveStart].encapsulation;if(s===Sn.None||s===Sn.Emulated)return null}return Tn(r,n)}(e,t.parent,n)}function Ei(e,t,n,r,s){e.insertBefore(t,n,r,s)}function d0(e,t,n){e.appendChild(t,n)}function f0(e,t,n,r,s){null!==r?Ei(e,t,n,r,s):d0(e,t,n)}let Pl,p0=function g0(e,t,n){return 40&e.type?Tn(e,n):null};function Ea(e,t,n,r){const s=l0(e,r,t),c=t[11],g=function h0(e,t,n){return p0(e,t,n)}(r.parent||t[6],r,t);if(null!=s)if(Array.isArray(n))for(let m=0;m<n.length;m++)f0(c,s,n[m],g,!1);else f0(c,s,n,g,!1)}function m0(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Ol(e,t,n,r,s,c,f){for(;null!=n;){const g=r[n.index],m=n.type;if(f&&0===t&&(g&&rn(Ot(g),r),n.flags|=4),64!=(64&n.flags))if(8&m)Ol(e,t,n.child,r,s,c,!1),Ji(t,e,s,g,c);else if(32&m){const x=Cl(n,r);let E;for(;E=x();)Ji(t,e,s,E,c);Ji(t,e,s,g,c)}else 16&m?_0(e,t,r,n,s,c):Ji(t,e,s,g,c);n=f?n.projectionNext:n.next}}function ss(e,t,n,r,s,c){Ol(n,r,e.firstChild,t,s,c,!1)}function _0(e,t,n,r,s,c){const f=n[16],m=f[6].projection[r.projection];if(Array.isArray(m))for(let x=0;x<m.length;x++)Ji(t,e,s,m[x],c);else Ol(e,t,m,f[3],s,c,!0)}function y0(e,t,n){e.setAttribute(t,"style",n)}function Rl(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}const R0=new Re("ENVIRONMENT_INITIALIZER"),L0=new Re("INJECTOR",-1),P0=new Re("INJECTOR_DEF_TYPES");class F0{get(t,n=Jo){if(n===Jo){const r=new Error(`NullInjectorError: No provider for ${xe(t)}!`);throw r.name="NullInjectorError",r}return n}}function p_(...e){return{\u0275providers:B0(0,e)}}function B0(e,...t){const n=[],r=new Set;let s;return Mr(t,c=>{const f=c;jl(f,n,[],r)&&(s||(s=[]),s.push(f))}),void 0!==s&&k0(s,n),n}function k0(e,t){for(let n=0;n<e.length;n++){const{providers:s}=e[n];Mr(s,c=>{t.push(c)})}}function jl(e,t,n,r){if(!(e=$(e)))return!1;let s=null,c=Uo(e);const f=!c&&Xe(e);if(c||f){if(f&&!f.standalone)return!1;s=e}else{const m=e.ngModule;if(c=Uo(m),!c)return!1;s=m}const g=r.has(s);if(f){if(g)return!1;if(r.add(s),f.dependencies){const m="function"==typeof f.dependencies?f.dependencies():f.dependencies;for(const x of m)jl(x,t,n,r)}}else{if(!c)return!1;{if(null!=c.imports&&!g){let x;r.add(s);try{Mr(c.imports,E=>{jl(E,t,n,r)&&(x||(x=[]),x.push(E))})}finally{}void 0!==x&&k0(x,t)}if(!g){const x=wi(s)||(()=>new s);t.push({provide:s,useFactory:x,deps:fe},{provide:P0,useValue:s,multi:!0},{provide:R0,useValue:()=>Qe(s),multi:!0})}const m=c.providers;null==m||g||Mr(m,E=>{t.push(E)})}}return s!==e&&void 0!==e.providers}const x_=Pe({provide:String,useValue:Pe});function Hl(e){return null!==e&&"object"==typeof e&&x_ in e}function Ai(e){return"function"==typeof e}const Gl=new Re("Set Injector scope."),Ia={},__={};let zl;function Sa(){return void 0===zl&&(zl=new F0),zl}class eo{}class j0 extends eo{constructor(t,n,r,s){super(),this.parent=n,this.source=r,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yl(t,f=>this.processProvider(f)),this.records.set(L0,to(void 0,this)),s.has("environment")&&this.records.set(eo,to(void 0,this));const c=this.records.get(Gl);null!=c&&"string"==typeof c.value&&this.scopes.add(c.value),this.injectorDefTypes=new Set(this.get(P0.multi,fe,ye.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=$i(this),r=Qt(void 0);try{return t()}finally{$i(n),Qt(r)}}get(t,n=Jo,r=ye.Default){this.assertNotDestroyed();const s=$i(this),c=Qt(void 0);try{if(!(r&ye.SkipSelf)){let g=this.records.get(t);if(void 0===g){const m=function A_(e){return"function"==typeof e||"object"==typeof e&&e instanceof Re}(t)&&sr(t);g=m&&this.injectableDefInScope(m)?to(Wl(t),Ia):null,this.records.set(t,g)}if(null!=g)return this.hydrate(t,g)}return(r&ye.Self?Sa():this.parent).get(t,n=r&ye.Optional&&n===Jo?null:n)}catch(f){if("NullInjectorError"===f.name){if((f[pa]=f[pa]||[]).unshift(xe(t)),s)throw f;return function q2(e,t,n,r){const s=e[pa];throw t[Bf]&&s.unshift(t[Bf]),e.message=function $2(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let s=xe(t);if(Array.isArray(t))s=t.map(xe).join(" -> ");else if("object"==typeof t){let c=[];for(let f in t)if(t.hasOwnProperty(f)){let g=t[f];c.push(f+":"+("string"==typeof g?JSON.stringify(g):xe(g)))}s=`{${c.join(", ")}}`}return`${n}${r?"("+r+")":""}[${s}]: ${e.replace(W2,"\n  ")}`}("\n"+e.message,s,n,r),e.ngTokenPath=s,e[pa]=null,e}(f,t,"R3InjectorError",this.source)}throw f}finally{Qt(c),$i(s)}}resolveInjectorInitializers(){const t=$i(this),n=Qt(void 0);try{const r=this.get(R0.multi,fe,ye.Self);for(const s of r)s()}finally{$i(t),Qt(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(xe(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new D(205,!1)}processProvider(t){let n=Ai(t=$(t))?t:$(t&&t.provide);const r=function w_(e){return Hl(e)?to(void 0,e.useValue):to(function H0(e,t,n){let r;if(Ai(e)){const s=$(e);return wi(s)||Wl(s)}if(Hl(e))r=()=>$(e.useValue);else if(function U0(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...hl(e.deps||[]));else if(function V0(e){return!(!e||!e.useExisting)}(e))r=()=>Qe($(e.useExisting));else{const s=$(e&&(e.useClass||e.provide));if(!function E_(e){return!!e.deps}(e))return wi(s)||Wl(s);r=()=>new s(...hl(e.deps))}return r}(e),Ia)}(t);if(Ai(t)||!0!==t.multi)this.records.get(n);else{let s=this.records.get(n);s||(s=to(void 0,Ia,!0),s.factory=()=>hl(s.multi),this.records.set(n,s)),n=t,s.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Ia&&(n.value=__,n.value=n.factory()),"object"==typeof n.value&&n.value&&function C_(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=$(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Wl(e){const t=sr(e),n=null!==t?t.factory:wi(e);if(null!==n)return n;if(e instanceof Re)throw new D(204,!1);if(e instanceof Function)return function y_(e){const t=e.length;if(t>0)throw function Ko(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new D(204,!1);const n=function kc(e){const t=e&&(e[gi]||e[$s]);if(t){const n=function en(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new D(204,!1)}function to(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function b_(e){return!!e.\u0275providers}function Yl(e,t){for(const n of e)Array.isArray(n)?Yl(n,t):b_(n)?Yl(n.\u0275providers,t):t(n)}class G0{}class S_{resolveComponentFactory(t){throw function I_(e){const t=Error(`No component factory found for ${xe(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let va=(()=>{class e{}return e.NULL=new S_,e})();function v_(){return no(Vt(),H())}function no(e,t){return new ro(Tn(e,t))}let ro=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=v_,e})();class W0{}let N_=(()=>{class e{}return e.\u0275prov=ct({token:e,providedIn:"root",factory:()=>null}),e})();class Xl{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const O_=new Xl("14.2.12"),Zl={};function ql(e){return e.ngOriginalError}class io{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&ql(t);for(;n&&ql(n);)n=ql(n);return n||null}}function Z0(e,t,n){let r=e.length;for(;;){const s=e.indexOf(t,n);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const c=t.length;if(s+c===r||e.charCodeAt(s+c)<=32)return s}n=s+1}}const Q0="ng-template";function G_(e,t,n){let r=0;for(;r<e.length;){let s=e[r++];if(n&&"class"===s){if(s=e[r],-1!==Z0(s.toLowerCase(),t,0))return!0}else if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function q0(e){return 4===e.type&&e.value!==Q0}function z_(e,t,n){return t===(4!==e.type||n?e.value:Q0)}function W_(e,t,n){let r=4;const s=e.attrs||[],c=function Z_(e){for(let t=0;t<e.length;t++)if(yf(e[t]))return t;return e.length}(s);let f=!1;for(let g=0;g<t.length;g++){const m=t[g];if("number"!=typeof m){if(!f)if(4&r){if(r=2|1&r,""!==m&&!z_(e,m,n)||""===m&&1===t.length){if(Zn(r))return!1;f=!0}}else{const x=8&r?m:t[++g];if(8&r&&null!==e.attrs){if(!G_(e.attrs,x,n)){if(Zn(r))return!1;f=!0}continue}const A=Y_(8&r?"class":m,s,q0(e),n);if(-1===A){if(Zn(r))return!1;f=!0;continue}if(""!==x){let S;S=A>c?"":s[A+1].toLowerCase();const T=8&r?S:null;if(T&&-1!==Z0(T,x,0)||2&r&&x!==S){if(Zn(r))return!1;f=!0}}}}else{if(!f&&!Zn(r)&&!Zn(m))return!1;if(f&&Zn(m))continue;f=!1,r=m|1&r}}return Zn(r)||f}function Zn(e){return 0==(1&e)}function Y_(e,t,n,r){if(null===t)return-1;let s=0;if(r||!n){let c=!1;for(;s<t.length;){const f=t[s];if(f===e)return s;if(3===f||6===f)c=!0;else{if(1===f||2===f){let g=t[++s];for(;"string"==typeof g;)g=t[++s];continue}if(4===f)break;if(0===f){s+=4;continue}}s+=c?1:2}return-1}return function Q_(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function $0(e,t,n=!1){for(let r=0;r<t.length;r++)if(W_(e,t[r],n))return!0;return!1}function K0(e,t){return e?":not("+t.trim()+")":t}function $_(e){let t=e[0],n=1,r=2,s="",c=!1;for(;n<e.length;){let f=e[n];if("string"==typeof f)if(2&r){const g=e[++n];s+="["+f+(g.length>0?'="'+g+'"':"")+"]"}else 8&r?s+="."+f:4&r&&(s+=" "+f);else""!==s&&!Zn(f)&&(t+=K0(c,s),s=""),r=f,c=c||!Zn(r);n++}return""!==s&&(t+=K0(c,s)),t}const Ae={};function rh(e,t=null,n=null,r){const s=ih(e,t,n,r);return s.resolveInjectorInitializers(),s}function ih(e,t=null,n=null,r,s=new Set){const c=[n||fe,p_(e)];return r=r||("object"==typeof e?void 0:xe(e)),new j0(c,t||Sa(),r||null,s)}let bi=(()=>{class e{static create(n,r){if(Array.isArray(n))return rh({name:""},r,n,"");{const s=n.name??"";return rh({name:s},n.parent,n.providers,s)}}}return e.THROW_IF_NOT_FOUND=Jo,e.NULL=new F0,e.\u0275prov=ct({token:e,providedIn:"any",factory:()=>Qe(L0)}),e.__NG_ELEMENT_ID__=-1,e})();function Ne(e,t=ye.Default){const n=H();return null===n?Qe(e,t):Sf(Vt(),n,$(e),t)}function Eh(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r],c=n[r+1];if(-1!==c){const f=e.data[c];Kc(s),f.contentQueries(2,t[c],c)}}}function Ra(e,t,n,r,s,c,f,g,m,x,E){const A=t.blueprint.slice();return A[0]=s,A[2]=76|r,(null!==E||e&&1024&e[2])&&(A[2]|=1024),of(A),A[3]=A[15]=e,A[8]=n,A[10]=f||e&&e[10],A[11]=g||e&&e[11],A[12]=m||e&&e[12]||null,A[9]=x||e&&e[9]||null,A[6]=c,A[20]=function gm(){return hm++}(),A[21]=E,A[16]=2==t.type?e[16]:A,A}function ao(e,t,n,r,s){let c=e.data[t];if(null===c)c=function du(e,t,n,r,s){const c=cf(),f=Zc(),m=e.data[t]=function Py(e,t,n,r,s,c){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?c:c&&c.parent,n,t,r,s);return null===e.firstChild&&(e.firstChild=m),null!==c&&(f?null==c.child&&null!==m.parent&&(c.child=m):null===c.next&&(c.next=m)),m}(e,t,n,r,s),function c2(){return Ee.lFrame.inI18n}()&&(c.flags|=64);else if(64&c.type){c.type=n,c.value=r,c.attrs=s;const f=function Wo(){const e=Ee.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();c.injectorIndex=null===f?-1:f.injectorIndex}return ur(c,!0),c}function co(e,t,n,r){if(0===n)return-1;const s=t.length;for(let c=0;c<n;c++)t.push(r),e.blueprint.push(r),e.data.push(null);return s}function fu(e,t,n){Jc(t);try{const r=e.viewQuery;null!==r&&wu(1,r,n);const s=e.template;null!==s&&Ch(e,t,s,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Eh(e,t),e.staticViewQueries&&wu(2,e.viewQuery,n);const c=e.components;null!==c&&function Oy(e,t){for(let n=0;n<t.length;n++)$y(e,t[n])}(t,c)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,el()}}function La(e,t,n,r){const s=t[2];if(128!=(128&s)){Jc(t);try{of(t),function uf(e){return Ee.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Ch(e,t,n,2,r);const f=3==(3&s);if(f){const x=e.preOrderCheckHooks;null!==x&&oa(t,x,null)}else{const x=e.preOrderHooks;null!==x&&sa(t,x,0,null),tl(t,0)}if(function Qy(e){for(let t=Al(e);null!==t;t=bl(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const s=n[r],c=s[3];0==(512&s[2])&&Xc(c,1),s[2]|=512}}}(t),function Zy(e){for(let t=Al(e);null!==t;t=bl(t))for(let n=I;n<t.length;n++){const r=t[n],s=r[1];ra(r)&&La(s,r,s.template,r[8])}}(t),null!==e.contentQueries&&Eh(e,t),f){const x=e.contentCheckHooks;null!==x&&oa(t,x)}else{const x=e.contentHooks;null!==x&&sa(t,x,1),tl(t,1)}!function My(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const s=n[r];if(s<0)ei(~s);else{const c=s,f=n[++r],g=n[++r];l2(f,c),g(2,t[c])}}}finally{ei(-1)}}(e,t);const g=e.components;null!==g&&function Ny(e,t){for(let n=0;n<t.length;n++)qy(e,t[n])}(t,g);const m=e.viewQuery;if(null!==m&&wu(2,m,r),f){const x=e.viewCheckHooks;null!==x&&oa(t,x)}else{const x=e.viewHooks;null!==x&&sa(t,x,2),tl(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,Xc(t[3],-1))}finally{el()}}}function Ch(e,t,n,r,s){const c=function gn(){return Ee.lFrame.selectedIndex}(),f=2&r;try{ei(-1),f&&t.length>u&&function J0(e,t,n,r){if(!r)if(3==(3&t[2])){const c=e.preOrderCheckHooks;null!==c&&oa(t,c,n)}else{const c=e.preOrderHooks;null!==c&&sa(t,c,0,n)}ei(n)}(e,t,u,!1),n(r,s)}finally{ei(c)}}function bh(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=pu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function pu(e,t,n,r,s,c,f,g,m,x){const E=u+r,A=E+s,S=function Ry(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Ae);return n}(E,A),T="function"==typeof x?x():x;return S[1]={type:e,blueprint:S,template:n,queries:null,viewQuery:g,declTNode:t,data:S.slice().fill(null,E),bindingStartIndex:E,expandoStartIndex:A,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:m,consts:T,incompleteFirstPass:!1}}function Ih(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const s=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,s):n[r]=[t,s]}return n}function Sh(e,t){const r=t.directiveEnd,s=e.data,c=t.attrs,f=[];let g=null,m=null;for(let x=t.directiveStart;x<r;x++){const E=s[x],A=E.inputs,S=null===c||q0(t)?null:Xy(A,c);f.push(S),g=Ih(A,x,g),m=Ih(E.outputs,x,m)}null!==g&&(g.hasOwnProperty("class")&&(t.flags|=16),g.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=f,t.inputs=g,t.outputs=m}function Th(e,t,n,r,s,c){const f=c.hostBindings;if(f){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const m=~t.index;(function Vy(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(g)!=m&&g.push(m),g.push(r,s,f)}}function Mh(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Nh(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function zy(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;B(t)&&(n[""]=e)}}function Oh(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Rh(e,t,n,r,s){e.data[r]=s;const c=s.factory||(s.factory=wi(s.type)),f=new Yo(c,B(s),Ne);e.blueprint[r]=f,n[r]=f,Th(e,t,0,r,co(e,n,s.hostVars,Ae),s)}function Wy(e,t,n){const r=Tn(t,e),s=bh(n),c=e[10],f=Pa(e,Ra(e,s,null,n.onPush?32:16,r,t,c,c.createRenderer(r,n),null,null,null));e[t.index]=f}function Yy(e,t,n,r,s,c){const f=c[t];if(null!==f){const g=r.setInput;for(let m=0;m<f.length;){const x=f[m++],E=f[m++],A=f[m++];null!==g?r.setInput(n,A,x,E):n[E]=A}}}function Xy(e,t){let n=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;e.hasOwnProperty(s)&&(null===n&&(n=[]),n.push(s,e[s],t[r+1])),r+=2}else r+=2;else r+=4}return n}function qy(e,t){const n=Mn(t,e);if(ra(n)){const r=n[1];48&n[2]?La(r,n,r.template,n[8]):n[5]>0&&_u(n)}}function _u(e){for(let r=Al(e);null!==r;r=bl(r))for(let s=I;s<r.length;s++){const c=r[s];if(ra(c))if(512&c[2]){const f=c[1];La(f,c,f.template,c[8])}else c[5]>0&&_u(c)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const s=Mn(n[r],e);ra(s)&&s[5]>0&&_u(s)}}function $y(e,t){const n=Mn(t,e),r=n[1];(function Ky(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),fu(r,n,n[8])}function Pa(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function yu(e){for(;e;){e[2]|=32;const t=os(e);if(Me(e)&&!t)return e;e=t}return null}function Fa(e,t,n,r=!0){const s=t[10];s.begin&&s.begin();try{La(e,t,e.template,n)}catch(f){throw r&&kh(t,f),f}finally{s.end&&s.end()}}function wu(e,t,n){Kc(0),t(e,n)}function Ph(e){return e[7]||(e[7]=[])}function Fh(e){return e.cleanup||(e.cleanup=[])}function kh(e,t){const n=e[9],r=n?n.get(io,null):null;r&&r.handleError(t)}function Eu(e,t,n,r,s){for(let c=0;c<n.length;){const f=n[c++],g=n[c++],m=t[f],x=e.data[f];null!==x.setInput?x.setInput(m,s,r,g):m[g]=s}}function Ba(e,t,n){let r=n?e.styles:null,s=n?e.classes:null,c=0;if(null!==t)for(let f=0;f<t.length;f++){const g=t[f];"number"==typeof g?c=g:1==c?s=Xr(s,g):2==c&&(r=Xr(r,g+": "+t[++f]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=s:e.classesWithoutHost=s}function ka(e,t,n,r,s=!1){for(;null!==n;){const c=t[n.index];if(null!==c&&r.push(Ot(c)),N(c))for(let g=I;g<c.length;g++){const m=c[g],x=m[1].firstChild;null!==x&&ka(m[1],m,x,r)}const f=n.type;if(8&f)ka(e,t,n.child,r);else if(32&f){const g=Cl(n,t);let m;for(;m=g();)r.push(m)}else if(16&f){const g=m0(t,n);if(Array.isArray(g))r.push(...g);else{const m=os(t[16]);ka(m[1],m,g,r,!0)}}n=s?n.projectionNext:n.next}return r}class Jy extends class us{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return ka(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(N(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(function Sl(e,t){if(e.length<=I)return;const n=I+t,r=e[n];if(r){const s=r[17];null!==s&&s!==e&&a0(s,r),t>0&&(e[n-1][4]=r[4]);const c=ha(e,I+t);!function Tm(e,t){ss(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const f=c[19];null!==f&&f.detachView(c[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}(t,r),ha(n,r))}this._attachedToViewContainer=!1}!function c0(e,t){if(!(128&t[2])){const n=t[11];n.destroyNode&&ss(e,t,n,3,null,null),function Om(e){let t=e[13];if(!t)return vl(e[1],e);for(;t;){let n=null;if(M(t))n=t[13];else{const r=t[I];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)M(t)&&vl(t[1],t),t=t[3];null===t&&(t=e),M(t)&&vl(t[1],t),n=t&&t[4]}t=n}}(t)}}(this._lView[1],this._lView)}onDestroy(t){!function Dh(e,t,n,r){const s=Ph(t);null===n?s.push(r):(s.push(n),e.firstCreatePass&&Fh(e).push(r,s.length-1))}(this._lView[1],this._lView,null,t)}markForCheck(){yu(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Fa(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Nm(e,t){ss(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=t}}{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Fa(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class Cu extends va{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Xe(t);return new ds(n,this.ngModule)}}function Vh(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class tw{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){const s=this.injector.get(t,Zl,r);return s!==Zl||n===Zl?s:this.parentInjector.get(t,n,r)}}class ds extends G0{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function K_(e){return e.map($_).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Vh(this.componentDef.inputs)}get outputs(){return Vh(this.componentDef.outputs)}create(t,n,r,s){let c=(s=s||this.ngModule)instanceof eo?s:s?.injector;c&&null!==this.componentDef.getStandaloneInjector&&(c=this.componentDef.getStandaloneInjector(c)||c);const f=c?new tw(t,c):t,g=f.get(W0,null);if(null===g)throw new D(407,!1);const m=f.get(N_,null),x=g.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",A=r?function Ly(e,t,n){return e.selectRootElement(t,n===Sn.ShadowDom)}(x,r,this.componentDef.encapsulation):Il(x,E,function ew(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(E)),S=this.componentDef.onPush?288:272,T=pu(0,null,null,1,0,null,null,null,null,null),O=Ra(null,T,null,S,null,null,g,x,m,f,null);let F,k;Jc(O);try{const G=function iw(e,t,n,r,s,c){const f=n[1];n[22]=e;const m=ao(f,22,2,"#host",null),x=m.mergedAttrs=t.hostAttrs;null!==x&&(Ba(m,x,!0),null!==e&&(aa(s,e,x),null!==m.classes&&Rl(s,e,m.classes),null!==m.styles&&y0(s,e,m.styles)));const E=r.createRenderer(e,t),A=Ra(n,bh(t),null,t.onPush?32:16,n[22],m,r,E,c||null,null,null);return f.firstCreatePass&&(da(Zo(m,n),f,t.type),Nh(f,m),Oh(m,n.length,1)),Pa(n,A),n[22]=A}(A,this.componentDef,O,g,x);if(A)if(r)aa(x,A,["ng-version",O_.full]);else{const{attrs:q,classes:U}=function J_(e){const t=[],n=[];let r=1,s=2;for(;r<e.length;){let c=e[r];if("string"==typeof c)2===s?""!==c&&t.push(c,e[++r]):8===s&&n.push(c);else{if(!Zn(s))break;s=c}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);q&&aa(x,A,q),U&&U.length>0&&Rl(x,A,U.join(" "))}if(k=function Yc(e,t){return e.data[t]}(T,u),void 0!==n){const q=k.projection=[];for(let U=0;U<this.ngContentSelectors.length;U++){const ie=n[U];q.push(null!=ie?Array.from(ie):null)}}F=function ow(e,t,n,r){const s=n[1],c=function ky(e,t,n){const r=Vt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Rh(e,r,t,co(e,t,1,null),n),Sh(e,r));const s=Qo(t,e,r.directiveStart,r);rn(s,t);const c=Tn(r,t);return c&&rn(c,t),s}(s,n,t);if(e[8]=n[8]=c,null!==r)for(const g of r)g(c,t);if(t.contentQueries){const g=Vt();t.contentQueries(1,c,g.directiveStart)}const f=Vt();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(ei(f.index),Th(n[1],f,0,f.directiveStart,f.directiveEnd,t),Mh(t,c)),c}(G,this.componentDef,O,[sw]),fu(T,O,null)}finally{el()}return new rw(this.componentType,F,no(k,O),O,k)}}class rw extends class D_{}{constructor(t,n,r,s,c){super(),this.location=r,this._rootLView=s,this._tNode=c,this.instance=n,this.hostView=this.changeDetectorRef=new Jy(s),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let s;if(null!==r&&(s=r[t])){const c=this._rootLView;Eu(c[1],c,s,t,n),function vh(e,t){const n=Mn(t,e);16&n[2]||(n[2]|=32)}(c,this._tNode.index)}}get injector(){return new Wi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function sw(){const e=Vt();ia(H()[1],e)}function Du(e,t,n,r,s){const f=s?"class":"style";Eu(e,n,t.inputs[f],f,r)}function ja(e,t,n,r){const s=H(),c=Ue(),f=u+e,g=s[11],m=s[f]=Il(g,t,function _2(){return Ee.lFrame.currentNamespace}()),x=c.firstCreatePass?function Cw(e,t,n,r,s,c,f){const g=t.consts,x=ao(t,e,2,s,Jr(g,c));return function xu(e,t,n,r){let s=!1;if(af()){const c=function Hy(e,t,n){const r=e.directiveRegistry;let s=null;if(r)for(let c=0;c<r.length;c++){const f=r[c];$0(n,f.selectors,!1)&&(s||(s=[]),da(Zo(n,t),e,f.type),B(f)?(Nh(e,n),s.unshift(f)):s.push(f))}return s}(e,t,n),f=null===r?null:{"":-1};if(null!==c){s=!0,Oh(n,e.data.length,c.length);for(let E=0;E<c.length;E++){const A=c[E];A.providersResolver&&A.providersResolver(A)}let g=!1,m=!1,x=co(e,t,c.length,null);for(let E=0;E<c.length;E++){const A=c[E];n.mergedAttrs=ca(n.mergedAttrs,A.hostAttrs),Rh(e,n,t,x,A),zy(x,A,f),null!==A.contentQueries&&(n.flags|=8),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(n.flags|=128);const S=A.type.prototype;!g&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),g=!0),!m&&(S.ngOnChanges||S.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),m=!0),x++}Sh(e,n)}f&&function Gy(e,t,n){if(t){const r=e.localNames=[];for(let s=0;s<t.length;s+=2){const c=n[t[s+1]];if(null==c)throw new D(-301,!1);r.push(t[s],c)}}}(n,r,f)}return n.mergedAttrs=ca(n.mergedAttrs,n.attrs),s}(t,n,x,Jr(g,f)),null!==x.attrs&&Ba(x,x.attrs,!1),null!==x.mergedAttrs&&Ba(x,x.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,x),x}(f,c,s,0,t,n,r):c.data[f];ur(x,!0);const E=x.mergedAttrs;null!==E&&aa(g,m,E);const A=x.classes;null!==A&&Rl(g,m,A);const S=x.styles;return null!==S&&y0(g,m,S),64!=(64&x.flags)&&Ea(c,s,m,x),0===function e2(){return Ee.lFrame.elementDepthCount}()&&rn(m,s),function t2(){Ee.lFrame.elementDepthCount++}(),Z(x)&&(function hu(e,t,n){!af()||(function Uy(e,t,n,r){const s=n.directiveStart,c=n.directiveEnd;e.firstCreatePass||Zo(n,t),rn(r,t);const f=n.initialInputs;for(let g=s;g<c;g++){const m=e.data[g],x=B(m);x&&Wy(t,n,m);const E=Qo(t,e,g,n);rn(E,t),null!==f&&Yy(0,g-s,E,m,0,f),x&&(Mn(n.index,t)[8]=E)}}(e,t,n,Tn(n,t)),128==(128&n.flags)&&function jy(e,t,n){const r=n.directiveStart,s=n.directiveEnd,c=n.index,f=function u2(){return Ee.lFrame.currentDirectiveIndex}();try{ei(c);for(let g=r;g<s;g++){const m=e.data[g],x=t[g];qc(g),(null!==m.hostBindings||0!==m.hostVars||null!==m.hostAttrs)&&Mh(m,x)}}finally{ei(-1),qc(f)}}(e,t,n))}(c,s,x),function Ah(e,t,n){if(L(t)){const s=t.directiveEnd;for(let c=t.directiveStart;c<s;c++){const f=e.data[c];f.contentQueries&&f.contentQueries(1,n[c],c)}}}(c,x,s)),null!==r&&function gu(e,t,n=Tn){const r=t.localNames;if(null!==r){let s=t.index+1;for(let c=0;c<r.length;c+=2){const f=r[c+1],g=-1===f?n(t,e):e[f];e[s++]=g}}}(s,x),ja}function Ha(){let e=Vt();Zc()?function Qc(){Ee.lFrame.isParent=!1}():(e=e.parent,ur(e,!1));const t=e;!function n2(){Ee.lFrame.elementDepthCount--}();const n=Ue();return n.firstCreatePass&&(ia(n,e),L(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function A2(e){return 0!=(16&e.flags)}(t)&&Du(n,t,H(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function b2(e){return 0!=(32&e.flags)}(t)&&Du(n,t,H(),t.stylesWithoutHost,!1),Ha}function Ga(e,t,n,r){return ja(e,t,n,r),Ha(),Ga}function vu(e){return!!e&&"function"==typeof e.then}const Dw=function e1(e){return!!e&&"function"==typeof e.subscribe};function Tu(e,t,n,r){const s=H(),c=Ue(),f=Vt();return function n1(e,t,n,r,s,c,f,g){const m=Z(r),E=e.firstCreatePass&&Fh(e),A=t[8],S=Ph(t);let T=!0;if(3&r.type||g){const k=Tn(r,t),G=g?g(k):k,q=S.length,U=g?De=>g(Ot(De[r.index])):r.index;let ie=null;if(!g&&m&&(ie=function Iw(e,t,n,r){const s=e.cleanup;if(null!=s)for(let c=0;c<s.length-1;c+=2){const f=s[c];if(f===n&&s[c+1]===r){const g=t[7],m=s[c+2];return g.length>m?g[m]:null}"string"==typeof f&&(c+=2)}return null}(e,t,s,r.index)),null!==ie)(ie.__ngLastListenerFn__||ie).__ngNextListenerFn__=c,ie.__ngLastListenerFn__=c,T=!1;else{c=i1(r,t,A,c,!1);const De=n.listen(G,s,c);S.push(c,De),E&&E.push(s,U,q,q+1)}}else c=i1(r,t,A,c,!1);const O=r.outputs;let F;if(T&&null!==O&&(F=O[s])){const k=F.length;if(k)for(let G=0;G<k;G+=2){const st=t[F[G]][F[G+1]].subscribe(c),Ti=S.length;S.push(c,st),E&&E.push(s,r.index,Ti,-(Ti+1))}}}(c,s,s[11],f,e,t,0,r),Tu}function r1(e,t,n,r){try{return!1!==n(r)}catch(s){return kh(e,s),!1}}function i1(e,t,n,r,s){return function c(f){if(f===Function)return r;yu(2&e.flags?Mn(e.index,t):t);let m=r1(t,0,r,f),x=c.__ngNextListenerFn__;for(;x;)m=r1(t,0,x,f)&&m,x=x.__ngNextListenerFn__;return s&&!1===m&&(f.preventDefault(),f.returnValue=!1),m}}const Eo="en-US";let K1=Eo;class Co{}class bg extends Co{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Cu(this);const r=function dn(e,t){const n=e[pi]||null;if(!n&&!0===t)throw new Error(`Type ${xe(e)} does not have '\u0275mod' property.`);return n}(t);this._bootstrapComponents=function Or(e){return e instanceof Function?e():e}(r.bootstrap),this._r3Injector=ih(t,n,[{provide:Co,useValue:this},{provide:va,useValue:this.componentFactoryResolver}],xe(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Vu extends class gC{}{constructor(t){super(),this.moduleType=t}create(t){return new bg(this.moduleType,t)}}function ju(e){return t=>{setTimeout(e,void 0,t)}}const Pr=class zC extends Bt{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let s=t,c=n||(()=>null),f=r;if(t&&"object"==typeof t){const m=t;s=m.next?.bind(m),c=m.error?.bind(m),f=m.complete?.bind(m)}this.__isAsync&&(c=ju(c),s&&(s=ju(s)),f&&(f=ju(f)));const g=super.subscribe({next:s,error:c,complete:f});return t instanceof Fn&&t.add(g),g}};function $a(...e){}const lp=new Re("Application Initializer");let Ka=(()=>{class e{constructor(n){this.appInits=n,this.resolve=$a,this.reject=$a,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,s)=>{this.resolve=r,this.reject=s})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const c=this.appInits[s]();if(vu(c))n.push(c);else if(Dw(c)){const f=new Promise((g,m)=>{c.subscribe({complete:g,error:m})});n.push(f)}}Promise.all(n).then(()=>{r()}).catch(s=>{this.reject(s)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Qe(lp,8))},e.\u0275prov=ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const As=new Re("AppId",{providedIn:"root",factory:function up(){return`${Ju()}${Ju()}${Ju()}`}});function Ju(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const dp=new Re("Platform Initializer"),fp=new Re("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),TA=new Re("appBootstrapListener"),Br=new Re("LocaleId",{providedIn:"root",factory:()=>function Z2(e,t=ye.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),Qe(e,t)}(Br,ye.Optional|ye.SkipSelf)||function MA(){return typeof $localize<"u"&&$localize.locale||Eo}()}),PA=(()=>Promise.resolve(0))();function ed(e){typeof Zone>"u"?PA.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class sn{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pr(!1),this.onMicrotaskEmpty=new Pr(!1),this.onStable=new Pr(!1),this.onError=new Pr(!1),typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();const s=this;if(s._nesting=0,s._outer=s._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const c=Zone.AsyncStackTaggingZoneSpec;s._inner=s._inner.fork(new c("Angular"))}Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&n,s.shouldCoalesceRunChangeDetection=r,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function FA(){let e=it.requestAnimationFrame,t=it.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function VA(e){const t=()=>{!function kA(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(it,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,nd(e),e.isCheckStableRunning=!0,td(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),nd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,s,c,f,g)=>{try{return pp(e),n.invokeTask(s,c,f,g)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||e.shouldCoalesceRunChangeDetection)&&t(),xp(e)}},onInvoke:(n,r,s,c,f,g,m)=>{try{return pp(e),n.invoke(s,c,f,g,m)}finally{e.shouldCoalesceRunChangeDetection&&t(),xp(e)}},onHasTask:(n,r,s,c)=>{n.hasTask(s,c),r===s&&("microTask"==c.change?(e._hasPendingMicrotasks=c.microTask,nd(e),td(e)):"macroTask"==c.change&&(e.hasPendingMacrotasks=c.macroTask))},onHandleError:(n,r,s,c)=>(n.handleError(s,c),e.runOutsideAngular(()=>e.onError.emit(c)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!sn.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(sn.isInAngularZone())throw new D(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,s){const c=this._inner,f=c.scheduleEventTask("NgZoneEvent: "+s,t,BA,$a,$a);try{return c.runTask(f,n,r)}finally{c.cancelTask(f)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const BA={};function td(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function nd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function pp(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function xp(e){e._nesting--,td(e)}class UA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pr,this.onMicrotaskEmpty=new Pr,this.onStable=new Pr,this.onError=new Pr}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,s){return t.apply(n,r)}}const mp=new Re(""),Ja=new Re("");let od,rd=(()=>{class e{constructor(n,r,s){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,od||(function jA(e){od=e}(s),s.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{sn.assertNotInAngularZone(),ed(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ed(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,s){let c=-1;r&&r>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==c),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:c,updateCb:s})}whenStable(n,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,s){return[]}}return e.\u0275fac=function(n){return new(n||e)(Qe(sn),Qe(id),Qe(Ja))},e.\u0275prov=ct({token:e,factory:e.\u0275fac}),e})(),id=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return od?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ct({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),oi=null;const _p=new Re("AllowMultipleToken"),sd=new Re("PlatformDestroyListeners");function wp(e,t,n=[]){const r=`Platform: ${t}`,s=new Re(r);return(c=[])=>{let f=ad();if(!f||f.injector.get(_p,!1)){const g=[...n,...c,{provide:s,useValue:!0}];e?e(g):function zA(e){if(oi&&!oi.get(_p,!1))throw new D(400,!1);oi=e;const t=e.get(Cp);(function yp(e){const t=e.get(dp,null);t&&t.forEach(n=>n())})(e)}(function Ep(e=[],t){return bi.create({name:t,providers:[{provide:Gl,useValue:"platform"},{provide:sd,useValue:new Set([()=>oi=null])},...e]})}(g,r))}return function YA(e){const t=ad();if(!t)throw new D(401,!1);return t}()}}function ad(){return oi?.get(Cp)??null}let Cp=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const s=function bp(e,t){let n;return n="noop"===e?new UA:("zone.js"===e?void 0:e)||new sn(t),n}(r?.ngZone,function Ap(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),c=[{provide:sn,useValue:s}];return s.run(()=>{const f=bi.create({providers:c,parent:this.injector,name:n.moduleType.name}),g=n.create(f),m=g.injector.get(io,null);if(!m)throw new D(402,!1);return s.runOutsideAngular(()=>{const x=s.onError.subscribe({next:E=>{m.handleError(E)}});g.onDestroy(()=>{ec(this._modules,g),x.unsubscribe()})}),function Dp(e,t,n){try{const r=n();return vu(r)?r.catch(s=>{throw t.runOutsideAngular(()=>e.handleError(s)),s}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(m,s,()=>{const x=g.injector.get(Ka);return x.runInitializers(),x.donePromise.then(()=>(function J1(e){Ze(e,"Expected localeId to be defined"),"string"==typeof e&&(K1=e.toLowerCase().replace(/_/g,"-"))}(g.injector.get(Br,Eo)||Eo),this._moduleDoBootstrap(g),g))})})}bootstrapModule(n,r=[]){const s=Ip({},r);return function HA(e,t,n){const r=new Vu(n);return Promise.resolve(r)}(0,0,n).then(c=>this.bootstrapModuleFactory(c,s))}_moduleDoBootstrap(n){const r=n.injector.get(cd);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(s=>r.bootstrap(s));else{if(!n.instance.ngDoBootstrap)throw new D(403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new D(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(sd,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Qe(bi))},e.\u0275prov=ct({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Ip(e,t){return Array.isArray(t)?t.reduce(Ip,e):{...e,...t}}let cd=(()=>{class e{constructor(n,r,s){this._zone=n,this._injector=r,this._exceptionHandler=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new pt(g=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{g.next(this._stable),g.complete()})}),f=new pt(g=>{let m;this._zone.runOutsideAngular(()=>{m=this._zone.onStable.subscribe(()=>{sn.assertNotInAngularZone(),ed(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,g.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{sn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{g.next(!1)}))});return()=>{m.unsubscribe(),x.unsubscribe()}});this.isStable=Bo(c,f.pipe(function ko(e={}){const{connector:t=(()=>new Bt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:s=!0}=e;return c=>{let f,g,m,x=0,E=!1,A=!1;const S=()=>{g?.unsubscribe(),g=void 0},T=()=>{S(),f=m=void 0,E=A=!1},O=()=>{const F=f;T(),F?.unsubscribe()};return nr((F,k)=>{x++,!A&&!E&&S();const G=m=m??t();k.add(()=>{x--,0===x&&!A&&!E&&(g=ht(O,s))}),G.subscribe(k),!f&&x>0&&(f=new Gn({next:q=>G.next(q),error:q=>{A=!0,S(),g=ht(T,n,q),G.error(q)},complete:()=>{E=!0,S(),g=ht(T,r),G.complete()}}),ln(F).subscribe(f))})(c)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const s=n instanceof G0;if(!this._injector.get(Ka).done)throw!s&&function Dr(e){const t=Xe(e)||$t(e)||Ct(e);return null!==t&&t.standalone}(n),new D(405,false);let f;f=s?n:this._injector.get(va).resolveComponentFactory(n),this.componentTypes.push(f.componentType);const g=function GA(e){return e.isBoundToModule}(f)?void 0:this._injector.get(Co),x=f.create(bi.NULL,[],r||f.selector,g),E=x.location.nativeElement,A=x.injector.get(mp,null);return A?.registerApplication(E),x.onDestroy(()=>{this.detachView(x.hostView),ec(this.components,x),A?.unregisterApplication(E)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new D(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;ec(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(TA,[]).concat(this._bootstrapListeners).forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ec(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new D(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(Qe(sn),Qe(eo),Qe(io))},e.\u0275prov=ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ec(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let vp=!0;const ub=wp(null,"core",[]);let db=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Qe(cd))},e.\u0275mod=xi({type:e}),e.\u0275inj=br({}),e})(),ic=null;function Ds(){return ic}const Vr=new Re("DocumentToken");let RD=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=xi({type:e}),e.\u0275inj=br({}),e})();class vd extends class nI extends class gb{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function hb(e){ic||(ic=e)}(new vd)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function rI(){return Ts=Ts||document.querySelector("base"),Ts?Ts.getAttribute("href"):null}();return null==n?null:function iI(e){pc=pc||document.createElement("a"),pc.setAttribute("href",e);const t=pc.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Ts=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Jb(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[s,c]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(s.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let pc,Ts=null;const ox=new Re("TRANSITION_ID"),sI=[{provide:lp,useFactory:function oI(e,t,n){return()=>{n.get(Ka).donePromise.then(()=>{const r=Ds(),s=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let c=0;c<s.length;c++)r.remove(s[c])})}},deps:[ox,Vr,bi],multi:!0}];let cI=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ct({token:e,factory:e.\u0275fac}),e})();const xc=new Re("EventManagerPlugins");let mc=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(s=>s.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,s){return this._findPluginFor(r).addEventListener(n,r,s)}addGlobalEventListener(n,r,s){return this._findPluginFor(r).addGlobalEventListener(n,r,s)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const s=this._plugins;for(let c=0;c<s.length;c++){const f=s[c];if(f.supports(n))return this._eventNameToPlugin.set(n,f),f}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(Qe(xc),Qe(sn))},e.\u0275prov=ct({token:e,factory:e.\u0275fac}),e})();class sx{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const s=Ds().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${n}`);return this.addEventListener(s,n,r)}}let ax=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),r.add(s))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ct({token:e,factory:e.\u0275fac}),e})(),Ms=(()=>{class e extends ax{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,s){n.forEach(c=>{const f=this._doc.createElement("style");f.textContent=c,s.push(r.appendChild(f))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(cx),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,s)=>{this._addStylesToHost(n,s,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(cx))}}return e.\u0275fac=function(n){return new(n||e)(Qe(Vr))},e.\u0275prov=ct({token:e,factory:e.\u0275fac}),e})();function cx(e){Ds().remove(e)}const Td={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Md=/%COMP%/g;function _c(e,t,n){for(let r=0;r<t.length;r++){let s=t[r];Array.isArray(s)?_c(e,s,n):(s=s.replace(Md,e),n.push(s))}return n}function dx(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Nd=(()=>{class e{constructor(n,r,s){this.eventManager=n,this.sharedStylesHost=r,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Od(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Sn.Emulated:{let s=this.rendererByCompId.get(r.id);return s||(s=new gI(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,s)),s.applyToHost(n),s}case 1:case Sn.ShadowDom:return new pI(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const s=_c(r.id,r.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(Qe(mc),Qe(Ms),Qe(As))},e.\u0275prov=ct({token:e,factory:e.\u0275fac}),e})();class Od{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(Td[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(hx(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(hx(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,s){if(s){n=s+":"+n;const c=Td[s];c?t.setAttributeNS(c,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const s=Td[r];s?t.removeAttributeNS(s,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,s){s&(Cn.DashCase|Cn.Important)?t.style.setProperty(n,r,s&Cn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Cn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,dx(r)):this.eventManager.addEventListener(t,n,dx(r))}}function hx(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class gI extends Od{constructor(t,n,r,s){super(t),this.component=r;const c=_c(s+"-"+r.id,r.styles,[]);n.addStyles(c),this.contentAttr=function dI(e){return"_ngcontent-%COMP%".replace(Md,e)}(s+"-"+r.id),this.hostAttr=function fI(e){return"_nghost-%COMP%".replace(Md,e)}(s+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class pI extends Od{constructor(t,n,r,s){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=_c(s.id,s.styles,[]);for(let f=0;f<c.length;f++){const g=document.createElement("style");g.textContent=c[f],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let xI=(()=>{class e extends sx{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,s){return n.addEventListener(r,s,!1),()=>this.removeEventListener(n,r,s)}removeEventListener(n,r,s){return n.removeEventListener(r,s)}}return e.\u0275fac=function(n){return new(n||e)(Qe(Vr))},e.\u0275prov=ct({token:e,factory:e.\u0275fac}),e})();const gx=["alt","control","meta","shift"],mI={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_I={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let yI=(()=>{class e extends sx{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,s){const c=e.parseEventName(r),f=e.eventCallback(c.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ds().onAndCancel(n,c.domEventName,f))}static parseEventName(n){const r=n.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const c=e._normalizeKey(r.pop());let f="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),f="code."),gx.forEach(x=>{const E=r.indexOf(x);E>-1&&(r.splice(E,1),f+=x+".")}),f+=c,0!=r.length||0===c.length)return null;const m={};return m.domEventName=s,m.fullKey=f,m}static matchEventFullKeyCode(n,r){let s=mI[n.key]||n.key,c="";return r.indexOf("code.")>-1&&(s=n.code,c="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),gx.forEach(f=>{f!==s&&(0,_I[f])(n)&&(c+=f+".")}),c+=s,c===r)}static eventCallback(n,r,s){return c=>{e.matchEventFullKeyCode(c,n)&&s.runGuarded(()=>r(c))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(Qe(Vr))},e.\u0275prov=ct({token:e,factory:e.\u0275fac}),e})();const xx=[{provide:fp,useValue:"browser"},{provide:dp,useValue:function wI(){vd.makeCurrent()},multi:!0},{provide:Vr,useFactory:function CI(){return function Wm(e){Pl=e}(document),document},deps:[]}],AI=wp(ub,"browser",xx),mx=new Re(""),_x=[{provide:Ja,useClass:class aI{addToWindow(t){it.getAngularTestability=(r,s=!0)=>{const c=t.findTestabilityInTree(r,s);if(null==c)throw new Error("Could not find testability for element.");return c},it.getAllAngularTestabilities=()=>t.getAllTestabilities(),it.getAllAngularRootElements=()=>t.getAllRootElements(),it.frameworkStabilizers||(it.frameworkStabilizers=[]),it.frameworkStabilizers.push(r=>{const s=it.getAllAngularTestabilities();let c=s.length,f=!1;const g=function(m){f=f||m,c--,0==c&&r(f)};s.forEach(function(m){m.whenStable(g)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Ds().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:mp,useClass:rd,deps:[sn,id,Ja]},{provide:rd,useClass:rd,deps:[sn,id,Ja]}],yx=[{provide:Gl,useValue:"root"},{provide:io,useFactory:function EI(){return new io},deps:[]},{provide:xc,useClass:xI,multi:!0,deps:[Vr,sn,fp]},{provide:xc,useClass:yI,multi:!0,deps:[Vr]},{provide:Nd,useClass:Nd,deps:[mc,Ms,As]},{provide:W0,useExisting:Nd},{provide:ax,useExisting:Ms},{provide:Ms,useClass:Ms,deps:[Vr]},{provide:mc,useClass:mc,deps:[xc,sn]},{provide:class kD{},useClass:cI,deps:[]},[]];let bI=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:As,useValue:n.appId},{provide:ox,useExisting:As},sI]}}}return e.\u0275fac=function(n){return new(n||e)(Qe(mx,12))},e.\u0275mod=xi({type:e}),e.\u0275inj=br({providers:[...yx,..._x],imports:[RD,db]}),e})();typeof window<"u"&&window;var ee=(()=>{return(e=ee||(ee={}))[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",ee;var e})(),Cx=new Map([[ee.QR_CODE,"QR_CODE"],[ee.AZTEC,"AZTEC"],[ee.CODABAR,"CODABAR"],[ee.CODE_39,"CODE_39"],[ee.CODE_93,"CODE_93"],[ee.CODE_128,"CODE_128"],[ee.DATA_MATRIX,"DATA_MATRIX"],[ee.MAXICODE,"MAXICODE"],[ee.ITF,"ITF"],[ee.EAN_13,"EAN_13"],[ee.EAN_8,"EAN_8"],[ee.PDF_417,"PDF_417"],[ee.RSS_14,"RSS_14"],[ee.RSS_EXPANDED,"RSS_EXPANDED"],[ee.UPC_A,"UPC_A"],[ee.UPC_E,"UPC_E"],[ee.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function LI(e){return Object.values(ee).includes(e)}var jr=(()=>{return(e=jr||(jr={}))[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE",jr;var e})(),tr=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[jr.SCAN_TYPE_CAMERA,jr.SCAN_TYPE_FILE],e}(),Ax=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Cx.has(t))throw t+" not in html5QrcodeSupportedFormatsTextMap";return new e(t,Cx.get(t))},e}(),bx=function(){function e(){}return e.createFromText=function(t){return{decodedText:t,result:{text:t}}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),yc=(()=>{return(e=yc||(yc={}))[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR",yc;var e})(),Dx=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:yc.UNKWOWN_ERROR}},e}(),Ix=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||!0===n)&&console.error(t)},e.prototype.logErrors=function(t){if(0===t.length)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function mr(e){return typeof e>"u"||null===e}var e,Ns=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = "+t},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = "+t},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e}(),at=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: "+t},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e}(),Sx=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),vx=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if("object"!=typeof t)return n.logError("videoConstraints should be of type object, the object passed is of type "+typeof t+".",!0),!1;for(var c=new Set(["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"]),g=0,m=Object.keys(t);g<m.length;g++){var x=m[g];if(c.has(x))return n.logError(x+" is not supported videoConstaints.",!0),!1}return!0},e}(),gt=z(140),Tx=function(){function e(t,n,r){if(this.formatMap=new Map([[ee.QR_CODE,gt.BarcodeFormat.QR_CODE],[ee.AZTEC,gt.BarcodeFormat.AZTEC],[ee.CODABAR,gt.BarcodeFormat.CODABAR],[ee.CODE_39,gt.BarcodeFormat.CODE_39],[ee.CODE_93,gt.BarcodeFormat.CODE_93],[ee.CODE_128,gt.BarcodeFormat.CODE_128],[ee.DATA_MATRIX,gt.BarcodeFormat.DATA_MATRIX],[ee.MAXICODE,gt.BarcodeFormat.MAXICODE],[ee.ITF,gt.BarcodeFormat.ITF],[ee.EAN_13,gt.BarcodeFormat.EAN_13],[ee.EAN_8,gt.BarcodeFormat.EAN_8],[ee.PDF_417,gt.BarcodeFormat.PDF_417],[ee.RSS_14,gt.BarcodeFormat.RSS_14],[ee.RSS_EXPANDED,gt.BarcodeFormat.RSS_EXPANDED],[ee.UPC_A,gt.BarcodeFormat.UPC_A],[ee.UPC_E,gt.BarcodeFormat.UPC_E],[ee.UPC_EAN_EXTENSION,gt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!gt)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var s=this.createZXingFormats(t),c=new Map;c.set(gt.DecodeHintType.POSSIBLE_FORMATS,s),c.set(gt.DecodeHintType.TRY_HARDER,!1),this.hints=c}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,s){try{r(n.decode(t))}catch(c){s(c)}})},e.prototype.decode=function(t){var n=new gt.MultiFormatReader(this.verbose,this.hints),r=new gt.HTMLCanvasElementLuminanceSource(t),s=new gt.BinaryBitmap(new gt.HybridBinarizer(r)),c=n.decode(s);return{text:c.text,format:Ax.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have "+t;return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var c=s[r];this.formatMap.has(c)?n.push(this.formatMap.get(c)):this.logger.logError(c+" is not supported byZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Mx=function(){function e(t,n,r){if(this.formatMap=new Map([[ee.QR_CODE,"qr_code"],[ee.AZTEC,"aztec"],[ee.CODABAR,"codabar"],[ee.CODE_39,"code_39"],[ee.CODE_93,"code_93"],[ee.CODE_128,"code_128"],[ee.DATA_MATRIX,"data_matrix"],[ee.ITF,"itf"],[ee.EAN_13,"ean_13"],[ee.EAN_8,"ean_8"],[ee.PDF_417,"pdf417"],[ee.UPC_A,"upc_a"],[ee.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var s=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){return"BarcodeDetector"in window&&typeof new BarcodeDetector({formats:["qr_code"]})<"u"},e.prototype.decodeAsync=function(t){return function(e,t,n,r){return new(n||(n=Promise))(function(c,f){function g(E){try{x(r.next(E))}catch(A){f(A)}}function m(E){try{x(r.throw(E))}catch(A){f(A)}}function x(E){E.done?c(E.value):function s(c){return c instanceof n?c:new n(function(f){f(c)})}(E.value).then(g,m)}x((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function(){var n,r;return function(e,t){var r,s,c,f,n={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return f={next:g(0),throw:g(1),return:g(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function g(x){return function(E){return function m(x){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(c=2&x[0]?s.return:x[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,x[1])).done)return c;switch(s=0,c&&(x=[2&x[0],c.value]),x[0]){case 0:case 1:c=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(!(c=(c=n.trys).length>0&&c[c.length-1])&&(6===x[0]||2===x[0])){n=0;continue}if(3===x[0]&&(!c||x[1]>c[0]&&x[1]<c[3])){n.label=x[1];break}if(6===x[0]&&n.label<c[1]){n.label=c[1],c=x;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(x);break}c[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(E){x=[6,E],s=0}finally{r=c=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([x,E])}}}(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(t)];case 1:if(!(n=s.sent())||0===n.length)throw"No barcode or QR code detected.";return[2,{text:(r=this.selectLargestBarcode(n)).rawValue,format:Ax.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,s=0,c=t;s<c.length;s++){var f=c[s],g=f.boundingBox.width*f.boundingBox.height;g>r&&(r=g,n=f)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var c=s[r];this.formatMap.has(c)?n.push(this.formatMap.get(c)):this.logger.warn(c+" is not supported byBarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have "+t;return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Nx=function(e,t,n,r){return new(n||(n=Promise))(function(c,f){function g(E){try{x(r.next(E))}catch(A){f(A)}}function m(E){try{x(r.throw(E))}catch(A){f(A)}}function x(E){E.done?c(E.value):function s(c){return c instanceof n?c:new n(function(f){f(c)})}(E.value).then(g,m)}x((r=r.apply(e,t||[])).next())})},Ox=function(e,t){var r,s,c,f,n={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return f={next:g(0),throw:g(1),return:g(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function g(x){return function(E){return function m(x){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(c=2&x[0]?s.return:x[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,x[1])).done)return c;switch(s=0,c&&(x=[2&x[0],c.value]),x[0]){case 0:case 1:c=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(!(c=(c=n.trys).length>0&&c[c.length-1])&&(6===x[0]||2===x[0])){n=0;continue}if(3===x[0]&&(!c||x[1]>c[0]&&x[1]<c[3])){n.label=x[1];break}if(6===x[0]&&n.label<c[1]){n.label=c[1],c=x;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(x);break}c[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(E){x=[6,E],s=0}finally{r=c=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([x,E])}}},kI=function(){function e(t,n,r,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&Mx.isSupported()?(this.primaryDecoder=new Mx(t,r,s),this.secondaryDecoder=new Tx(t,r,s)):this.primaryDecoder=new Tx(t,r,s)}return e.prototype.decodeAsync=function(t){return Nx(this,void 0,void 0,function(){var n;return Ox(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Nx(this,void 0,void 0,function(){var n,r;return Ox(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,s.sent()];case 3:if(r=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?!1===this.wasPrimaryDecoderUsedInLastDecode?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++)t+=r[n];console.log(t/this.executionResults.length+" ms for "+this.executionResults.length+" last runs."),this.executions=0,this.executionResults=[]}},e}(),Pd=(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(r[c]=s[c])})(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),wc=function(e,t,n,r){return new(n||(n=Promise))(function(c,f){function g(E){try{x(r.next(E))}catch(A){f(A)}}function m(E){try{x(r.throw(E))}catch(A){f(A)}}function x(E){E.done?c(E.value):function s(c){return c instanceof n?c:new n(function(f){f(c)})}(E.value).then(g,m)}x((r=r.apply(e,t||[])).next())})},Ec=function(e,t){var r,s,c,f,n={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return f={next:g(0),throw:g(1),return:g(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function g(x){return function(E){return function m(x){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(c=2&x[0]?s.return:x[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,x[1])).done)return c;switch(s=0,c&&(x=[2&x[0],c.value]),x[0]){case 0:case 1:c=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(!(c=(c=n.trys).length>0&&c[c.length-1])&&(6===x[0]||2===x[0])){n=0;continue}if(3===x[0]&&(!c||x[1]>c[0]&&x[1]<c[3])){n.label=x[1];break}if(6===x[0]&&n.label<c[1]){n.label=c[1],c=x;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(x);break}c[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(E){x=[6,E],s=0}finally{r=c=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([x,E])}}},Rx=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return!!this.track.getCapabilities&&this.name in this.track.getCapabilities()},e.prototype.apply=function(t){var n={};return n[this.name]=t,this.track.applyConstraints({advanced:[n]})},e.prototype.value=function(){var t=this.track.getSettings();return this.name in t?t[this.name]:null},e}(),VI=function(e){function t(n,r){return e.call(this,n,r)||this}return Pd(t,e),t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};return r[this.name]=n,this.track.applyConstraints({advanced:[r]})},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities()[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error(this.name+" capability not supported")},t}(Rx),UI=function(e){function t(n){return e.call(this,"zoom",n)||this}return Pd(t,e),t}(VI),jI=function(e){function t(n){return e.call(this,"torch",n)||this}return Pd(t,e),t}(Rx),HI=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new UI(this.track)},e.prototype.torchFeature=function(){return new jI(this.track)},e}(),GI=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width=t+"px",n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){t.callbacks.onRenderSurfaceReady(t.surface.clientWidth,t.surface.clientHeight),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,s){return wc(this,void 0,void 0,function(){var c,f;return Ec(this,function(g){switch(g.label){case 0:return c=new e(t,n,s),r.aspectRatio?(f={aspectRatio:r.aspectRatio},[4,c.getFirstTrackOrFail().applyConstraints(f)]):[3,2];case 1:g.sent(),g.label=2;case 2:return c.setupSurface(),[2,c]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),0===this.mediaStream.getVideoTracks().length)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return wc(this,void 0,void 0,function(){return Ec(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var c=t.mediaStream.getVideoTracks().length,f=0;t.mediaStream.getVideoTracks().forEach(function(g){t.mediaStream.removeTrack(g),g.stop(),++f>=c&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new HI(this.getFirstTrackOrFail())},e}(),zI=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return wc(this,void 0,void 0,function(){return Ec(this,function(s){return[2,GI.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return wc(this,void 0,void 0,function(){return Ec(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[4,navigator.mediaDevices.getUserMedia({audio:!1,video:t})];case 1:return[2,new e(s.sent())]}})})},e}(),Lx=function(e,t,n,r){return new(n||(n=Promise))(function(c,f){function g(E){try{x(r.next(E))}catch(A){f(A)}}function m(E){try{x(r.throw(E))}catch(A){f(A)}}function x(E){E.done?c(E.value):function s(c){return c instanceof n?c:new n(function(f){f(c)})}(E.value).then(g,m)}x((r=r.apply(e,t||[])).next())})},Px=function(e,t){var r,s,c,f,n={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return f={next:g(0),throw:g(1),return:g(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function g(x){return function(E){return function m(x){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(c=2&x[0]?s.return:x[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,x[1])).done)return c;switch(s=0,c&&(x=[2&x[0],c.value]),x[0]){case 0:case 1:c=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(!(c=(c=n.trys).length>0&&c[c.length-1])&&(6===x[0]||2===x[0])){n=0;continue}if(3===x[0]&&(!c||x[1]>c[0]&&x[1]<c[3])){n.label=x[1];break}if(6===x[0]&&n.label<c[1]){n.label=c[1],c=x;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(x);break}c[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(E){x=[6,E],s=0}finally{r=c=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([x,E])}}},WI=function(){function e(){}return e.failIfNotSupported=function(){return Lx(this,void 0,void 0,function(){return Px(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Lx(this,void 0,void 0,function(){return Px(this,function(n){return[2,zI.create(t)]})})},e}(),ZI=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Ns.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Ns.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if("https:"===location.protocol)return!0;var t=location.host.split(":")[0];return"127.0.0.1"===t||"localhost"===t},e.getCamerasFromMediaDevices=function(){return function(e,t,n,r){return new(n||(n=Promise))(function(c,f){function g(E){try{x(r.next(E))}catch(A){f(A)}}function m(E){try{x(r.throw(E))}catch(A){f(A)}}function x(E){E.done?c(E.value):function s(c){return c instanceof n?c:new n(function(f){f(c)})}(E.value).then(g,m)}x((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function(){var t,n,r,s,c,f,g;return function(e,t){var r,s,c,f,n={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return f={next:g(0),throw:g(1),return:g(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function g(x){return function(E){return function m(x){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(c=2&x[0]?s.return:x[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,x[1])).done)return c;switch(s=0,c&&(x=[2&x[0],c.value]),x[0]){case 0:case 1:c=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(!(c=(c=n.trys).length>0&&c[c.length-1])&&(6===x[0]||2===x[0])){n=0;continue}if(3===x[0]&&(!c||x[1]>c[0]&&x[1]<c[3])){n.label=x[1];break}if(6===x[0]&&n.label<c[1]){n.label=c[1],c=x;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(x);break}c[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(E){x=[6,E],s=0}finally{r=c=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([x,E])}}}(this,function(m){switch(m.label){case 0:return t=function(x){for(var A=0,S=x.getVideoTracks();A<S.length;A++){var T=S[A];T.enabled=!1,T.stop(),x.removeTrack(T)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=m.sent(),s=[],c=0,f=r;c<f.length;c++)"videoinput"===(g=f[c]).kind&&s.push({id:g.deviceId,label:g.label});return t(n),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){MediaStreamTrack.getSources(function(c){for(var f=[],g=0,m=c;g<m.length;g++){var x=m[g];"video"===x.kind&&f.push({id:x.id,label:x.label})}t(f)})})},e}(),wt=(()=>(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"}(wt||(wt={})),wt))(),QI=function(){function e(){this.state=wt.NOT_STARTED,this.onGoingTransactionNewState=wt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===wt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=wt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===wt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=wt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==wt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case wt.UNKNOWN:throw"Transition from unknown is not allowed";case wt.NOT_STARTED:this.failIfNewStateIs(t,[wt.PAUSED])}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,s=n;r<s.length;r++)if(t===s[r])throw"Cannot transition from "+this.state+" to "+t},e}(),qI=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===wt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==wt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===wt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===wt.PAUSED},e}(),$I=function(){function e(){}return e.create=function(){return new qI(new QI)},e}(),KI=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(r[c]=s[c])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ln=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return KI(t,e),t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(tr),JI=function(){function e(t,n){this.logger=n,this.fps=Ln.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=!0===t.disableFlip,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Ln.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?vx.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!mr(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),Fx=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id="+t+" not found";var s;this.elementId=t,this.verbose=!1,"boolean"==typeof n?this.verbose=!0===n:n&&(this.verbose=!0===(s=n).verbose),this.logger=new Ix(this.verbose),this.qrcode=new kI(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(s),this.verbose,this.logger),this.shouldScan=!0,this.stateManagerProxy=$I.create()}return e.prototype.start=function(t,n,r,s){var f,c=this;if(!t)throw"cameraIdOrConfig is required";if(!r||"function"!=typeof r)throw"qrCodeSuccessCallback is required and should be a function.";f=s||(this.verbose?this.logger.log:function(){});var g=JI.create(n,this.logger);this.clearElement();var m=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=m,E=document.getElementById(this.elementId);E.style.position="relative",this.shouldScan=!0,this.element=E;var S=this,T=this.stateManagerProxy.startTransition(wt.SCANNING);return new Promise(function(O,F){var k=x?g.videoConstraints:S.createVideoConstraints(t);if(!k)return T.cancel(),void F("videoConstraints should be defined");var G={};(!x||g.aspectRatio)&&(G.aspectRatio=g.aspectRatio);var q={onRenderSurfaceReady:function(U,ie){S.setupUi(U,ie,g),S.isScanning=!0,S.foreverScan(g,r,f)}};WI.failIfNotSupported().then(function(U){U.create(k).then(function(ie){return ie.render(c.element,G,q).then(function(De){S.renderedCamera=De,T.execute(),O(null)}).catch(function(De){T.cancel(),F(De)})}).catch(function(ie){T.cancel(),F(Ns.errorGettingUserMedia(ie))})}).catch(function(U){T.cancel(),F(Ns.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(wt.PAUSED),this.showPausedState(),(mr(t)||!0!==t)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(wt.SCANNING),t.hidePausedState()};this.renderedCamera.isPaused()?this.renderedCamera.resume(function(){n()}):n()},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(wt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),function(){if(t.element){var c=document.getElementById(Ln.SHADED_REGION_ELEMENT_ID);c&&t.element.removeChild(c)}}(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),n.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!(t&&t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(mr(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,c){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var f=new Image;f.onload=function(){var g=f.width,m=f.height,x=document.getElementById(r.elementId),E=x.clientWidth?x.clientWidth:Ln.DEFAULT_WIDTH,A=Math.max(x.clientHeight?x.clientHeight:m,Ln.FILE_SCAN_MIN_HEIGHT),S=r.computeCanvasDrawConfig(g,m,E,A);if(n){var T=r.createCanvasElement(E,A,"qr-canvas-visible");T.style.display="inline-block",x.appendChild(T);var O=T.getContext("2d");if(!O)throw"Unable to get 2d context from canvas";O.canvas.width=E,O.canvas.height=A,O.drawImage(f,0,0,g,m,S.x,S.y,S.width,S.height)}var F=Ln.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(f.width,S.width),G=Math.max(f.height,S.height),q=k+2*F,U=G+2*F,ie=r.createCanvasElement(q,U);x.appendChild(ie);var De=ie.getContext("2d");if(!De)throw"Unable to get 2d context from canvas";De.canvas.width=q,De.canvas.height=U,De.drawImage(f,0,0,g,m,F,F,k,G);try{r.qrcode.decodeRobustlyAsync(ie).then(function(st){s(bx.createFromQrcodeResult(st))}).catch(c)}catch(st){c("QR code parse error, error = "+st)}},f.onerror=c,f.onabort=c,f.onstalled=c,f.onsuspend=c,f.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return ZI.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(!t)throw"videoConstaints is required argument.";if(!vx.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(null==this.renderedCamera)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){if(!t||"boolean"==typeof t||!t.formatsToSupport)return[ee.QR_CODE,ee.AZTEC,ee.CODABAR,ee.CODE_39,ee.CODE_93,ee.CODE_128,ee.DATA_MATRIX,ee.MAXICODE,ee.ITF,ee.EAN_13,ee.EAN_8,ee.PDF_417,ee.RSS_14,ee.RSS_EXPANDED,ee.UPC_A,ee.UPC_E,ee.UPC_EAN_EXTENSION];if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(0===t.formatsToSupport.length)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],s=0,c=t.formatsToSupport;s<c.length;s++){var f=c[s];LI(f)?r.push(f):this.logger.warn("Invalid format: "+f+" passed in config, ignoring.")}if(0===r.length)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(mr(t))return!0;if(!mr(t.useBarCodeDetectorIfSupported))return!1!==t.useBarCodeDetectorIfSupported;if(mr(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return!!mr(n.useBarCodeDetectorIfSupported)||!1!==n.useBarCodeDetectorIfSupported},e.prototype.validateQrboxSize=function(t,n,r){var c=r.qrbox;this.validateQrboxConfig(c);var x,f=this.toQrdimensions(t,n,c),g=function(x){if(x<Ln.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is "+Ln.MIN_QR_BOX_SIZE+"px."};g(f.width),g(f.height),f.width=((x=f.width)>t&&(this.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=t),x)},e.prototype.validateQrboxConfig=function(t){if("number"!=typeof t&&"function"!=typeof t&&(void 0===t.width||void 0===t.height))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if("number"==typeof r)return{width:r,height:r};if("function"==typeof r)try{return r(t,n)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var s=mr(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(s);var c=this.toQrdimensions(t,n,s);c.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var f=r.isShadedBoxEnabled()&&c.height<=n,g={x:0,y:0,width:t,height:n},m=f?this.getShadedRegionBounds(t,n,c):g,x=this.createCanvasElement(m.width,m.height),A=x.getContext("2d",{willReadFrequently:!0});A.canvas.width=m.width,A.canvas.height=m.height,this.element.append(x),f&&this.possiblyInsertShadingElement(this.element,t,n,c),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=A,this.canvasElement=x},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText="Scanner paused",n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="yellow",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return t(s.text,bx.createFromQrcodeResult(s)),r.possiblyUpdateShaders(!0),!0}).catch(function(s){r.possiblyUpdateShaders(!1);var c=Ns.codeParseError(s);return n(c,Dx.createFrom(c)),!1})},e.prototype.foreverScan=function(t,n,r){var s=this;if(this.shouldScan&&this.renderedCamera){var c=this.renderedCamera.getSurface(),f=c.videoWidth/c.clientWidth,g=c.videoHeight/c.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";this.context.drawImage(c,this.qrRegion.x*f,this.qrRegion.y*g,this.qrRegion.width*f,this.qrRegion.height*g,0,0,this.qrRegion.width,this.qrRegion.height);var S=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(t,n,r)},s.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(T){T||!0===t.disableFlip?S():(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(n,r).finally(function(){S()}))}).catch(function(T){s.logger.logError("Error happend while scanning context",T),S()})}},e.prototype.createVideoConstraints=function(t){if("string"==typeof t)return{deviceId:{exact:t}};if("object"==typeof t){var n="facingMode",r="deviceId",s={user:!0,environment:!0},c="exact",f=function(O){if(O in s)return!0;throw"config has invalid 'facingMode' value = '"+O+"'"},g=Object.keys(t);if(1!==g.length)throw"'cameraIdOrConfig' object should have exactly 1 key, if passed as an object, found "+g.length+" keys";var m=Object.keys(t)[0];if(m!==n&&m!==r)throw"Only '"+n+"' and '"+r+"'  are supported for 'cameraIdOrConfig'";if(m!==n){var A=t.deviceId;if("string"==typeof A)return{deviceId:A};if("object"==typeof A){if(c in A)return{deviceId:{exact:A.exact}};throw"'deviceId' should be string or object with exact as key."}throw"Invalid type of 'deviceId' = "+typeof A}var x=t.facingMode;if("string"==typeof x){if(f(x))return{facingMode:x}}else{if("object"!=typeof x)throw"Invalid type of 'facingMode' = "+typeof x;if(!(c in x))throw"'facingMode' should be string or object with exact as key.";if(f(x.exact))return{facingMode:{exact:x.exact}}}}throw"Invalid type of 'cameraIdOrConfig' = "+typeof t},e.prototype.computeCanvasDrawConfig=function(t,n,r,s){if(t<=r&&n<=s)return{x:(r-t)/2,y:(s-n)/2,width:t,height:n};var g=t,m=n;return t>r&&(n*=r/t,t=r),n>s&&(t*=s/n,n=s),this.logger.log("Image downsampled from "+g+"X"+m+" to "+t+"X"+n+"."),this.computeCanvasDrawConfig(t,n,r,s)},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Ln.BORDER_SHADER_MATCH_COLOR:Ln.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var s=t,c=n,f=document.createElement("canvas");return f.style.width=s+"px",f.style.height=c+"px",f.style.display="none",f.id=mr(r)?"qr-canvas":r,f},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,s){if(!(n-s.width<1||r-s.height<1)){var c=document.createElement("div");c.style.position="absolute";var f=(n-s.width)/2,g=(r-s.height)/2;if(c.style.borderLeft=f+"px solid rgba(0, 0, 0, 0.48)",c.style.borderRight=f+"px solid rgba(0, 0, 0, 0.48)",c.style.borderTop=g+"px solid rgba(0, 0, 0, 0.48)",c.style.borderBottom=g+"px solid rgba(0, 0, 0, 0.48)",c.style.boxSizing="border-box",c.style.top="0px",c.style.bottom="0px",c.style.left="0px",c.style.right="0px",c.id=""+Ln.SHADED_REGION_ELEMENT_ID,n-s.width<11||r-s.height<11)this.hasBorderShaders=!1;else{this.insertShaderBorders(c,40,5,-5,null,0,!0),this.insertShaderBorders(c,40,5,-5,null,0,!1),this.insertShaderBorders(c,40,5,null,-5,0,!0),this.insertShaderBorders(c,40,5,null,-5,0,!1),this.insertShaderBorders(c,5,45,-5,null,-5,!0),this.insertShaderBorders(c,5,45,null,-5,-5,!0),this.insertShaderBorders(c,5,45,-5,null,-5,!1),this.insertShaderBorders(c,5,45,null,-5,-5,!1),this.hasBorderShaders=!0}t.append(c)}},e.prototype.insertShaderBorders=function(t,n,r,s,c,f,g){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=Ln.BORDER_SHADER_DEFAULT_COLOR,m.style.width=n+"px",m.style.height=r+"px",null!==s&&(m.style.top=s+"px"),null!==c&&(m.style.bottom=c+"px"),g?m.style.left=f+"px":m.style.right=f+"px",this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),t.appendChild(m)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Bx="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",kx=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),r3=function(){function e(){this.data=kx.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=kx.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),i3=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Sx.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),s=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(s);var c=document.createElement("a");c.innerText=Sx.reportIssues(),c.href="https://github.com/mebjas/html5-qrcode/issues",c.target="new",c.style.color="white",this.infoDiv.appendChild(c),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),o3=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Bx,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Bx,this.infoIcon.style.opacity="0.6")},e}(),s3=function(){function e(){var t=this;this.infoDiv=new i3,this.infoIcon=new o3(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),Vx=function(){function e(){}return e.hasPermissions=function(){return function(e,t,n,r){return new(n||(n=Promise))(function(c,f){function g(E){try{x(r.next(E))}catch(A){f(A)}}function m(E){try{x(r.throw(E))}catch(A){f(A)}}function x(E){E.done?c(E.value):function s(c){return c instanceof n?c:new n(function(f){f(c)})}(E.value).then(g,m)}x((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function(){var t,n,r,s;return function(e,t){var r,s,c,f,n={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return f={next:g(0),throw:g(1),return:g(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function g(x){return function(E){return function m(x){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(c=2&x[0]?s.return:x[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,x[1])).done)return c;switch(s=0,c&&(x=[2&x[0],c.value]),x[0]){case 0:case 1:c=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(!(c=(c=n.trys).length>0&&c[c.length-1])&&(6===x[0]||2===x[0])){n=0;continue}if(3===x[0]&&(!c||x[1]>c[0]&&x[1]<c[3])){n.label=x[1];break}if(6===x[0]&&n.label<c[1]){n.label=c[1],c=x;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(x);break}c[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(E){x=[6,E],s=0}finally{r=c=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([x,E])}}}(this,function(c){switch(c.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=c.sent(),n=0,r=t;n<r.length;n++)if("videoinput"===(s=r[n]).kind&&s.label)return[2,!0];return[2,!1]}})})},e}(),ai=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++)if(e.isCameraScanType(n[t]))return!0;return!1},e.isCameraScanType=function(t){return t===jr.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===jr.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||0===t.length)return tr.DEFAULT_SUPPORTED_SCAN_TYPE;var n=tr.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max "+n+" values expected for supportedScanTypes";for(var r=0,s=t;r<s.length;r++){var c=s[r];if(!tr.DEFAULT_SUPPORTED_SCAN_TYPE.includes(c))throw"Unsupported scan type "+c}return t},e}(),Pn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),Hr=function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(Pn.ALL_ELEMENT_CLASS),"button"===t&&r.setAttribute("type","button"),r},e}(),Ux=function(e,t,n,r){return new(n||(n=Promise))(function(c,f){function g(E){try{x(r.next(E))}catch(A){f(A)}}function m(E){try{x(r.throw(E))}catch(A){f(A)}}function x(E){E.done?c(E.value):function s(c){return c instanceof n?c:new n(function(f){f(c)})}(E.value).then(g,m)}x((r=r.apply(e,t||[])).next())})},jx=function(e,t){var r,s,c,f,n={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return f={next:g(0),throw:g(1),return:g(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function g(x){return function(E){return function m(x){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(c=2&x[0]?s.return:x[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,x[1])).done)return c;switch(s=0,c&&(x=[2&x[0],c.value]),x[0]){case 0:case 1:c=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,s=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(!(c=(c=n.trys).length>0&&c[c.length-1])&&(6===x[0]||2===x[0])){n=0;continue}if(3===x[0]&&(!c||x[1]>c[0]&&x[1]<c[3])){n.label=x[1];break}if(6===x[0]&&n.label<c[1]){n.label=c[1],c=x;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(x);break}c[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(E){x=[6,E],s=0}finally{r=c=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([x,E])}}},Hx=function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Ux(this,void 0,void 0,function(){var t,n;return jx(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?at.torchOffButton():at.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?at.torchOnFailedMessage():at.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),l3=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=Hr.createElement("button",Pn.TORCH_BUTTON_ID),this.torchController=new Hx(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=at.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var s=this;this.torchButton.addEventListener("click",function(c){return Ux(r,void 0,void 0,function(){return jx(this,function(f){switch(f.label){case 0:return[4,s.torchController.flipState()];case 1:return f.sent(),s.torchController.isTorchEnabled()?(s.torchButton.classList.remove(Pn.TORCH_BUTTON_CLASS_TORCH_OFF),s.torchButton.classList.add(Pn.TORCH_BUTTON_CLASS_TORCH_ON)):(s.torchButton.classList.remove(Pn.TORCH_BUTTON_CLASS_TORCH_ON),s.torchButton.classList.add(Pn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new Hx(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=at.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,s){var c=new e(n,s);return c.render(t,r),c},e}(),u3=function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var s=document.createElement("label");s.setAttribute("for",this.getFileScanInputId()),s.style.display="inline-block",this.fileBasedScanRegion.appendChild(s),this.fileSelectionButton=Hr.createElement("button",Pn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(g){s.click()}),s.append(this.fileSelectionButton),this.fileScanInput=Hr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",s.appendChild(this.fileScanInput);var c=this;this.fileScanInput.addEventListener("change",function(g){if(null!=g&&null!=g.target){var m=g.target;if(!m.files||0!==m.files.length){var E=m.files[0];c.setImageNameToButton(E.name),r(E)}}});var f=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(f),this.fileBasedScanRegion.addEventListener("dragenter",function(g){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(g){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(g){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(g){g.stopPropagation(),g.preventDefault(),c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder();var m=g.dataTransfer;if(m){var x=m.files;if(!x||0===x.length)return;for(var E=!1,A=0;A<x.length;++A){var S=x.item(A);if(S&&S.type.match(/image.*/)){E=!0,c.setImageNameToButton(S.name),r(S),f.innerText=at.dragAndDropMessage();break}}E||(f.innerText=at.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return"block"===this.fileBasedScanRegion.style.display},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=at.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){if(t.length>20){var r=t.substring(0,8),s=t.length,c=t.substring(s-8,s);t=r+"...."+c}var f=at.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=f},e.prototype.setInitialValueToButton=function(){var t=at.fileSelectionChooseImage()+" - "+at.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){return new e(t,n,r)},e}(),d3=function(){function e(t){this.selectElement=Hr.createElement("select",Pn.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(0===r)throw new Error("No cameras found");if(1===r)n.style.display="none";else{var s=at.selectCamera();n.innerText=s+" ("+this.cameras.length+")  "}for(var c=1,f=0,g=this.cameras;f<g.length;f++){var m=g[f],x=m.id,E=m.label??x;(!E||""===E)&&(E=[at.anonymousCameraPrefix(),c++].join(" "));var A=document.createElement("option");A.value=x,A.innerText=E,this.options.push(A),this.selectElement.appendChild(A)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return!0===this.selectElement.disabled},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++)if(r[n].value===t)return!0;return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error(t+" is not present in the camera list.");this.selectElement.value=t},e.prototype.hasSingleItem=function(){return 1===this.cameras.length},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),f3=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Hr.createElement("input",Pn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=at.zoom();this.rangeText.innerText=this.rangeInput.value+"x "+r,this.rangeText.style.marginRight="10px";var s=this;this.rangeInput.addEventListener("input",function(){return s.onValueChange()}),this.rangeInput.addEventListener("change",function(){return s.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=at.zoom();this.rangeText.innerText=this.rangeInput.value+"x "+t,this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,s){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=s.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}(),bn=(()=>(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"}(bn||(bn={})),bn))(),p3=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=!0===r,!document.getElementById(t))throw"HTML Element with id="+t+" not found";this.scanTypeSelector=new ai(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Ix(this.verbose),this.persistedDataManager=new r3,!0!==n.rememberLastUsedCamera&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(c,f){if(t)t(c,f);else{if(r.lastMatchFound===c)return;r.lastMatchFound=c,r.setHeaderMessage(at.lastMatch(c),bn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(c,f){n&&n(c,f)};var s=document.getElementById(this.elementId);if(!s)throw"HTML Element with id="+this.elementId+" not found";s.innerHTML="",this.createBasicLayout(s),this.html5Qrcode=new Fx(this.getScanRegionId(),function g3(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}(this.config,this.verbose))},e.prototype.pause=function(t){(mr(t)||!0!==t)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,s){t.html5Qrcode?t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(c){t.html5Qrcode?(t.html5Qrcode.clear(),n(),r()):r()}).catch(function(c){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",c),s(c)}):(t.html5Qrcode.clear(),n()):r()}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=tr.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!tr.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=tr.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=tr.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:tr.SCAN_DEFAULT_FPS,rememberLastUsedCamera:tr.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:tr.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),ai.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var s=document.createElement("div"),c=this.getDashboardId();s.id=c,s.style.width="100%",t.appendChild(s),this.setupInitialDashboard(s)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n),(new s3).renderInto(n);var s=document.createElement("div");s.id=this.getHeaderMessageContainerId(),s.style.display="none",s.style.textAlign="center",s.style.fontSize="14px",s.style.padding="2px 10px",s.style.margin="4px",s.style.borderTop="1px solid #f6f6f6",n.appendChild(s)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var s=this;s.showHideScanTypeSwapLink(!1),s.setHeaderMessage(at.cameraPermissionRequesting());var c=function(){r||s.createPermissionButton(t,n)};Fx.getCameras().then(function(f){s.persistedDataManager.setHasPermission(!0),s.showHideScanTypeSwapLink(!0),s.resetHeaderMessage(),f&&f.length>0?(t.removeChild(n),s.renderCameraSelection(f)):(s.setHeaderMessage(at.noCameraFound(),bn.STATUS_WARNING),c())}).catch(function(f){s.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:c(),s.setHeaderMessage(f,bn.STATUS_WARNING),s.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,s=Hr.createElement("button",this.getCameraPermissionButtonId());s.innerText=at.cameraPermissionTitle(),s.addEventListener("click",function(){s.disabled=!0,r.createCameraListUi(t,n,s)}),n.appendChild(s)},e.prototype.createPermissionsUi=function(t,n){var r=this;ai.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()?Vx.hasPermissions().then(function(s){s?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(s){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)}):this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var n=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");n.appendChild(r);var s=document.createElement("div");s.id=this.getDashboardSectionCameraScanRegionId(),s.style.display=ai.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(s);var c=document.createElement("div");c.style.textAlign="center",s.appendChild(c),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(s,c),this.renderFileScanUi(r)},e.prototype.renderFileScanUi=function(t){var n=ai.isFileScanType(this.currentScanType),r=this;this.fileSelectionUi=u3.create(t,n,function(c){if(!r.html5Qrcode)throw"html5Qrcode not defined";!ai.isFileScanType(r.currentScanType)||(r.setHeaderMessage(at.loadingImage()),r.html5Qrcode.scanFileV2(c,!0).then(function(f){r.resetHeaderMessage(),r.qrCodeSuccessCallback(f.decodedText,f)}).catch(function(f){r.setHeaderMessage(f,bn.STATUS_WARNING),r.qrCodeErrorCallback(f,Dx.createFrom(f))}))})},e.prototype.renderCameraSelection=function(t){var n=this,r=this,s=document.getElementById(this.getDashboardSectionCameraScanRegionId());s.style.textAlign="center";var c=f3.create(s,!1),g=d3.create(s,t),m=document.createElement("span"),x=Hr.createElement("button",Pn.CAMERA_START_BUTTON_ID);x.innerText=at.scanButtonStartScanningText(),m.appendChild(x);var A,E=Hr.createElement("button",Pn.CAMERA_STOP_BUTTON_ID);E.innerText=at.scanButtonStopScanningText(),E.style.display="none",E.disabled=!0,m.appendChild(E),s.appendChild(m);var T=function(F){F||(x.style.display="none"),x.innerText=at.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,F&&(x.style.display="inline-block")};if(x.addEventListener("click",function(F){x.innerText=at.scanButtonScanningStarting(),g.disable(),x.disabled=!0,x.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var k=g.getValue();r.persistedDataManager.setLastUsedCameraId(k),r.html5Qrcode.start(k,function h3(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(G){E.disabled=!1,E.style.display="inline-block",T(!1);var q=r.html5Qrcode.getRunningTrackCameraCapabilities();!0===n.config.showTorchButtonIfSupported&&function(F){F.torchFeature().isSupported()?(A?A.updateTorchCapability(F.torchFeature()):A=l3.create(m,F.torchFeature(),{display:"none",marginLeft:"5px"},function(k){r.setHeaderMessage(k,bn.STATUS_WARNING)}),A.show()):A&&A.hide()}(q),!0===n.config.showZoomSliderIfSupported&&function(F){var k=F.zoomFeature();if(k.isSupported()){c.setOnCameraZoomValueChangeCallback(function(q){k.apply(q)});var G=1;n.config.defaultZoomValueIfSupported&&(G=n.config.defaultZoomValueIfSupported),G=function PI(e,t,n){return e>n?n:e<t?t:e}(G,k.min(),k.max()),c.setValues(k.min(),k.max(),G,k.step()),c.show()}}(q)}).catch(function(G){r.showHideScanTypeSwapLink(!0),g.enable(),T(!0),r.setHeaderMessage(G,bn.STATUS_WARNING)})}),g.hasSingleItem()&&x.click(),E.addEventListener("click",function(F){if(!r.html5Qrcode)throw"html5Qrcode not defined";E.disabled=!0,r.html5Qrcode.stop().then(function(k){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),g.enable(),x.disabled=!1,E.style.display="none",x.style.display="inline-block",A&&(A.reset(),A.hide()),c.removeOnCameraZoomValueChangeCallback(),c.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(k){E.disabled=!1,r.setHeaderMessage(k,bn.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var O=r.persistedDataManager.getLastUsedCameraId();g.hasValue(O)?(g.setValue(O),x.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=at.textIfCameraScanSelected(),r=at.textIfFileScanSelected(),s=document.getElementById(this.getDashboardSectionId()),c=document.createElement("div");c.style.textAlign="center";var f=Hr.createElement("a",this.getDashboardSectionSwapLinkId());f.style.textDecoration="underline",f.innerText=ai.isCameraScanType(this.currentScanType)?n:r,f.addEventListener("click",function(){t.sectionSwapAllowed?(t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,ai.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),f.innerText=r,t.currentScanType=jr.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),f.innerText=n,t.currentScanType=jr.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0):t.verbose&&t.logger.logError("Section swap called when not allowed")}),c.appendChild(f),s.appendChild(c)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;this.persistedDataManager.hasCameraPermissions()&&Vx.hasPermissions().then(function(r){if(r){var s=document.getElementById(n.getCameraPermissionButtonId());if(!s)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";s.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)})},e.prototype.resetHeaderMessage=function(){document.getElementById(this.getHeaderMessageContainerId()).style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=bn.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case bn.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case bn.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)"}},e.prototype.showHideScanTypeSwapLink=function(t){!0!==t&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none"},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage)return n.innerHTML="<br>",void n.appendChild(this.cameraScanImage);this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg=="},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage)return n.innerHTML="<br>",void n.appendChild(this.fileScanImage);this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4="},e.prototype.clearScanRegion=function(){document.getElementById(this.getScanRegionId()).innerHTML=""},e.prototype.getDashboardSectionId=function(){return this.elementId+"__dashboard_section"},e.prototype.getDashboardSectionCameraScanRegionId=function(){return this.elementId+"__dashboard_section_csr"},e.prototype.getDashboardSectionSwapLinkId=function(){return Pn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return this.elementId+"__scan_region"},e.prototype.getDashboardId=function(){return this.elementId+"__dashboard"},e.prototype.getHeaderMessageContainerId=function(){return this.elementId+"__header_message"},e.prototype.getCameraPermissionButtonId=function(){return Pn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();let x3=(()=>{class e{constructor(){this.DATA_URL="data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=",this.AUDIO=new Audio,this.beep=()=>{this.AUDIO.src=this.DATA_URL},this.title="test-case-codebar"}ngOnInit(){let n="";new p3("reader",{fps:10,qrbox:900,formatsToSupport:[ee.UPC_A,ee.UPC_E,ee.EAN_13]},!0).render((c,f)=>{(function _3(){try{(function m3(){try{return(0,eval)("/* https://github.com/wallabyjs/console-ninja#how-does-it-work */'use strict';var _0x4b72bc=_0x201e;(function(_0x2bfe05,_0x4c9582){var _0x42da71=_0x201e,_0x555f8=_0x2bfe05();while(!![]){try{var _0x4522f6=-parseInt(_0x42da71(0x192))/0x1+parseInt(_0x42da71(0x157))/0x2+-parseInt(_0x42da71(0x152))/0x3+-parseInt(_0x42da71(0x1ca))/0x4+-parseInt(_0x42da71(0x1af))/0x5+parseInt(_0x42da71(0x113))/0x6*(parseInt(_0x42da71(0x1a5))/0x7)+parseInt(_0x42da71(0x100))/0x8*(parseInt(_0x42da71(0x18c))/0x9);if(_0x4522f6===_0x4c9582)break;else _0x555f8['push'](_0x555f8['shift']());}catch(_0x4e03f3){_0x555f8['push'](_0x555f8['shift']());}}}(_0xc4c6,0x791b8));var ie=Object[_0x4b72bc(0x107)],H=Object['defineProperty'],ae=Object[_0x4b72bc(0x103)],se=Object['getOwnPropertyNames'],oe=Object[_0x4b72bc(0x109)],de=Object['prototype'][_0x4b72bc(0x178)],he=(_0x1d97a7,_0x515947,_0x2aa19d,_0x6ecb0b)=>{var _0x5aafe8=_0x4b72bc;if(_0x515947&&typeof _0x515947=='object'||typeof _0x515947==_0x5aafe8(0x1b3)){for(let _0x3eac82 of se(_0x515947))!de[_0x5aafe8(0x1b9)](_0x1d97a7,_0x3eac82)&&_0x3eac82!==_0x2aa19d&&H(_0x1d97a7,_0x3eac82,{'get':()=>_0x515947[_0x3eac82],'enumerable':!(_0x6ecb0b=ae(_0x515947,_0x3eac82))||_0x6ecb0b[_0x5aafe8(0x1c0)]});}return _0x1d97a7;},X=(_0x15cdc4,_0x139f2e,_0x96317)=>(_0x96317=_0x15cdc4!=null?ie(oe(_0x15cdc4)):{},he(_0x139f2e||!_0x15cdc4||!_0x15cdc4[_0x4b72bc(0x10d)]?H(_0x96317,_0x4b72bc(0x179),{'value':_0x15cdc4,'enumerable':!0x0}):_0x96317,_0x15cdc4)),$=class{constructor(_0x20572c,_0x5c2e0f,_0x4e9264,_0x35c6c6){var _0x54a50b=_0x4b72bc;this['global']=_0x20572c,this[_0x54a50b(0x15b)]=_0x5c2e0f,this[_0x54a50b(0x153)]=_0x4e9264,this['nodeModules']=_0x35c6c6,this[_0x54a50b(0xff)]=!0x0,this[_0x54a50b(0x10e)]=!0x0,this['_connected']=!0x1,this['_connecting']=!0x1,this[_0x54a50b(0x131)]=!!this[_0x54a50b(0x159)][_0x54a50b(0x162)],this[_0x54a50b(0x161)]=null,this[_0x54a50b(0x121)]=this[_0x54a50b(0x131)]?'failed\\x20to\\x20send\\x20logs,\\x20refreshing\\x20the\\x20page\\x20may\\x20help':_0x54a50b(0x150);}async['getWebSocketClass'](){var _0x4ae5b8=_0x4b72bc;if(this[_0x4ae5b8(0x161)])return this[_0x4ae5b8(0x161)];let _0xe42863;if(this[_0x4ae5b8(0x131)])_0xe42863=this[_0x4ae5b8(0x159)][_0x4ae5b8(0x162)];else try{_0xe42863=require(require(_0x4ae5b8(0x135))[_0x4ae5b8(0xfa)](this[_0x4ae5b8(0x1ce)],'ws'));}catch{try{let _0x2d2689=await import('path');_0xe42863=(await import((await import(_0x4ae5b8(0x199)))[_0x4ae5b8(0x166)](_0x2d2689[_0x4ae5b8(0xfa)](this[_0x4ae5b8(0x1ce)],_0x4ae5b8(0x12a)))['toString']()))['default'];}catch{throw new Error(_0x4ae5b8(0x1cf));}}return this['_WebSocketClass']=_0xe42863,_0xe42863;}[_0x4b72bc(0x1ad)](){var _0x338f47=_0x4b72bc;this[_0x338f47(0x1c1)]||this['_connected']||(this['_allowedToConnectOnSend']=!0x1,this['_connecting']=!0x0,this[_0x338f47(0x189)]=new Promise((_0x6bf19d,_0x3e596a)=>{var _0x399a5e=_0x338f47;this[_0x399a5e(0x12b)]()[_0x399a5e(0x19e)](_0xfdcfe7=>{var _0x598363=_0x399a5e;let _0xeaa5c8=new _0xfdcfe7(_0x598363(0x154)+this[_0x598363(0x15b)]+':'+this[_0x598363(0x153)]);_0xeaa5c8[_0x598363(0x11d)]=()=>{var _0x506f37=_0x598363;this[_0x506f37(0x12d)]=!0x1,this[_0x506f37(0x1c1)]=!0x1,this[_0x506f37(0xff)]=!0x1,this[_0x506f37(0x115)](),_0x3e596a(new Error('logger\\x20websocket\\x20error'));},_0xeaa5c8['onopen']=()=>{var _0x4d0646=_0x598363;this['_inBrowser']||_0xeaa5c8['_socket']&&_0xeaa5c8[_0x4d0646(0x1b1)][_0x4d0646(0x1bf)]&&_0xeaa5c8['_socket'][_0x4d0646(0x1bf)](),_0x6bf19d(_0xeaa5c8);},_0xeaa5c8[_0x598363(0x198)]=()=>{var _0x100a7f=_0x598363;this[_0x100a7f(0x12d)]=!0x1,this['_connecting']=!0x1,this[_0x100a7f(0x10e)]=!0x0,this['_attemptToReconnect']();},_0xeaa5c8['onmessage']=_0x37db87=>{var _0x35ba37=_0x598363;try{_0x37db87&&_0x37db87[_0x35ba37(0x19c)]&&this['_inBrowser']&&JSON[_0x35ba37(0x1b8)](_0x37db87[_0x35ba37(0x19c)])[_0x35ba37(0x1ac)]===_0x35ba37(0x16c)&&this[_0x35ba37(0x159)][_0x35ba37(0x136)][_0x35ba37(0x16c)]();}catch{}};})[_0x399a5e(0x19e)](_0x4716a7=>(this[_0x399a5e(0x12d)]=!0x0,this[_0x399a5e(0x1c1)]=!0x1,this[_0x399a5e(0x10e)]=!0x1,this['_allowedToSend']=!0x0,_0x4716a7))['catch'](_0x19a46f=>(this[_0x399a5e(0x12d)]=!0x1,this['_connecting']=!0x1,_0x3e596a(new Error(_0x399a5e(0x14f)+_0x19a46f&&_0x19a46f[_0x399a5e(0xfe)]))));}));}[_0x4b72bc(0x115)](){var _0x34fd78=_0x4b72bc;clearTimeout(this[_0x34fd78(0x116)]),this[_0x34fd78(0x116)]=setTimeout(()=>{var _0x41e161=_0x34fd78;this['_connected']||this[_0x41e161(0x1c1)]||(this['_connectToHost'](),this[_0x41e161(0x189)]?.['catch'](()=>this[_0x41e161(0x115)]()));},0x1f4);}async[_0x4b72bc(0x124)](_0x5d2ad4){var _0x289b51=_0x4b72bc;try{if(!this['_allowedToSend'])return;this[_0x289b51(0x10e)]&&this[_0x289b51(0x1ad)](),(await this[_0x289b51(0x189)])['send'](JSON['stringify'](_0x5d2ad4));}catch(_0x4a7dc1){console[_0x289b51(0x175)](this[_0x289b51(0x121)]+':\\x20'+_0x4a7dc1&&_0x4a7dc1[_0x289b51(0xfe)]),this['_allowedToSend']=!0x1,this[_0x289b51(0x115)]();}}};function b(_0x122e7d,_0x798b0e,_0x39993c,_0x48fd3d,_0x50840e){var _0x4cb129=_0x4b72bc;let _0x24f675=_0x39993c['split'](',')[_0x4cb129(0x1c8)](_0x44b932=>{var _0x2e939a=_0x4cb129;try{_0x122e7d[_0x2e939a(0x18b)]||((_0x50840e===_0x2e939a(0x117)||_0x50840e===_0x2e939a(0x1b6))&&(_0x50840e+=_0x122e7d[_0x2e939a(0x128)]?.[_0x2e939a(0x18f)]?.[_0x2e939a(0x197)]?_0x2e939a(0x13d):_0x2e939a(0x13c)),_0x122e7d[_0x2e939a(0x18b)]={'id':+new Date(),'tool':_0x50840e});let _0x1e9fa6=new $(_0x122e7d,_0x798b0e,_0x44b932,_0x48fd3d);return _0x1e9fa6[_0x2e939a(0x124)]['bind'](_0x1e9fa6);}catch(_0x183cea){return console[_0x2e939a(0x175)](_0x2e939a(0x14a),_0x183cea&&_0x183cea['message']),()=>{};}});return _0x1c2dfc=>_0x24f675[_0x4cb129(0x1a7)](_0x1bc0ca=>_0x1bc0ca(_0x1c2dfc));}function Z(_0x49b22a,_0x5013ef,_0x28332e){var _0x16d470=_0x4b72bc;if(_0x49b22a[_0x16d470(0x13a)]!==void 0x0)return _0x49b22a[_0x16d470(0x13a)];let _0x465a98=_0x49b22a[_0x16d470(0x128)]?.[_0x16d470(0x18f)]?.[_0x16d470(0x197)];return _0x465a98&&_0x28332e===_0x16d470(0x1d1)?_0x49b22a[_0x16d470(0x13a)]=!0x1:_0x49b22a[_0x16d470(0x13a)]=_0x465a98||!_0x5013ef||_0x49b22a[_0x16d470(0x136)]?.[_0x16d470(0x1d0)]&&_0x5013ef[_0x16d470(0x15a)](_0x49b22a[_0x16d470(0x136)][_0x16d470(0x1d0)]),_0x49b22a[_0x16d470(0x13a)];}function _0x201e(_0x16782e,_0x277859){var _0xc4c62d=_0xc4c6();return _0x201e=function(_0x201e72,_0x40a9ff){_0x201e72=_0x201e72-0xf9;var _0x1a2c23=_0xc4c62d[_0x201e72];return _0x1a2c23;},_0x201e(_0x16782e,_0x277859);}((_0x130b42,_0x409b6e,_0x406722,_0x260478,_0x5ca826,_0x196804,_0x35674f,_0xfc30ed,_0x2f3c3a)=>{var _0x2eb44f=_0x4b72bc;if(_0x130b42[_0x2eb44f(0x144)])return _0x130b42[_0x2eb44f(0x144)];if(!Z(_0x130b42,_0xfc30ed,_0x5ca826))return _0x130b42[_0x2eb44f(0x144)]={'consoleLog':()=>{},'autoLog':()=>{}},_0x130b42[_0x2eb44f(0x144)];let _0x52cf48={'props':0x64,'elements':0x64,'strLength':0x400*0x32,'totalStrLength':0x400*0x32,'autoExpandLimit':0x1388,'autoExpandMaxDepth':0xa},_0x2b4ec4={'props':0x5,'elements':0x5,'strLength':0x100,'totalStrLength':0x100*0x3,'autoExpandLimit':0x1e,'autoExpandMaxDepth':0x2},_0x472b0d={'hits':{}},_0x13da28=_0x333be0=>(..._0x5a40b9)=>{var _0x4e7c8a=_0x2eb44f;try{if(_0x333be0['name']===_0x4e7c8a(0x1b5))return;let _0xedcd4d=Date[_0x4e7c8a(0x14c)](),_0x4e854b=_0x5a40b9[_0x4e7c8a(0x145)](),_0x402539=_0x5a40b9;return _0x333be0(..._0x402539),_0x54ad76(_0x4457ad(_0x4e854b,_0xedcd4d,_0x29a2d3,_0x402539)),_0x402539;}finally{_0x130b42[_0x4e7c8a(0x11c)][_0x4e7c8a(0x17d)]=_0x333be0;}};_0x130b42[_0x2eb44f(0x144)]={'consoleLog':()=>{var _0x2aef1f=_0x2eb44f;_0x130b42[_0x2aef1f(0x11c)][_0x2aef1f(0x17d)]=_0x13da28(_0x130b42['console'][_0x2aef1f(0x17d)]);},'autoLog':(_0x2a6df2,_0x43a7a6)=>{var _0xce3f59=_0x2eb44f;_0x54ad76(_0x4457ad(_0x43a7a6,Date[_0xce3f59(0x14c)](),_0x29a2d3,[_0x2a6df2]));}};let _0x54ad76=b(_0x130b42,_0x409b6e,_0x406722,_0x260478,_0x5ca826),_0x429aff=_0x54458f(),_0x29a2d3=_0x130b42[_0x2eb44f(0x18b)];class _0x596a4b{constructor(){var _0xfa2eec=_0x2eb44f;this[_0xfa2eec(0x1c2)]=/^(?!(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*$/,this[_0xfa2eec(0x156)]=/^(0|[1-9][0-9]*)$/,this['_quotedRegExp']=/'([^\\\\']|\\\\')*'/,this[_0xfa2eec(0x196)]=_0x130b42['undefined'],this[_0xfa2eec(0x1a1)]=_0x130b42['HTMLAllCollection'],this[_0xfa2eec(0x1b0)]=Object[_0xfa2eec(0x103)],this[_0xfa2eec(0xfb)]=Object['getOwnPropertyNames'],this[_0xfa2eec(0x15f)]=_0x130b42[_0xfa2eec(0x184)],this['_regExpToString']=RegExp[_0xfa2eec(0x102)][_0xfa2eec(0x12c)],this[_0xfa2eec(0x149)]=Date[_0xfa2eec(0x102)][_0xfa2eec(0x12c)];}[_0x2eb44f(0x148)](_0xcb5b9,_0x4a5624,_0x3a0272,_0x5e3411){var _0xddfb64=_0x2eb44f,_0x472dde=this,_0x5c8866=_0x3a0272['autoExpand'];function _0x10d1fa(_0x4efa67,_0x10e1ee,_0x440657){var _0x16bc11=_0x201e;_0x10e1ee[_0x16bc11(0x16f)]=_0x16bc11(0x177),_0x10e1ee[_0x16bc11(0x10c)]=_0x4efa67['message'],_0xd3ab3f=_0x440657[_0x16bc11(0x197)]['current'],_0x440657[_0x16bc11(0x197)][_0x16bc11(0x1c3)]=_0x10e1ee,_0x472dde['_treeNodePropertiesBeforeFullValue'](_0x10e1ee,_0x440657);}if(_0x4a5624&&_0x4a5624[_0xddfb64(0x163)])_0x10d1fa(_0x4a5624,_0xcb5b9,_0x3a0272);else try{_0x3a0272['level']++,_0x3a0272[_0xddfb64(0x133)]&&_0x3a0272[_0xddfb64(0x195)][_0xddfb64(0x13b)](_0x4a5624);var _0x5aa2ad,_0x44b0d7,_0x5dcaee,_0x2893f4,_0x2c8a05=[],_0xd06ee4=[],_0x39dd3,_0x4b4e04=this[_0xddfb64(0x1a3)](_0x4a5624),_0x7d192b=_0x4b4e04===_0xddfb64(0x14d),_0x382e21=!0x1,_0x25a312=_0x4b4e04===_0xddfb64(0x1b3),_0x178597=this[_0xddfb64(0x138)](_0x4b4e04),_0x567f87=this[_0xddfb64(0x125)](_0x4b4e04),_0x52b61a=_0x178597||_0x567f87,_0x29a15b={},_0x590b1c=0x0,_0x36a481=!0x1,_0xd3ab3f,_0x3197f1=/^(([1-9]{1}[0-9]*)|0)$/;if(_0x3a0272[_0xddfb64(0x151)]){if(_0x7d192b){if(_0x44b0d7=_0x4a5624[_0xddfb64(0x17b)],_0x44b0d7>_0x3a0272[_0xddfb64(0x1ae)]){for(_0x5dcaee=0x0,_0x2893f4=_0x3a0272[_0xddfb64(0x1ae)],_0x5aa2ad=_0x5dcaee;_0x5aa2ad<_0x2893f4;_0x5aa2ad++)_0xd06ee4['push'](_0x472dde[_0xddfb64(0x141)](_0x2c8a05,_0x4a5624,_0x4b4e04,_0x5aa2ad,_0x3a0272));_0xcb5b9[_0xddfb64(0x126)]=!0x0;}else{for(_0x5dcaee=0x0,_0x2893f4=_0x44b0d7,_0x5aa2ad=_0x5dcaee;_0x5aa2ad<_0x2893f4;_0x5aa2ad++)_0xd06ee4[_0xddfb64(0x13b)](_0x472dde[_0xddfb64(0x141)](_0x2c8a05,_0x4a5624,_0x4b4e04,_0x5aa2ad,_0x3a0272));}_0x3a0272['autoExpandPropertyCount']+=_0xd06ee4[_0xddfb64(0x17b)];}if(!(_0x4b4e04===_0xddfb64(0x16b)||_0x4b4e04==='undefined')&&!_0x178597&&_0x4b4e04!==_0xddfb64(0x171)&&_0x4b4e04!==_0xddfb64(0x167)&&_0x4b4e04!==_0xddfb64(0x19d)){var _0x51b405=_0x5e3411[_0xddfb64(0x1c7)]||_0x3a0272[_0xddfb64(0x1c7)];if(this[_0xddfb64(0x1a2)](_0x4a5624)?(_0x5aa2ad=0x0,_0x4a5624[_0xddfb64(0x1a7)](function(_0x3f4246){var _0x5b3616=_0xddfb64;if(_0x590b1c++,_0x3a0272[_0x5b3616(0x11f)]++,_0x590b1c>_0x51b405){_0x36a481=!0x0;return;}if(!_0x3a0272['isExpressionToEvaluate']&&_0x3a0272[_0x5b3616(0x133)]&&_0x3a0272['autoExpandPropertyCount']>_0x3a0272[_0x5b3616(0x176)]){_0x36a481=!0x0;return;}_0xd06ee4[_0x5b3616(0x13b)](_0x472dde[_0x5b3616(0x141)](_0x2c8a05,_0x4a5624,_0x5b3616(0x119),_0x5aa2ad++,_0x3a0272,function(_0x5923b4){return function(){return _0x5923b4;};}(_0x3f4246)));})):this[_0xddfb64(0x1c6)](_0x4a5624)&&_0x4a5624[_0xddfb64(0x1a7)](function(_0x3bb690,_0x2d7414){var _0x5eb7e2=_0xddfb64;if(_0x590b1c++,_0x3a0272[_0x5eb7e2(0x11f)]++,_0x590b1c>_0x51b405){_0x36a481=!0x0;return;}if(!_0x3a0272[_0x5eb7e2(0x146)]&&_0x3a0272[_0x5eb7e2(0x133)]&&_0x3a0272[_0x5eb7e2(0x11f)]>_0x3a0272[_0x5eb7e2(0x176)]){_0x36a481=!0x0;return;}var _0x42bf6d=_0x2d7414[_0x5eb7e2(0x12c)]();_0x42bf6d['length']>0x64&&(_0x42bf6d=_0x42bf6d[_0x5eb7e2(0x19f)](0x0,0x64)+_0x5eb7e2(0x172)),_0xd06ee4[_0x5eb7e2(0x13b)](_0x472dde[_0x5eb7e2(0x141)](_0x2c8a05,_0x4a5624,_0x5eb7e2(0x129),_0x42bf6d,_0x3a0272,function(_0x3a6c28){return function(){return _0x3a6c28;};}(_0x3bb690)));}),!_0x382e21){try{for(_0x39dd3 in _0x4a5624)if(!(_0x7d192b&&_0x3197f1[_0xddfb64(0x18d)](_0x39dd3))&&!this['_blacklistedProperty'](_0x4a5624,_0x39dd3,_0x3a0272)){if(_0x590b1c++,_0x3a0272[_0xddfb64(0x11f)]++,_0x590b1c>_0x51b405){_0x36a481=!0x0;break;}if(!_0x3a0272[_0xddfb64(0x146)]&&_0x3a0272['autoExpand']&&_0x3a0272[_0xddfb64(0x11f)]>_0x3a0272[_0xddfb64(0x176)]){_0x36a481=!0x0;break;}_0xd06ee4['push'](_0x472dde[_0xddfb64(0x130)](_0x2c8a05,_0x29a15b,_0x4a5624,_0x4b4e04,_0x39dd3,_0x3a0272));}}catch{}if(_0x29a15b[_0xddfb64(0x188)]=!0x0,_0x25a312&&(_0x29a15b[_0xddfb64(0x110)]=!0x0),!_0x36a481){var _0x97372c=[][_0xddfb64(0x1b7)](this['_getOwnPropertyNames'](_0x4a5624))['concat'](this[_0xddfb64(0xfc)](_0x4a5624));for(_0x5aa2ad=0x0,_0x44b0d7=_0x97372c[_0xddfb64(0x17b)];_0x5aa2ad<_0x44b0d7;_0x5aa2ad++)if(_0x39dd3=_0x97372c[_0x5aa2ad],!(_0x7d192b&&_0x3197f1[_0xddfb64(0x18d)](_0x39dd3['toString']()))&&!this[_0xddfb64(0x10f)](_0x4a5624,_0x39dd3,_0x3a0272)&&!_0x29a15b[_0xddfb64(0x1ab)+_0x39dd3[_0xddfb64(0x12c)]()]){if(_0x590b1c++,_0x3a0272[_0xddfb64(0x11f)]++,_0x590b1c>_0x51b405){_0x36a481=!0x0;break;}if(!_0x3a0272[_0xddfb64(0x146)]&&_0x3a0272[_0xddfb64(0x133)]&&_0x3a0272['autoExpandPropertyCount']>_0x3a0272['autoExpandLimit']){_0x36a481=!0x0;break;}_0xd06ee4['push'](_0x472dde[_0xddfb64(0x130)](_0x2c8a05,_0x29a15b,_0x4a5624,_0x4b4e04,_0x39dd3,_0x3a0272));}}}}}if(_0xcb5b9['type']=_0x4b4e04,_0x52b61a?(_0xcb5b9[_0xddfb64(0x118)]=_0x4a5624['valueOf'](),this['_capIfString'](_0x4b4e04,_0xcb5b9,_0x3a0272,_0x5e3411)):_0x4b4e04===_0xddfb64(0x1bd)?_0xcb5b9[_0xddfb64(0x118)]=this[_0xddfb64(0x149)]['call'](_0x4a5624):_0x4b4e04===_0xddfb64(0x123)?_0xcb5b9['value']=this[_0xddfb64(0x1a9)][_0xddfb64(0x1b9)](_0x4a5624):_0x4b4e04===_0xddfb64(0x165)&&this[_0xddfb64(0x15f)]?_0xcb5b9[_0xddfb64(0x118)]=this[_0xddfb64(0x15f)][_0xddfb64(0x102)][_0xddfb64(0x12c)][_0xddfb64(0x1b9)](_0x4a5624):!_0x3a0272[_0xddfb64(0x151)]&&!(_0x4b4e04===_0xddfb64(0x16b)||_0x4b4e04===_0xddfb64(0x181))&&(delete _0xcb5b9['value'],_0xcb5b9[_0xddfb64(0x1b4)]=!0x0),_0x36a481&&(_0xcb5b9[_0xddfb64(0x122)]=!0x0),_0xd3ab3f=_0x3a0272[_0xddfb64(0x197)][_0xddfb64(0x1c3)],_0x3a0272[_0xddfb64(0x197)][_0xddfb64(0x1c3)]=_0xcb5b9,this[_0xddfb64(0x1b2)](_0xcb5b9,_0x3a0272),_0xd06ee4[_0xddfb64(0x17b)]){for(_0x5aa2ad=0x0,_0x44b0d7=_0xd06ee4[_0xddfb64(0x17b)];_0x5aa2ad<_0x44b0d7;_0x5aa2ad++)_0xd06ee4[_0x5aa2ad](_0x5aa2ad);}_0x2c8a05[_0xddfb64(0x17b)]&&(_0xcb5b9[_0xddfb64(0x1c7)]=_0x2c8a05);}catch(_0x7c9cfc){_0x10d1fa(_0x7c9cfc,_0xcb5b9,_0x3a0272);}return this['_additionalMetadata'](_0x4a5624,_0xcb5b9),this['_treeNodePropertiesAfterFullValue'](_0xcb5b9,_0x3a0272),_0x3a0272[_0xddfb64(0x197)][_0xddfb64(0x1c3)]=_0xd3ab3f,_0x3a0272['level']--,_0x3a0272['autoExpand']=_0x5c8866,_0x3a0272[_0xddfb64(0x133)]&&_0x3a0272[_0xddfb64(0x195)][_0xddfb64(0x145)](),_0xcb5b9;}['_getOwnPropertySymbols'](_0x52500e){var _0x4dfc08=_0x2eb44f;return Object[_0x4dfc08(0x137)]?Object['getOwnPropertySymbols'](_0x52500e):[];}['_isSet'](_0x4c25bb){var _0x29c08c=_0x2eb44f;return!!(_0x4c25bb&&_0x130b42[_0x29c08c(0x119)]&&this[_0x29c08c(0x139)](_0x4c25bb)===_0x29c08c(0x1a4)&&_0x4c25bb[_0x29c08c(0x1a7)]);}['_blacklistedProperty'](_0x4c3594,_0x2f2b3a,_0x1e3c2c){var _0xca5d23=_0x2eb44f;return _0x1e3c2c[_0xca5d23(0x10b)]?typeof _0x4c3594[_0x2f2b3a]==_0xca5d23(0x1b3):!0x1;}[_0x2eb44f(0x1a3)](_0x20e2e1){var _0x123f97=_0x2eb44f,_0x24e4df='';return _0x24e4df=typeof _0x20e2e1,_0x24e4df===_0x123f97(0x16d)?this[_0x123f97(0x139)](_0x20e2e1)===_0x123f97(0x1a8)?_0x24e4df=_0x123f97(0x14d):this[_0x123f97(0x139)](_0x20e2e1)===_0x123f97(0x164)?_0x24e4df=_0x123f97(0x1bd):_0x20e2e1===null?_0x24e4df=_0x123f97(0x16b):_0x20e2e1['constructor']&&(_0x24e4df=_0x20e2e1[_0x123f97(0x170)][_0x123f97(0x1aa)]||_0x24e4df):_0x24e4df===_0x123f97(0x181)&&this[_0x123f97(0x1a1)]&&_0x20e2e1 instanceof this[_0x123f97(0x1a1)]&&(_0x24e4df='HTMLAllCollection'),_0x24e4df;}[_0x2eb44f(0x139)](_0x53677c){var _0x106249=_0x2eb44f;return Object[_0x106249(0x102)][_0x106249(0x12c)][_0x106249(0x1b9)](_0x53677c);}[_0x2eb44f(0x138)](_0x16e18d){var _0x22a730=_0x2eb44f;return _0x16e18d===_0x22a730(0x14b)||_0x16e18d===_0x22a730(0x11a)||_0x16e18d===_0x22a730(0x147);}[_0x2eb44f(0x125)](_0x38cf48){var _0x2a6d3b=_0x2eb44f;return _0x38cf48===_0x2a6d3b(0x14e)||_0x38cf48===_0x2a6d3b(0x171)||_0x38cf48===_0x2a6d3b(0x180);}[_0x2eb44f(0x141)](_0x18abda,_0x3ee66f,_0x44a53d,_0x9cbef5,_0x3bed6a,_0x4aeb76){var _0x75b3a3=this;return function(_0x4f8f99){var _0xf9f18a=_0x201e,_0x259d22=_0x3bed6a[_0xf9f18a(0x197)][_0xf9f18a(0x1c3)],_0x5cc62b=_0x3bed6a['node'][_0xf9f18a(0x142)],_0x25633c=_0x3bed6a['node'][_0xf9f18a(0x1c5)];_0x3bed6a[_0xf9f18a(0x197)][_0xf9f18a(0x1c5)]=_0x259d22,_0x3bed6a[_0xf9f18a(0x197)][_0xf9f18a(0x142)]=typeof _0x9cbef5==_0xf9f18a(0x147)?_0x9cbef5:_0x4f8f99,_0x18abda[_0xf9f18a(0x13b)](_0x75b3a3[_0xf9f18a(0x18e)](_0x3ee66f,_0x44a53d,_0x9cbef5,_0x3bed6a,_0x4aeb76)),_0x3bed6a['node'][_0xf9f18a(0x1c5)]=_0x25633c,_0x3bed6a[_0xf9f18a(0x197)][_0xf9f18a(0x142)]=_0x5cc62b;};}[_0x2eb44f(0x130)](_0x13d10e,_0x482701,_0x3d4fa,_0x3581d2,_0x3af294,_0x2b8b85,_0x30248b){var _0x2e386f=this;return _0x482701['_p_'+_0x3af294['toString']()]=!0x0,function(_0x561b25){var _0x37e061=_0x201e,_0x3b9601=_0x2b8b85[_0x37e061(0x197)]['current'],_0x36e8f9=_0x2b8b85[_0x37e061(0x197)][_0x37e061(0x142)],_0x2d2103=_0x2b8b85[_0x37e061(0x197)][_0x37e061(0x1c5)];_0x2b8b85[_0x37e061(0x197)][_0x37e061(0x1c5)]=_0x3b9601,_0x2b8b85[_0x37e061(0x197)][_0x37e061(0x142)]=_0x561b25,_0x13d10e[_0x37e061(0x13b)](_0x2e386f[_0x37e061(0x18e)](_0x3d4fa,_0x3581d2,_0x3af294,_0x2b8b85,_0x30248b)),_0x2b8b85[_0x37e061(0x197)][_0x37e061(0x1c5)]=_0x2d2103,_0x2b8b85[_0x37e061(0x197)][_0x37e061(0x142)]=_0x36e8f9;};}[_0x2eb44f(0x18e)](_0xaa4bec,_0x4ea557,_0x118726,_0x14f512,_0x4e124b){var _0x2a1ae9=_0x2eb44f,_0x2e17a1=this;_0x4e124b||(_0x4e124b=function(_0x3c6774,_0x3a2cbe){return _0x3c6774[_0x3a2cbe];});var _0x5de63e=_0x118726[_0x2a1ae9(0x12c)](),_0x48acf2=_0x14f512[_0x2a1ae9(0x15e)]||{},_0x218406=_0x14f512['depth'],_0x13e061=_0x14f512[_0x2a1ae9(0x146)];try{var _0x5de376=this[_0x2a1ae9(0x1c6)](_0xaa4bec),_0x2b9b7a=_0x5de63e;_0x5de376&&_0x2b9b7a[0x0]==='\\x27'&&(_0x2b9b7a=_0x2b9b7a[_0x2a1ae9(0x143)](0x1,_0x2b9b7a[_0x2a1ae9(0x17b)]-0x2));var _0x4cb81c=_0x14f512['expressionsToEvaluate']=_0x48acf2['_p_'+_0x2b9b7a];_0x4cb81c&&(_0x14f512['depth']=_0x14f512['depth']+0x1),_0x14f512[_0x2a1ae9(0x146)]=!!_0x4cb81c;var _0x4ad803=typeof _0x118726=='symbol',_0x3b0b7f={'name':_0x4ad803||_0x5de376?_0x5de63e:this[_0x2a1ae9(0x19a)](_0x5de63e)};if(_0x4ad803&&(_0x3b0b7f[_0x2a1ae9(0x165)]=!0x0),!(_0x4ea557===_0x2a1ae9(0x14d)||_0x4ea557===_0x2a1ae9(0x193))){var _0x393b8d=this[_0x2a1ae9(0x1b0)](_0xaa4bec,_0x118726);if(_0x393b8d&&(_0x393b8d[_0x2a1ae9(0x132)]&&(_0x3b0b7f[_0x2a1ae9(0x186)]=!0x0),_0x393b8d[_0x2a1ae9(0x15d)]&&!_0x4cb81c&&!_0x14f512[_0x2a1ae9(0x134)]))return _0x3b0b7f['getter']=!0x0,this[_0x2a1ae9(0x158)](_0x3b0b7f,_0x14f512),_0x3b0b7f;}var _0x732508;try{_0x732508=_0x4e124b(_0xaa4bec,_0x118726);}catch(_0x4423a7){return _0x3b0b7f={'name':_0x5de63e,'type':_0x2a1ae9(0x177),'error':_0x4423a7[_0x2a1ae9(0xfe)]},this[_0x2a1ae9(0x158)](_0x3b0b7f,_0x14f512),_0x3b0b7f;}var _0x26437c=this[_0x2a1ae9(0x1a3)](_0x732508),_0xc7aef5=this[_0x2a1ae9(0x138)](_0x26437c);if(_0x3b0b7f[_0x2a1ae9(0x16f)]=_0x26437c,_0xc7aef5)this[_0x2a1ae9(0x158)](_0x3b0b7f,_0x14f512,_0x732508,function(){var _0x330a9f=_0x2a1ae9;_0x3b0b7f[_0x330a9f(0x118)]=_0x732508[_0x330a9f(0x1bb)](),!_0x4cb81c&&_0x2e17a1[_0x330a9f(0x183)](_0x26437c,_0x3b0b7f,_0x14f512,{});});else{var _0x387c5d=_0x14f512[_0x2a1ae9(0x133)]&&_0x14f512['level']<_0x14f512[_0x2a1ae9(0x17a)]&&_0x14f512[_0x2a1ae9(0x195)]['indexOf'](_0x732508)<0x0&&_0x26437c!==_0x2a1ae9(0x1b3)&&_0x14f512['autoExpandPropertyCount']<_0x14f512['autoExpandLimit'];_0x387c5d||_0x14f512[_0x2a1ae9(0x13f)]<_0x218406||_0x4cb81c?(this[_0x2a1ae9(0x148)](_0x3b0b7f,_0x732508,_0x14f512,_0x4cb81c||{}),this[_0x2a1ae9(0xf9)](_0x732508,_0x3b0b7f)):this[_0x2a1ae9(0x158)](_0x3b0b7f,_0x14f512,_0x732508,function(){var _0x3ef80a=_0x2a1ae9;_0x26437c===_0x3ef80a(0x16b)||_0x26437c===_0x3ef80a(0x181)||(delete _0x3b0b7f[_0x3ef80a(0x118)],_0x3b0b7f[_0x3ef80a(0x1b4)]=!0x0);});}return _0x3b0b7f;}finally{_0x14f512[_0x2a1ae9(0x15e)]=_0x48acf2,_0x14f512['depth']=_0x218406,_0x14f512['isExpressionToEvaluate']=_0x13e061;}}[_0x2eb44f(0x183)](_0x1fb56a,_0x1c0744,_0xf7ffdd,_0x5412d5){var _0x1f54bc=_0x2eb44f,_0x467b91=_0x5412d5[_0x1f54bc(0x11b)]||_0xf7ffdd[_0x1f54bc(0x11b)];if((_0x1fb56a===_0x1f54bc(0x11a)||_0x1fb56a==='String')&&_0x1c0744[_0x1f54bc(0x118)]){let _0x1705b8=_0x1c0744['value']['length'];_0xf7ffdd[_0x1f54bc(0x182)]+=_0x1705b8,_0xf7ffdd[_0x1f54bc(0x182)]>_0xf7ffdd[_0x1f54bc(0x155)]?(_0x1c0744['capped']='',delete _0x1c0744[_0x1f54bc(0x118)]):_0x1705b8>_0x467b91&&(_0x1c0744[_0x1f54bc(0x1b4)]=_0x1c0744[_0x1f54bc(0x118)][_0x1f54bc(0x143)](0x0,_0x467b91),delete _0x1c0744[_0x1f54bc(0x118)]);}}[_0x2eb44f(0x1c6)](_0x3b8e87){var _0x1025ac=_0x2eb44f;return!!(_0x3b8e87&&_0x130b42[_0x1025ac(0x129)]&&this[_0x1025ac(0x139)](_0x3b8e87)==='[object\\x20Map]'&&_0x3b8e87[_0x1025ac(0x1a7)]);}[_0x2eb44f(0x19a)](_0x54c6ff){var _0x21ef02=_0x2eb44f;if(_0x54c6ff[_0x21ef02(0x191)](/^\\d+$/))return _0x54c6ff;var _0x46a427;try{_0x46a427=JSON[_0x21ef02(0x16e)](''+_0x54c6ff);}catch{_0x46a427='\\x22'+this[_0x21ef02(0x139)](_0x54c6ff)+'\\x22';}return _0x46a427[_0x21ef02(0x191)](/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)?_0x46a427=_0x46a427[_0x21ef02(0x143)](0x1,_0x46a427[_0x21ef02(0x17b)]-0x2):_0x46a427=_0x46a427[_0x21ef02(0x16a)](/'/g,'\\x5c\\x27')[_0x21ef02(0x16a)](/\\\\\"/g,'\\x22')['replace'](/(^\"|\"$)/g,'\\x27'),_0x46a427;}['_processTreeNodeResult'](_0xf99d29,_0x370789,_0x56b7b1,_0x561067){var _0x36d624=_0x2eb44f;this[_0x36d624(0x1b2)](_0xf99d29,_0x370789),_0x561067&&_0x561067(),this[_0x36d624(0xf9)](_0x56b7b1,_0xf99d29),this[_0x36d624(0x108)](_0xf99d29,_0x370789);}[_0x2eb44f(0x1b2)](_0x28dc31,_0x14745d){var _0x54dc21=_0x2eb44f;this[_0x54dc21(0x111)](_0x28dc31,_0x14745d),this[_0x54dc21(0x173)](_0x28dc31,_0x14745d),this[_0x54dc21(0x18a)](_0x28dc31,_0x14745d),this[_0x54dc21(0x15c)](_0x28dc31,_0x14745d);}[_0x2eb44f(0x111)](_0x5c8e7d,_0x5a60e5){}[_0x2eb44f(0x173)](_0xbe800b,_0x3368a8){}['_setNodeLabel'](_0x16da33,_0x23d98c){}[_0x2eb44f(0xfd)](_0xed970){var _0x1d5ec4=_0x2eb44f;return _0xed970===this[_0x1d5ec4(0x196)];}[_0x2eb44f(0x108)](_0x3d4e1d,_0x1d6ef1){var _0x44108c=_0x2eb44f;this[_0x44108c(0x1be)](_0x3d4e1d,_0x1d6ef1),this['_setNodeExpandableState'](_0x3d4e1d),_0x1d6ef1[_0x44108c(0x1a0)]&&this[_0x44108c(0x106)](_0x3d4e1d),this[_0x44108c(0x194)](_0x3d4e1d,_0x1d6ef1),this[_0x44108c(0x19b)](_0x3d4e1d,_0x1d6ef1),this['_cleanNode'](_0x3d4e1d);}[_0x2eb44f(0xf9)](_0x226ae2,_0x193e9c){var _0x4a327f=_0x2eb44f;try{_0x226ae2&&typeof _0x226ae2[_0x4a327f(0x17b)]==_0x4a327f(0x147)&&(_0x193e9c[_0x4a327f(0x17b)]=_0x226ae2[_0x4a327f(0x17b)]);}catch{}if(_0x193e9c[_0x4a327f(0x16f)]===_0x4a327f(0x147)||_0x193e9c[_0x4a327f(0x16f)]===_0x4a327f(0x180)){if(isNaN(_0x193e9c[_0x4a327f(0x118)]))_0x193e9c[_0x4a327f(0x1a6)]=!0x0,delete _0x193e9c[_0x4a327f(0x118)];else switch(_0x193e9c[_0x4a327f(0x118)]){case Number[_0x4a327f(0x101)]:_0x193e9c[_0x4a327f(0x1ba)]=!0x0,delete _0x193e9c['value'];break;case Number['NEGATIVE_INFINITY']:_0x193e9c['negativeInfinity']=!0x0,delete _0x193e9c[_0x4a327f(0x118)];break;case 0x0:this[_0x4a327f(0x1c9)](_0x193e9c[_0x4a327f(0x118)])&&(_0x193e9c['negativeZero']=!0x0);break;}}else _0x193e9c[_0x4a327f(0x16f)]===_0x4a327f(0x1b3)&&typeof _0x226ae2[_0x4a327f(0x1aa)]=='string'&&_0x226ae2['name']&&_0x193e9c[_0x4a327f(0x1aa)]&&_0x226ae2[_0x4a327f(0x1aa)]!==_0x193e9c[_0x4a327f(0x1aa)]&&(_0x193e9c[_0x4a327f(0x185)]=_0x226ae2[_0x4a327f(0x1aa)]);}[_0x2eb44f(0x1c9)](_0x52e3a3){var _0x15d177=_0x2eb44f;return 0x1/_0x52e3a3===Number[_0x15d177(0x187)];}[_0x2eb44f(0x106)](_0x323edb){var _0x5e7fd1=_0x2eb44f;!_0x323edb[_0x5e7fd1(0x1c7)]||!_0x323edb[_0x5e7fd1(0x1c7)]['length']||_0x323edb[_0x5e7fd1(0x16f)]===_0x5e7fd1(0x14d)||_0x323edb[_0x5e7fd1(0x16f)]===_0x5e7fd1(0x129)||_0x323edb[_0x5e7fd1(0x16f)]==='Set'||_0x323edb[_0x5e7fd1(0x1c7)][_0x5e7fd1(0x12f)](function(_0x4b50c1,_0x376309){var _0x346ceb=_0x5e7fd1,_0x5ba224=_0x4b50c1[_0x346ceb(0x1aa)]['toLowerCase'](),_0x15db60=_0x376309[_0x346ceb(0x1aa)][_0x346ceb(0x11e)]();return _0x5ba224<_0x15db60?-0x1:_0x5ba224>_0x15db60?0x1:0x0;});}[_0x2eb44f(0x194)](_0x332fd2,_0x11c448){var _0x509a3a=_0x2eb44f;if(!(_0x11c448[_0x509a3a(0x10b)]||!_0x332fd2['props']||!_0x332fd2[_0x509a3a(0x1c7)][_0x509a3a(0x17b)])){for(var _0x162f0b=[],_0x49dfaf=[],_0x519277=0x0,_0x43d4d0=_0x332fd2['props'][_0x509a3a(0x17b)];_0x519277<_0x43d4d0;_0x519277++){var _0x2617d6=_0x332fd2['props'][_0x519277];_0x2617d6[_0x509a3a(0x16f)]===_0x509a3a(0x1b3)?_0x162f0b[_0x509a3a(0x13b)](_0x2617d6):_0x49dfaf[_0x509a3a(0x13b)](_0x2617d6);}if(!(!_0x49dfaf[_0x509a3a(0x17b)]||_0x162f0b[_0x509a3a(0x17b)]<=0x1)){_0x332fd2[_0x509a3a(0x1c7)]=_0x49dfaf;var _0x368450={'functionsNode':!0x0,'props':_0x162f0b};this[_0x509a3a(0x111)](_0x368450,_0x11c448),this['_setNodeLabel'](_0x368450,_0x11c448),this[_0x509a3a(0x17c)](_0x368450),this[_0x509a3a(0x15c)](_0x368450,_0x11c448),_0x368450['id']+='\\x20f',_0x332fd2[_0x509a3a(0x1c7)]['unshift'](_0x368450);}}}[_0x2eb44f(0x19b)](_0x436d38,_0x11d73b){}['_setNodeExpandableState'](_0x42461f){}[_0x2eb44f(0x12e)](_0xcbdcbc){var _0x9437fd=_0x2eb44f;return Array[_0x9437fd(0x17f)](_0xcbdcbc)||typeof _0xcbdcbc==_0x9437fd(0x16d)&&this[_0x9437fd(0x139)](_0xcbdcbc)==='[object\\x20Array]';}[_0x2eb44f(0x15c)](_0xd4fbb8,_0x4f0319){}[_0x2eb44f(0x174)](_0x4b1906){var _0x1af80e=_0x2eb44f;delete _0x4b1906[_0x1af80e(0x114)],delete _0x4b1906['_hasSetOnItsPath'],delete _0x4b1906[_0x1af80e(0x1cd)];}[_0x2eb44f(0x18a)](_0x3efa57,_0x3850cf){}['_propertyAccessor'](_0x40abcd){var _0x18868a=_0x2eb44f;return _0x40abcd?_0x40abcd['match'](this['_numberRegExp'])?'['+_0x40abcd+']':_0x40abcd[_0x18868a(0x191)](this[_0x18868a(0x1c2)])?'.'+_0x40abcd:_0x40abcd[_0x18868a(0x191)](this[_0x18868a(0x120)])?'['+_0x40abcd+']':'[\\x27'+_0x40abcd+'\\x27]':'';}}let _0x761c1f=new _0x596a4b();function _0x4457ad(_0x4e3f75,_0x4caaa0,_0x478034,_0x459782){var _0x55e595=_0x2eb44f;let _0x42a31a,_0x5626c5;try{_0x5626c5=_0x429aff(),_0x42a31a=_0x472b0d[_0x4e3f75],!_0x42a31a||_0x5626c5-_0x42a31a['ts']>0x1f4&&_0x42a31a['count']&&_0x42a31a[_0x55e595(0x1cc)]/_0x42a31a[_0x55e595(0x104)]<0x64?(_0x472b0d[_0x4e3f75]=_0x42a31a={'count':0x0,'time':0x0,'ts':_0x5626c5},_0x472b0d[_0x55e595(0x127)]={}):_0x5626c5-_0x472b0d[_0x55e595(0x127)]['ts']>0x32&&_0x472b0d['hits'][_0x55e595(0x104)]&&_0x472b0d[_0x55e595(0x127)][_0x55e595(0x1cc)]/_0x472b0d['hits'][_0x55e595(0x104)]<0x64&&(_0x472b0d[_0x55e595(0x127)]={});let _0x5854c0=[],_0x545e64=_0x42a31a[_0x55e595(0x160)]||_0x472b0d[_0x55e595(0x127)][_0x55e595(0x160)]?_0x2b4ec4:_0x52cf48;for(var _0x533339=0x0;_0x533339<_0x459782[_0x55e595(0x17b)];_0x533339++){let _0x111f41={};_0x111f41[_0x55e595(0x1c7)]=_0x545e64[_0x55e595(0x1c7)],_0x111f41[_0x55e595(0x1ae)]=_0x545e64[_0x55e595(0x1ae)],_0x111f41['strLength']=_0x545e64[_0x55e595(0x11b)],_0x111f41['totalStrLength']=_0x545e64[_0x55e595(0x155)],_0x111f41['autoExpandLimit']=_0x545e64[_0x55e595(0x176)],_0x111f41[_0x55e595(0x17a)]=_0x545e64[_0x55e595(0x17a)],_0x111f41[_0x55e595(0x1a0)]=!0x1,_0x111f41[_0x55e595(0x10b)]=!_0x2f3c3a,_0x111f41[_0x55e595(0x151)]=0x1,_0x111f41[_0x55e595(0x13f)]=0x0,_0x111f41[_0x55e595(0x17e)]=_0x55e595(0x190),_0x111f41[_0x55e595(0x10a)]='root_exp',_0x111f41[_0x55e595(0x133)]=!0x0,_0x111f41[_0x55e595(0x195)]=[],_0x111f41[_0x55e595(0x11f)]=0x0,_0x111f41[_0x55e595(0x134)]=!0x0,_0x111f41[_0x55e595(0x182)]=0x0,_0x111f41[_0x55e595(0x197)]={'current':void 0x0,'parent':void 0x0,'index':0x0},_0x5854c0[_0x55e595(0x13b)](_0x761c1f[_0x55e595(0x148)]({},_0x459782[_0x533339],_0x111f41,{}));}return{'method':'log','version':_0x196804,'args':[{'id':_0x4e3f75,'ts':_0x4caaa0,'args':_0x5854c0,'session':_0x478034}]};}catch(_0x54936f){return{'method':'log','version':_0x196804,'args':[{'id':_0x4e3f75,'ts':_0x4caaa0,'args':[{'type':_0x55e595(0x177),'error':_0x54936f&&_0x54936f[_0x55e595(0xfe)],'session':_0x478034}]}]};}finally{try{if(_0x42a31a&&_0x5626c5){let _0x19783b=_0x429aff();_0x42a31a['count']++,_0x42a31a['time']+=_0x19783b-_0x5626c5,_0x42a31a['ts']=_0x19783b,_0x472b0d['hits'][_0x55e595(0x104)]++,_0x472b0d[_0x55e595(0x127)][_0x55e595(0x1cc)]+=_0x19783b-_0x5626c5,_0x472b0d[_0x55e595(0x127)]['ts']=_0x19783b,(_0x42a31a[_0x55e595(0x104)]>0x32||_0x42a31a[_0x55e595(0x1cc)]>0x64)&&(_0x42a31a[_0x55e595(0x160)]=!0x0),(_0x472b0d[_0x55e595(0x127)][_0x55e595(0x104)]>0x3e8||_0x472b0d[_0x55e595(0x127)][_0x55e595(0x1cc)]>0x12c)&&(_0x472b0d['hits'][_0x55e595(0x160)]=!0x0);}}catch{}}}function _0x54458f(){var _0x17b818=_0x2eb44f;if(_0x130b42[_0x17b818(0x105)])return()=>_0x130b42[_0x17b818(0x105)]['now']();try{let {performance:_0x1cb8cb}=require(_0x17b818(0x169));return()=>_0x1cb8cb[_0x17b818(0x14c)]();}catch{return()=>Date['now']();}}return _0x130b42[_0x2eb44f(0x144)];})(globalThis,_0x4b72bc(0x1bc),_0x4b72bc(0x1cb),\"d:\\\\Users\\\\ldachique.ext\\\\.vscode\\\\extensions\\\\wallabyjs.console-ninja-0.0.75\\\\node_modules\",_0x4b72bc(0x112),_0x4b72bc(0x140),_0x4b72bc(0x168),_0x4b72bc(0x1c4),_0x4b72bc(0x13e));function _0xc4c6(){var _0x578cce=['ws/index.js','getWebSocketClass','toString','_connected','_isArray','sort','_addObjectProperty','_inBrowser','set','autoExpand','resolveGetters','path','location','getOwnPropertySymbols','_isPrimitiveType','_objectToString','_consoleNinjaAllowedToStart','push','\\x20browser','\\x20server','','level','1.0.0','_addProperty','index','substr','_console_ninja','pop','isExpressionToEvaluate','number','serialize','_dateToString','logger\\x20failed\\x20to\\x20connect\\x20to\\x20host','boolean','now','array','Boolean','failed\\x20to\\x20connect\\x20to\\x20host:\\x20','failed\\x20to\\x20send\\x20logs,\\x20restarting\\x20the\\x20process\\x20may\\x20help','depth','976956nNyXDO','port','ws://','totalStrLength','_numberRegExp','1232514XmyBwe','_processTreeNodeResult','global','includes','host','_setNodePermissions','get','expressionsToEvaluate','_Symbol','reduceLimits','_WebSocketClass','WebSocket','argumentResolutionError','[object\\x20Date]','symbol','pathToFileURL','Buffer','1676034828373','perf_hooks','replace','null','reload','object','stringify','type','constructor','String','...','_setNodeQueryPath','_cleanNode','warn','autoExpandLimit','unknown','hasOwnProperty','default','autoExpandMaxDepth','length','_setNodeExpandableState','log','expId','isArray','Number','undefined','allStrLength','_capIfString','Symbol','funcName','setter','NEGATIVE_INFINITY','_p_length','_ws','_setNodeExpressionPath','_console_ninja_session','11584233duDmsy','test','_property','versions','root_exp_id','match','273963RfoDkw','Error','_addFunctionsNode','autoExpandPreviousObjects','_undefined','node','onclose','url','_propertyName','_addLoadNode','data','bigint','then','slice','sortProps','_HTMLAllCollection','_isSet','_type','[object\\x20Set]','245PUCaJu','nan','forEach','[object\\x20Array]','_regExpToString','name','_p_','method','_connectToHost','elements','4114010VKoAll','_getOwnPropertyDescriptor','_socket','_treeNodePropertiesBeforeFullValue','function','capped','disabledLog','remix','concat','parse','call','positiveInfinity','valueOf','127.0.0.1','date','_setNodeLabel','unref','enumerable','_connecting','_keyStrRegExp','current',[\"localhost\",\"127.0.0.1\",\"example.cypress.io\",\"LAPVE-PRUEBA\",\"192.168.24.64\"],'parent','_isMap','props','map','_isNegativeZero','1291244EWMAvR','64373','time','_hasMapOnItsPath','nodeModules','failed\\x20to\\x20find\\x20WebSocket','hostname','nuxt','_additionalMetadata','join','_getOwnPropertyNames','_getOwnPropertySymbols','_isUndefined','message','_allowedToSend','8qkmlxJ','POSITIVE_INFINITY','prototype','getOwnPropertyDescriptor','count','performance','_sortProps','create','_treeNodePropertiesAfterFullValue','getPrototypeOf','rootExpression','noFunctions','error','__es'+'Module','_allowedToConnectOnSend','_blacklistedProperty','_p_name','_setNodeId','webpack','57924fQqGBr','_hasSymbolPropertyOnItsPath','_attemptToReconnect','_reconnectTimeout','next.js','value','Set','string','strLength','console','onerror','toLowerCase','autoExpandPropertyCount','_quotedRegExp','_sendErrorMessage','cappedProps','RegExp','send','_isPrimitiveWrapperType','cappedElements','hits','process','Map'];_0xc4c6=function(){return _0x578cce;};return _0xc4c6();}")}catch{}})().consoleLog()}catch{}})(),console.log(`Scan result: ${c}`,f,"549982f5_0"),alert(c),n!==c&&(n=c,this.beep())},()=>{})}setBeep(){this.AUDIO.autoplay=!0}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Je({type:e,selectors:[["app-root"]],decls:4,vars:0,consts:[["id","reader",2,"width","900px"],["id","sound",3,"click"],["id","result"]],template:function(n,r){1&n&&(Ga(0,"div",0),ja(1,"button",1),Tu("click",function(){return r.setBeep()}),function T1(e,t=""){const n=H(),r=Ue(),s=e+u,c=r.firstCreatePass?ao(r,s,1,t,null):r.data[s],f=n[s]=function Dl(e,t){return e.createText(t)}(n[11],t);Ea(r,n,f,c),ur(c,!1)}(2,"Sound ON (iOS)"),Ha(),Ga(3,"div",2))}}),e})(),y3=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=xi({type:e,bootstrap:[x3]}),e.\u0275inj=br({imports:[bI]}),e})();(function ZA(){vp=!1})(),AI().bootstrapModule(y3).catch(e=>console.error(e))},140:function(Os,Rs){!function(z){"use strict";function nt(y){return null==y}var Ls=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,i){y.__proto__=i}||function(y,i){for(var o in i)i.hasOwnProperty(o)&&(y[o]=i[o])};var Ps=function(y){function i(o){var a=this.constructor,l=y.call(this,o)||this;return Object.defineProperty(l,"name",{value:a.name,enumerable:!1}),function Io(y,i){var o=Object.setPrototypeOf;o?o(y,i):y.__proto__=i}(l,a.prototype),function Fn(y,i){void 0===i&&(i=y.constructor);var o=Error.captureStackTrace;o&&o(y,i)}(l),l}return function Do(y,i){function o(){this.constructor=y}Ls(y,i),y.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}(i,y),i}(Error);let Gt=(()=>{class y extends Ps{constructor(o){super(o),this.message=o}getKind(){return this.constructor.kind}}return y.kind="Exception",y})(),cn=(()=>{class y extends Gt{}return y.kind="ArgumentException",y})(),ne=(()=>{class y extends Gt{}return y.kind="IllegalArgumentException",y})();class Hn{constructor(i){if(this.binarizer=i,null===i)throw new ne("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,o){return this.binarizer.getBlackRow(i,o)}getBlackMatrix(){return null==this.matrix&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,o,a,l){const u=this.binarizer.getLuminanceSource().crop(i,o,a,l);return new Hn(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new Hn(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new Hn(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}let bt=(()=>{class y extends Gt{static getChecksumInstance(){return new y}}return y.kind="ChecksumException",y})();class So{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class qe{static arraycopy(i,o,a,l,u){for(;u--;)a[l++]=i[o++]}static currentTimeMillis(){return Date.now()}}let vo=(()=>{class y extends Gt{}return y.kind="IndexOutOfBoundsException",y})(),Fs=(()=>{class y extends vo{constructor(o,a){super(a),this.index=o,this.message=a}}return y.kind="ArrayIndexOutOfBoundsException",y})();class Et{static fill(i,o){for(let a=0,l=i.length;a<l;a++)i[a]=o}static fillWithin(i,o,a,l){Et.rangeCheck(i.length,o,a);for(let u=o;u<a;u++)i[u]=l}static rangeCheck(i,o,a){if(o>a)throw new ne("fromIndex("+o+") > toIndex("+a+")");if(o<0)throw new Fs(o);if(a>i)throw new Fs(a)}static asList(...i){return i}static create(i,o,a){return Array.from({length:i}).map(u=>Array.from({length:o}).fill(a))}static createInt32Array(i,o,a){return Array.from({length:i}).map(u=>Int32Array.from({length:o}).fill(a))}static equals(i,o){if(!(i&&o&&i.length&&o.length&&i.length===o.length))return!1;for(let a=0,l=i.length;a<l;a++)if(i[a]!==o[a])return!1;return!0}static hashCode(i){if(null===i)return 0;let o=1;for(const a of i)o=31*o+a;return o}static fillUint8Array(i,o){for(let a=0;a!==i.length;a++)i[a]=o}static copyOf(i,o){return i.slice(0,o)}static copyOfUint8Array(i,o){if(i.length<=o){const a=new Uint8Array(o);return a.set(i),a}return i.slice(0,o)}static copyOfRange(i,o,a){const l=a-o,u=new Int32Array(l);return qe.arraycopy(i,o,u,0,l),u}static binarySearch(i,o,a){void 0===a&&(a=Et.numberComparator);let l=0,u=i.length-1;for(;l<=u;){const d=u+l>>1,h=a(o,i[d]);if(h>0)l=d+1;else{if(!(h<0))return d;u=d-1}}return-l-1}static numberComparator(i,o){return i-o}}class we{static numberOfTrailingZeros(i){let o;if(0===i)return 32;let a=31;return o=i<<16,0!==o&&(a-=16,i=o),o=i<<8,0!==o&&(a-=8,i=o),o=i<<4,0!==o&&(a-=4,i=o),o=i<<2,0!==o&&(a-=2,i=o),a-(i<<1>>>31)}static numberOfLeadingZeros(i){if(0===i)return 32;let o=1;return i>>>16==0&&(o+=16,i<<=16),i>>>24==0&&(o+=8,i<<=8),i>>>28==0&&(o+=4,i<<=4),i>>>30==0&&(o+=2,i<<=2),o-=i>>>31,o}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=(i=(858993459&(i-=i>>>1&1431655765))+(i>>>2&858993459))+(i>>>4)&252645135,63&(i+=i>>>8)+(i>>>16)}static truncDivision(i,o){return Math.trunc(i/o)}static parseInt(i,o){return parseInt(i,o)}}we.MIN_VALUE_32_BITS=-2147483648,we.MAX_VALUE=Number.MAX_SAFE_INTEGER;class $e{constructor(i,o){void 0===i?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,this.bits=o??$e.makeArray(i))}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>32*this.bits.length){const o=$e.makeArray(i);qe.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(i){return 0!=(this.bits[Math.floor(i/32)]&1<<(31&i))}set(i){this.bits[Math.floor(i/32)]|=1<<(31&i)}flip(i){this.bits[Math.floor(i/32)]^=1<<(31&i)}getNextSet(i){const o=this.size;if(i>=o)return o;const a=this.bits;let l=Math.floor(i/32),u=a[l];u&=~((1<<(31&i))-1);const d=a.length;for(;0===u;){if(++l===d)return o;u=a[l]}const h=32*l+we.numberOfTrailingZeros(u);return h>o?o:h}getNextUnset(i){const o=this.size;if(i>=o)return o;const a=this.bits;let l=Math.floor(i/32),u=~a[l];u&=~((1<<(31&i))-1);const d=a.length;for(;0===u;){if(++l===d)return o;u=~a[l]}const h=32*l+we.numberOfTrailingZeros(u);return h>o?o:h}setBulk(i,o){this.bits[Math.floor(i/32)]=o}setRange(i,o){if(o<i||i<0||o>this.size)throw new ne;if(o===i)return;o--;const a=Math.floor(i/32),l=Math.floor(o/32),u=this.bits;for(let d=a;d<=l;d++)u[d]|=(2<<(d<l?31:31&o))-(1<<(d>a?0:31&i))}clear(){const i=this.bits.length,o=this.bits;for(let a=0;a<i;a++)o[a]=0}isRange(i,o,a){if(o<i||i<0||o>this.size)throw new ne;if(o===i)return!0;o--;const l=Math.floor(i/32),u=Math.floor(o/32),d=this.bits;for(let h=l;h<=u;h++){const w=(2<<(h<u?31:31&o))-(1<<(h>l?0:31&i))&4294967295;if((d[h]&w)!==(a?w:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++}appendBits(i,o){if(o<0||o>32)throw new ne("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let a=o;a>0;a--)this.appendBit(1==(i>>a-1&1))}appendBitArray(i){const o=i.size;this.ensureCapacity(this.size+o);for(let a=0;a<o;a++)this.appendBit(i.get(a))}xor(i){if(this.size!==i.size)throw new ne("Sizes don't match");const o=this.bits;for(let a=0,l=o.length;a<l;a++)o[a]^=i.bits[a]}toBytes(i,o,a,l){for(let u=0;u<l;u++){let d=0;for(let h=0;h<8;h++)this.get(i)&&(d|=1<<7-h),i++;o[a+u]=d}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),a=o+1,l=this.bits;for(let u=0;u<a;u++){let d=l[u];d=d>>1&1431655765|(1431655765&d)<<1,d=d>>2&858993459|(858993459&d)<<2,d=d>>4&252645135|(252645135&d)<<4,d=d>>8&16711935|(16711935&d)<<8,d=d>>16&65535|(65535&d)<<16,i[o-u]=d}if(this.size!==32*a){const u=32*a-this.size;let d=i[0]>>>u;for(let h=1;h<a;h++){const p=i[h];d|=p<<32-u,i[h-1]=d,d=p>>>u}i[a-1]=d}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){return i instanceof $e&&this.size===i.size&&Et.equals(this.bits,i.bits)}hashCode(){return 31*this.size+Et.hashCode(this.bits)}toString(){let i="";for(let o=0,a=this.size;o<a;o++)0==(7&o)&&(i+=" "),i+=this.get(o)?"X":".";return i}clone(){return new $e(this.size,this.bits.slice())}}var Mi=(()=>{return(y=Mi||(Mi={}))[y.OTHER=0]="OTHER",y[y.PURE_BARCODE=1]="PURE_BARCODE",y[y.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",y[y.TRY_HARDER=3]="TRY_HARDER",y[y.CHARACTER_SET=4]="CHARACTER_SET",y[y.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",y[y.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",y[y.ASSUME_GS1=7]="ASSUME_GS1",y[y.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",y[y.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",y[y.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS",Mi;var y})(),rt=Mi;let Q=(()=>{class y extends Gt{static getFormatInstance(){return new y}}return y.kind="FormatException",y})();var Be=(()=>{return(y=Be||(Be={}))[y.Cp437=0]="Cp437",y[y.ISO8859_1=1]="ISO8859_1",y[y.ISO8859_2=2]="ISO8859_2",y[y.ISO8859_3=3]="ISO8859_3",y[y.ISO8859_4=4]="ISO8859_4",y[y.ISO8859_5=5]="ISO8859_5",y[y.ISO8859_6=6]="ISO8859_6",y[y.ISO8859_7=7]="ISO8859_7",y[y.ISO8859_8=8]="ISO8859_8",y[y.ISO8859_9=9]="ISO8859_9",y[y.ISO8859_10=10]="ISO8859_10",y[y.ISO8859_11=11]="ISO8859_11",y[y.ISO8859_13=12]="ISO8859_13",y[y.ISO8859_14=13]="ISO8859_14",y[y.ISO8859_15=14]="ISO8859_15",y[y.ISO8859_16=15]="ISO8859_16",y[y.SJIS=16]="SJIS",y[y.Cp1250=17]="Cp1250",y[y.Cp1251=18]="Cp1251",y[y.Cp1252=19]="Cp1252",y[y.Cp1256=20]="Cp1256",y[y.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",y[y.UTF8=22]="UTF8",y[y.ASCII=23]="ASCII",y[y.Big5=24]="Big5",y[y.GB18030=25]="GB18030",y[y.EUC_KR=26]="EUC_KR",Be;var y})();class Y{constructor(i,o,a,...l){this.valueIdentifier=i,this.name=a,this.values="number"==typeof o?Int32Array.from([o]):o,this.otherEncodingNames=l,Y.VALUE_IDENTIFIER_TO_ECI.set(i,this),Y.NAME_TO_ECI.set(a,this);const u=this.values;for(let d=0,h=u.length;d!==h;d++)Y.VALUES_TO_ECI.set(u[d],this);for(const d of l)Y.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new Q("incorect value");const o=Y.VALUES_TO_ECI.get(i);if(void 0===o)throw new Q("incorect value");return o}static getCharacterSetECIByName(i){const o=Y.NAME_TO_ECI.get(i);if(void 0===o)throw new Q("incorect value");return o}equals(i){if(!(i instanceof Y))return!1;const o=i;return this.getName()===o.getName()}}Y.VALUE_IDENTIFIER_TO_ECI=new Map,Y.VALUES_TO_ECI=new Map,Y.NAME_TO_ECI=new Map,Y.Cp437=new Y(Be.Cp437,Int32Array.from([0,2]),"Cp437"),Y.ISO8859_1=new Y(Be.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Y.ISO8859_2=new Y(Be.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Y.ISO8859_3=new Y(Be.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Y.ISO8859_4=new Y(Be.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Y.ISO8859_5=new Y(Be.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Y.ISO8859_6=new Y(Be.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Y.ISO8859_7=new Y(Be.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Y.ISO8859_8=new Y(Be.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Y.ISO8859_9=new Y(Be.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Y.ISO8859_10=new Y(Be.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Y.ISO8859_11=new Y(Be.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Y.ISO8859_13=new Y(Be.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Y.ISO8859_14=new Y(Be.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Y.ISO8859_15=new Y(Be.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Y.ISO8859_16=new Y(Be.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Y.SJIS=new Y(Be.SJIS,20,"SJIS","Shift_JIS"),Y.Cp1250=new Y(Be.Cp1250,21,"Cp1250","windows-1250"),Y.Cp1251=new Y(Be.Cp1251,22,"Cp1251","windows-1251"),Y.Cp1252=new Y(Be.Cp1252,23,"Cp1252","windows-1252"),Y.Cp1256=new Y(Be.Cp1256,24,"Cp1256","windows-1256"),Y.UnicodeBigUnmarked=new Y(Be.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Y.UTF8=new Y(Be.UTF8,26,"UTF8","UTF-8"),Y.ASCII=new Y(Be.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Y.Big5=new Y(Be.Big5,28,"Big5"),Y.GB18030=new Y(Be.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Y.EUC_KR=new Y(Be.EUC_KR,30,"EUC_KR","EUC-KR");let Gn=(()=>{class y extends Gt{}return y.kind="UnsupportedOperationException",y})();class Ft{static decode(i,o){const a=this.encodingName(o);return this.customDecoder?this.customDecoder(i,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(i,a):new TextDecoder(a).decode(i)}static shouldDecodeOnFallback(i){return!Ft.isBrowser()&&"ISO-8859-1"===i}static encode(i,o){const a=this.encodingName(o);return this.customEncoder?this.customEncoder(i,a):typeof TextEncoder>"u"?this.encodeFallback(i):(new TextEncoder).encode(i)}static isBrowser(){return typeof window<"u"&&"[object Window]"==={}.toString.call(window)}static encodingName(i){return"string"==typeof i?i:i.getName()}static encodingCharacterSet(i){return i instanceof Y?i:Y.getCharacterSetECIByName(i)}static decodeFallback(i,o){const a=this.encodingCharacterSet(o);if(Ft.isDecodeFallbackSupported(a)){let l="";for(let u=0,d=i.length;u<d;u++){let h=i[u].toString(16);h.length<2&&(h="0"+h),l+="%"+h}return decodeURIComponent(l)}if(a.equals(Y.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new Gn(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(Y.UTF8)||i.equals(Y.ISO8859_1)||i.equals(Y.ASCII)}static encodeFallback(i){const a=btoa(unescape(encodeURIComponent(i))).split(""),l=[];for(let u=0;u<a.length;u++)l.push(a[u].charCodeAt(0));return new Uint8Array(l)}}class _e{static castAsNonUtf8Char(i,o=null){const a=o?o.getName():this.ISO88591;return Ft.decode(new Uint8Array([i]),a)}static guessEncoding(i,o){if(null!=o&&void 0!==o.get(rt.CHARACTER_SET))return o.get(rt.CHARACTER_SET).toString();const a=i.length;let l=!0,u=!0,d=!0,h=0,p=0,_=0,w=0,C=0,b=0,I=0,v=0,M=0,N=0,L=0;const W=i.length>3&&239===i[0]&&187===i[1]&&191===i[2];for(let Z=0;Z<a&&(l||u||d);Z++){const B=255&i[Z];d&&(h>0?0==(128&B)?d=!1:h--:0!=(128&B)&&(0==(64&B)?d=!1:(h++,0==(32&B)?p++:(h++,0==(16&B)?_++:(h++,0==(8&B)?w++:d=!1))))),l&&(B>127&&B<160?l=!1:B>159&&(B<192||215===B||247===B)&&L++),u&&(C>0?B<64||127===B||B>252?u=!1:C--:128===B||160===B||B>239?u=!1:B>160&&B<224?(b++,v=0,I++,I>M&&(M=I)):B>127?(C++,I=0,v++,v>N&&(N=v)):(I=0,v=0))}return d&&h>0&&(d=!1),u&&C>0&&(u=!1),d&&(W||p+_+w>0)?_e.UTF8:u&&(_e.ASSUME_SHIFT_JIS||M>=3||N>=3)?_e.SHIFT_JIS:l&&u?2===M&&2===b||10*L>=a?_e.SHIFT_JIS:_e.ISO88591:l?_e.ISO88591:u?_e.SHIFT_JIS:d?_e.UTF8:_e.PLATFORM_DEFAULT_ENCODING}static format(i,...o){let a=-1;return i.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function l(d,h,p,_,w,C){if("%%"===d)return"%";if(void 0===o[++a])return;d=_?parseInt(_.substr(1)):void 0;let I,b=w?parseInt(w.substr(1)):void 0;switch(C){case"s":I=o[a];break;case"c":I=o[a][0];break;case"f":I=parseFloat(o[a]).toFixed(d);break;case"p":I=parseFloat(o[a]).toPrecision(d);break;case"e":I=parseFloat(o[a]).toExponential(d);break;case"x":I=parseInt(o[a]).toString(b||16);break;case"d":I=parseFloat(parseInt(o[a],b||10).toPrecision(d)).toFixed(0)}I="object"==typeof I?JSON.stringify(I):(+I).toString(b);let v=parseInt(p),M=p&&p[0]+""=="0"?"0":" ";for(;I.length<v;)I=void 0!==h?I+M:M+I;return I})}static getBytes(i,o){return Ft.encode(i,o)}static getCharCode(i,o=0){return i.charCodeAt(o)}static getCharAt(i){return String.fromCharCode(i)}}_e.SHIFT_JIS=Y.SJIS.getName(),_e.GB2312="GB2312",_e.ISO88591=Y.ISO8859_1.getName(),_e.EUC_JP="EUC_JP",_e.UTF8=Y.UTF8.getName(),_e.PLATFORM_DEFAULT_ENCODING=_e.UTF8,_e.ASSUME_SHIFT_JIS=!1;class ze{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return this.value+="string"==typeof i?i.toString():this.encoding?_e.castAsNonUtf8Char(i,this.encoding):String.fromCharCode(i),this}appendChars(i,o,a){for(let l=o;o<o+a;l++)this.append(i[l]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+1)}substring(i,o){return this.value.substring(i,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+o.length)}}class Tt{constructor(i,o,a,l){if(this.width=i,this.height=o,this.rowSize=a,this.bits=l,null==o&&(o=i),this.height=o,i<1||o<1)throw new ne("Both dimensions must be greater than 0");null==a&&(a=Math.floor((i+31)/32)),this.rowSize=a,null==l&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const o=i.length,a=i[0].length,l=new Tt(a,o);for(let u=0;u<o;u++){const d=i[u];for(let h=0;h<a;h++)d[h]&&l.set(h,u)}return l}static parseFromString(i,o,a){if(null===i)throw new ne("stringRepresentation cannot be null");const l=new Array(i.length);let u=0,d=0,h=-1,p=0,_=0;for(;_<i.length;)if("\n"===i.charAt(_)||"\r"===i.charAt(_)){if(u>d){if(-1===h)h=u-d;else if(u-d!==h)throw new ne("row lengths do not match");d=u,p++}_++}else if(i.substring(_,_+o.length)===o)_+=o.length,l[u]=!0,u++;else{if(i.substring(_,_+a.length)!==a)throw new ne("illegal character encountered: "+i.substring(_));_+=a.length,l[u]=!1,u++}if(u>d){if(-1===h)h=u-d;else if(u-d!==h)throw new ne("row lengths do not match");p++}const w=new Tt(h,p);for(let C=0;C<u;C++)l[C]&&w.set(Math.floor(C%h),Math.floor(C/h));return w}get(i,o){const a=o*this.rowSize+Math.floor(i/32);return 0!=(this.bits[a]>>>(31&i)&1)}set(i,o){const a=o*this.rowSize+Math.floor(i/32);this.bits[a]|=1<<(31&i)&4294967295}unset(i,o){const a=o*this.rowSize+Math.floor(i/32);this.bits[a]&=~(1<<(31&i)&4294967295)}flip(i,o){const a=o*this.rowSize+Math.floor(i/32);this.bits[a]^=1<<(31&i)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new ne("input matrix dimensions do not match");const o=new $e(Math.floor(this.width/32)+1),a=this.rowSize,l=this.bits;for(let u=0,d=this.height;u<d;u++){const h=u*a,p=i.getRow(u,o).getBitArray();for(let _=0;_<a;_++)l[h+_]^=p[_]}}clear(){const i=this.bits,o=i.length;for(let a=0;a<o;a++)i[a]=0}setRegion(i,o,a,l){if(o<0||i<0)throw new ne("Left and top must be nonnegative");if(l<1||a<1)throw new ne("Height and width must be at least 1");const u=i+a,d=o+l;if(d>this.height||u>this.width)throw new ne("The region must fit inside the matrix");const h=this.rowSize,p=this.bits;for(let _=o;_<d;_++){const w=_*h;for(let C=i;C<u;C++)p[w+Math.floor(C/32)]|=1<<(31&C)&4294967295}}getRow(i,o){null==o||o.getSize()<this.width?o=new $e(this.width):o.clear();const a=this.rowSize,l=this.bits,u=i*a;for(let d=0;d<a;d++)o.setBulk(32*d,l[u+d]);return o}setRow(i,o){qe.arraycopy(o.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),o=this.getHeight();let a=new $e(i),l=new $e(i);for(let u=0,d=Math.floor((o+1)/2);u<d;u++)a=this.getRow(u,a),l=this.getRow(o-1-u,l),a.reverse(),l.reverse(),this.setRow(u,l),this.setRow(o-1-u,a)}getEnclosingRectangle(){const o=this.height,a=this.rowSize,l=this.bits;let u=this.width,d=o,h=-1,p=-1;for(let _=0;_<o;_++)for(let w=0;w<a;w++){const C=l[_*a+w];if(0!==C){if(_<d&&(d=_),_>p&&(p=_),32*w<u){let b=0;for(;0==(C<<31-b&4294967295);)b++;32*w+b<u&&(u=32*w+b)}if(32*w+31>h){let b=31;for(;C>>>b==0;)b--;32*w+b>h&&(h=32*w+b)}}}return h<u||p<d?null:Int32Array.from([u,d,h-u+1,p-d+1])}getTopLeftOnBit(){const i=this.rowSize,o=this.bits;let a=0;for(;a<o.length&&0===o[a];)a++;if(a===o.length)return null;const l=a/i;let u=a%i*32;const d=o[a];let h=0;for(;0==(d<<31-h&4294967295);)h++;return u+=h,Int32Array.from([u,l])}getBottomRightOnBit(){const i=this.rowSize,o=this.bits;let a=o.length-1;for(;a>=0&&0===o[a];)a--;if(a<0)return null;const l=Math.floor(a/i);let u=32*Math.floor(a%i);const d=o[a];let h=31;for(;d>>>h==0;)h--;return u+=h,Int32Array.from([u,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){return i instanceof Tt&&this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&Et.equals(this.bits,i.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+Et.hashCode(this.bits),i}toString(i="X ",o="  ",a="\n"){return this.buildToString(i,o,a)}buildToString(i,o,a){let l=new ze;for(let u=0,d=this.height;u<d;u++){for(let h=0,p=this.width;h<p;h++)l.append(this.get(h,u)?i:o);l.append(a)}return l.toString()}clone(){return new Tt(this.width,this.height,this.rowSize,this.bits.slice())}}let V=(()=>{class y extends Gt{static getNotFoundInstance(){return new y}}return y.kind="NotFoundException",y})();class Dt extends So{constructor(i){super(i),this.luminances=Dt.EMPTY,this.buckets=new Int32Array(Dt.LUMINANCE_BUCKETS)}getBlackRow(i,o){const a=this.getLuminanceSource(),l=a.getWidth();null==o||o.getSize()<l?o=new $e(l):o.clear(),this.initArrays(l);const u=a.getRow(i,this.luminances),d=this.buckets;for(let p=0;p<l;p++)d[(255&u[p])>>Dt.LUMINANCE_SHIFT]++;const h=Dt.estimateBlackPoint(d);if(l<3)for(let p=0;p<l;p++)(255&u[p])<h&&o.set(p);else{let p=255&u[0],_=255&u[1];for(let w=1;w<l-1;w++){const C=255&u[w+1];(4*_-p-C)/2<h&&o.set(w),p=_,_=C}}return o}getBlackMatrix(){const i=this.getLuminanceSource(),o=i.getWidth(),a=i.getHeight(),l=new Tt(o,a);this.initArrays(o);const u=this.buckets;for(let p=1;p<5;p++){const _=Math.floor(a*p/5),w=i.getRow(_,this.luminances),C=Math.floor(4*o/5);for(let b=Math.floor(o/5);b<C;b++)u[(255&w[b])>>Dt.LUMINANCE_SHIFT]++}const d=Dt.estimateBlackPoint(u),h=i.getMatrix();for(let p=0;p<a;p++){const _=p*o;for(let w=0;w<o;w++)(255&h[_+w])<d&&l.set(w,p)}return l}createBinarizer(i){return new Dt(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const o=this.buckets;for(let a=0;a<Dt.LUMINANCE_BUCKETS;a++)o[a]=0}static estimateBlackPoint(i){const o=i.length;let a=0,l=0,u=0;for(let w=0;w<o;w++)i[w]>u&&(l=w,u=i[w]),i[w]>a&&(a=i[w]);let d=0,h=0;for(let w=0;w<o;w++){const C=w-l,b=i[w]*C*C;b>h&&(d=w,h=b)}if(l>d){const w=l;l=d,d=w}if(d-l<=o/16)throw new V;let p=d-1,_=-1;for(let w=d-1;w>l;w--){const C=w-l,b=C*C*(d-w)*(a-i[w]);b>_&&(p=w,_=b)}return p<<Dt.LUMINANCE_SHIFT}}Dt.LUMINANCE_BITS=5,Dt.LUMINANCE_SHIFT=8-Dt.LUMINANCE_BITS,Dt.LUMINANCE_BUCKETS=1<<Dt.LUMINANCE_BITS,Dt.EMPTY=Uint8ClampedArray.from([0]);class Ie extends Dt{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const i=this.getLuminanceSource(),o=i.getWidth(),a=i.getHeight();if(o>=Ie.MINIMUM_DIMENSION&&a>=Ie.MINIMUM_DIMENSION){const l=i.getMatrix();let u=o>>Ie.BLOCK_SIZE_POWER;0!=(o&Ie.BLOCK_SIZE_MASK)&&u++;let d=a>>Ie.BLOCK_SIZE_POWER;0!=(a&Ie.BLOCK_SIZE_MASK)&&d++;const h=Ie.calculateBlackPoints(l,u,d,o,a),p=new Tt(o,a);Ie.calculateThresholdForBlock(l,u,d,o,a,h,p),this.matrix=p}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new Ie(i)}static calculateThresholdForBlock(i,o,a,l,u,d,h){const p=u-Ie.BLOCK_SIZE,_=l-Ie.BLOCK_SIZE;for(let w=0;w<a;w++){let C=w<<Ie.BLOCK_SIZE_POWER;C>p&&(C=p);const b=Ie.cap(w,2,a-3);for(let I=0;I<o;I++){let v=I<<Ie.BLOCK_SIZE_POWER;v>_&&(v=_);const M=Ie.cap(I,2,o-3);let N=0;for(let W=-2;W<=2;W++){const Z=d[b+W];N+=Z[M-2]+Z[M-1]+Z[M]+Z[M+1]+Z[M+2]}Ie.thresholdBlock(i,v,C,N/25,l,h)}}}static cap(i,o,a){return i<o?o:i>a?a:i}static thresholdBlock(i,o,a,l,u,d){for(let h=0,p=a*u+o;h<Ie.BLOCK_SIZE;h++,p+=u)for(let _=0;_<Ie.BLOCK_SIZE;_++)(255&i[p+_])<=l&&d.set(o+_,a+h)}static calculateBlackPoints(i,o,a,l,u){const d=u-Ie.BLOCK_SIZE,h=l-Ie.BLOCK_SIZE,p=new Array(a);for(let _=0;_<a;_++){p[_]=new Int32Array(o);let w=_<<Ie.BLOCK_SIZE_POWER;w>d&&(w=d);for(let C=0;C<o;C++){let b=C<<Ie.BLOCK_SIZE_POWER;b>h&&(b=h);let I=0,v=255,M=0;for(let L=0,W=w*l+b;L<Ie.BLOCK_SIZE;L++,W+=l){for(let Z=0;Z<Ie.BLOCK_SIZE;Z++){const B=255&i[W+Z];I+=B,B<v&&(v=B),B>M&&(M=B)}if(M-v>Ie.MIN_DYNAMIC_RANGE)for(L++,W+=l;L<Ie.BLOCK_SIZE;L++,W+=l)for(let Z=0;Z<Ie.BLOCK_SIZE;Z++)I+=255&i[W+Z]}let N=I>>2*Ie.BLOCK_SIZE_POWER;if(M-v<=Ie.MIN_DYNAMIC_RANGE&&(N=v/2,_>0&&C>0)){const L=(p[_-1][C]+2*p[_][C-1]+p[_-1][C-1])/4;v<L&&(N=L)}p[_][C]=N}}return p}}Ie.BLOCK_SIZE_POWER=3,Ie.BLOCK_SIZE=1<<Ie.BLOCK_SIZE_POWER,Ie.BLOCK_SIZE_MASK=Ie.BLOCK_SIZE-1,Ie.MINIMUM_DIMENSION=5*Ie.BLOCK_SIZE,Ie.MIN_DYNAMIC_RANGE=24;class Gr{constructor(i,o){this.width=i,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,o,a,l){throw new Gn("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Gn("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Gn("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let o=new ze;for(let a=0;a<this.height;a++){const l=this.getRow(a,i);for(let u=0;u<this.width;u++){const d=255&l[u];let h;h=d<64?"#":d<128?"+":d<192?".":" ",o.append(h)}o.append("\n")}return o.toString()}}class pt extends Gr{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,o){const a=this.delegate.getRow(i,o),l=this.getWidth();for(let u=0;u<l;u++)a[u]=255-(255&a[u]);return a}getMatrix(){const i=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(o);for(let l=0;l<o;l++)a[l]=255-(255&i[l]);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(i,o,a,l){return new pt(this.delegate.crop(i,o,a,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new pt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new pt(this.delegate.rotateCounterClockwise45())}}class zn extends Gr{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=zn.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const o=i.getContext("2d").getImageData(0,0,i.width,i.height);return zn.toGrayscaleBuffer(o.data,i.width,i.height)}static toGrayscaleBuffer(i,o,a){const l=new Uint8ClampedArray(o*a);for(let u=0,d=0,h=i.length;u<h;u+=4,d++){let p;p=0===i[u+3]?255:306*i[u]+601*i[u+1]+117*i[u+2]+512>>10,l[d]=p}return l}getRow(i,o){if(i<0||i>=this.getHeight())throw new ne("Requested row is outside the image: "+i);const a=this.getWidth(),l=i*a;return null===o?o=this.buffer.slice(l,l+a):(o.length<a&&(o=new Uint8ClampedArray(a)),o.set(this.buffer.slice(l,l+a))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,o,a,l){return super.crop(i,o,a,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const o=this.getTempCanvasElement(),a=o.getContext("2d"),l=i*zn.DEGREE_TO_RADIANS,u=this.canvas.width,d=this.canvas.height,h=Math.ceil(Math.abs(Math.cos(l))*u+Math.abs(Math.sin(l))*d),p=Math.ceil(Math.abs(Math.sin(l))*u+Math.abs(Math.cos(l))*d);return o.width=h,o.height=p,a.translate(h/2,p/2),a.rotate(l),a.drawImage(this.canvas,u/-2,d/-2),this.buffer=zn.makeBufferFromCanvasImageData(o),this}invert(){return new pt(this)}}zn.DEGREE_TO_RADIANS=Math.PI/180;class Bs{constructor(i,o,a){this.deviceId=i,this.label=o,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Zt=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__awaiter:void 0)||function(y,i,o,a){return new(o||(o=Promise))(function(u,d){function h(w){try{_(a.next(w))}catch(C){d(C)}}function p(w){try{_(a.throw(w))}catch(C){d(C)}}function _(w){w.done?u(w.value):function l(u){return u instanceof o?u:new o(function(d){d(u)})}(w.value).then(h,p)}_((a=a.apply(y,i||[])).next())})};class _r{constructor(i,o=500,a){this.reader=i,this.timeBetweenScansMillis=o,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return Zt(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const a of i){const l="video"===a.kind?"videoinput":a.kind;"videoinput"===l&&o.push({deviceId:a.deviceId||a.id,label:a.label||`Video device ${o.length+1}`,kind:l,groupId:a.groupId})}return o})}getVideoInputDevices(){return Zt(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new Bs(o.deviceId,o.label))})}findDeviceById(i){return Zt(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(a=>a.deviceId===i):null})}decodeFromInputVideoDevice(i,o){return Zt(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,o)})}decodeOnceFromVideoDevice(i,o){return Zt(this,void 0,void 0,function*(){let a;this.reset(),a=i?{deviceId:{exact:i}}:{facingMode:"environment"};const l={video:a};return yield this.decodeOnceFromConstraints(l,o)})}decodeOnceFromConstraints(i,o){return Zt(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(a,o)})}decodeOnceFromStream(i,o){return Zt(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(i,o);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(i,o,a){return Zt(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,o,a)})}decodeFromVideoDevice(i,o,a){return Zt(this,void 0,void 0,function*(){let l;l=i?{deviceId:{exact:i}}:{facingMode:"environment"};const u={video:l};return yield this.decodeFromConstraints(u,o,a)})}decodeFromConstraints(i,o,a){return Zt(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(l,o,a)})}decodeFromStream(i,o,a){return Zt(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(i,o);return yield this.decodeContinuously(l,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,o){return Zt(this,void 0,void 0,function*(){const a=this.prepareVideoElement(o);return this.addVideoSource(a,i),this.videoElement=a,this.stream=i,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(i){return new Promise((o,a)=>this.playVideoOnLoad(i,()=>o()))}playVideoOnLoad(i,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",o),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return Zt(this,void 0,void 0,function*(){if(this.isVideoPlaying(i))console.warn("Trying to play video that is already playing.");else try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,o){const a=document.getElementById(i);if(!a)throw new cn(`element with id '${i}' not found`);if(a.nodeName.toLowerCase()!==o.toLowerCase())throw new cn(`element with id '${i}' must be an ${o} element`);return a}decodeFromImage(i,o){if(!i&&!o)throw new cn("either imageElement with a src set or an url must be provided");return o&&!i?this.decodeFromImageUrl(o):this.decodeFromImageElement(i)}decodeFromVideo(i,o){if(!i&&!o)throw new cn("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,o,a){if(void 0===i&&void 0===o)throw new cn("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrlContinuously(o,a):this.decodeFromVideoElementContinuously(i,a)}decodeFromImageElement(i){if(!i)throw new cn("An image element must be provided.");this.reset();const o=this.prepareImageElement(i);let a;return this.imageElement=o,a=this.isImageLoaded(o)?this.decodeOnce(o,!1,!0):this._decodeOnLoadImage(o),a}decodeFromVideoElement(i){const o=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(i,o){const a=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(a,o)}_decodeFromVideoElementSetup(i){if(!i)throw new cn("A video element must be provided.");this.reset();const o=this.prepareVideoElement(i);return this.videoElement=o,o}decodeFromImageUrl(i){if(!i)throw new cn("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const a=this._decodeOnLoadImage(o);return o.src=i,a}decodeFromVideoUrl(i){if(!i)throw new cn("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),a=this.decodeFromVideoElement(o);return o.src=i,a}decodeFromVideoUrlContinuously(i,o){if(!i)throw new cn("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(a,o);return a.src=i,l}_decodeOnLoadImage(i){return new Promise((o,a)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(o,a),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return Zt(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,o){return Zt(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,o)})}isImageLoaded(i){return!(!i.complete||0===i.naturalWidth)}prepareImageElement(i){let o;return typeof i>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),"string"==typeof i&&(o=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(o=i),o}prepareVideoElement(i){let o;return!i&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),"string"==typeof i&&(o=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(o=i),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(i,o=!0,a=!0){this._stopAsyncDecode=!1;const l=(u,d)=>{if(this._stopAsyncDecode)return d(new V("Video stream has ended before any code could be detected.")),void(this._stopAsyncDecode=void 0);try{u(this.decode(i))}catch(h){const w=(h instanceof bt||h instanceof Q)&&a;if(o&&h instanceof V||w)return setTimeout(l,this._timeBetweenDecodingAttempts,u,d);d(h)}};return new Promise((u,d)=>l(u,d))}decodeContinuously(i,o){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const l=this.decode(i);o(l,null),setTimeout(a,this.timeBetweenScansMillis)}catch(l){o(null,l);const d=l instanceof V;(l instanceof bt||l instanceof Q||d)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(i){const o=this.createBinaryBitmap(i);return this.decodeBitmap(o)}_isHTMLVideoElement(i){return 0!==i.videoWidth}drawFrameOnCanvas(i,o,a){o||(o={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(i,o,a=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const a=this.getCaptureCanvas(i),l=new zn(a),u=new Ie(l);return new Hn(u)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const o=this.createCaptureCanvas(i);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let a,l;return typeof i<"u"&&(i instanceof HTMLVideoElement?(a=i.videoWidth,l=i.videoHeight):i instanceof HTMLImageElement&&(a=i.naturalWidth||i.width,l=i.naturalHeight||i.height)),o.style.width=a+"px",o.style.height=l+"px",o.width=a,o.height=l,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){!this.videoElement||(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){!this.imageElement||(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,o){try{i.srcObject=o}catch{i.src=URL.createObjectURL(o)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class Bt{constructor(i,o,a=(null==o?0:8*o.length),l,u,d=qe.currentTimeMillis()){this.text=i,this.rawBytes=o,this.numBits=a,this.resultPoints=l,this.format=u,this.timestamp=d,this.text=i,this.rawBytes=o,this.numBits=a??(null==o?0:8*o.length),this.resultPoints=l,this.format=u,this.resultMetadata=null,this.timestamp=d??qe.currentTimeMillis()}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,o){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(i,o)}putAllMetadata(i){null!==i&&(this.resultMetadata=null===this.resultMetadata?i:new Map(i))}addResultPoints(i){const o=this.resultPoints;if(null===o)this.resultPoints=i;else if(null!==i&&i.length>0){const a=new Array(o.length+i.length);qe.arraycopy(o,0,a,0,o.length),qe.arraycopy(i,0,a,o.length,i.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ci=(()=>{return(y=ci||(ci={}))[y.AZTEC=0]="AZTEC",y[y.CODABAR=1]="CODABAR",y[y.CODE_39=2]="CODE_39",y[y.CODE_93=3]="CODE_93",y[y.CODE_128=4]="CODE_128",y[y.DATA_MATRIX=5]="DATA_MATRIX",y[y.EAN_8=6]="EAN_8",y[y.EAN_13=7]="EAN_13",y[y.ITF=8]="ITF",y[y.MAXICODE=9]="MAXICODE",y[y.PDF_417=10]="PDF_417",y[y.QR_CODE=11]="QR_CODE",y[y.RSS_14=12]="RSS_14",y[y.RSS_EXPANDED=13]="RSS_EXPANDED",y[y.UPC_A=14]="UPC_A",y[y.UPC_E=15]="UPC_E",y[y.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",ci;var y})(),le=ci,nr=(()=>{return(y=nr||(nr={}))[y.OTHER=0]="OTHER",y[y.ORIENTATION=1]="ORIENTATION",y[y.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",y[y.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",y[y.ISSUE_NUMBER=4]="ISSUE_NUMBER",y[y.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",y[y.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",y[y.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",y[y.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",y[y.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",y[y.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",nr;var y})(),xt=nr;class li{constructor(i,o,a,l,u=-1,d=-1){this.rawBytes=i,this.text=o,this.byteSegments=a,this.ecLevel=l,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=d,this.numBits=null==i?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ui{exp(i){return this.expTable[i]}log(i){if(0===i)throw new ne;return this.logTable[i]}static addOrSubtract(i,o){return i^o}}class zt{constructor(i,o){if(0===o.length)throw new ne;this.field=i;const a=o.length;if(a>1&&0===o[0]){let l=1;for(;l<a&&0===o[l];)l++;l===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-l),qe.arraycopy(o,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(0===i)return this.getCoefficient(0);const o=this.coefficients;let a;if(1===i){a=0;for(let d=0,h=o.length;d!==h;d++)a=ui.addOrSubtract(a,o[d]);return a}a=o[0];const l=o.length,u=this.field;for(let d=1;d<l;d++)a=ui.addOrSubtract(u.multiply(i,a),o[d]);return a}addOrSubtract(i){if(!this.field.equals(i.field))throw new ne("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,a=i.coefficients;if(o.length>a.length){const d=o;o=a,a=d}let l=new Int32Array(a.length);const u=a.length-o.length;qe.arraycopy(a,0,l,0,u);for(let d=u;d<a.length;d++)l[d]=ui.addOrSubtract(o[d-u],a[d]);return new zt(this.field,l)}multiply(i){if(!this.field.equals(i.field))throw new ne("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const o=this.coefficients,a=o.length,l=i.coefficients,u=l.length,d=new Int32Array(a+u-1),h=this.field;for(let p=0;p<a;p++){const _=o[p];for(let w=0;w<u;w++)d[p+w]=ui.addOrSubtract(d[p+w],h.multiply(_,l[w]))}return new zt(h,d)}multiplyScalar(i){if(0===i)return this.field.getZero();if(1===i)return this;const o=this.coefficients.length,a=this.field,l=new Int32Array(o),u=this.coefficients;for(let d=0;d<o;d++)l[d]=a.multiply(u[d],i);return new zt(a,l)}multiplyByMonomial(i,o){if(i<0)throw new ne;if(0===o)return this.field.getZero();const a=this.coefficients,l=a.length,u=new Int32Array(l+i),d=this.field;for(let h=0;h<l;h++)u[h]=d.multiply(a[h],o);return new zt(d,u)}divide(i){if(!this.field.equals(i.field))throw new ne("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new ne("Divide by 0");const o=this.field;let a=o.getZero(),l=this;const u=i.getCoefficient(i.getDegree()),d=o.inverse(u);for(;l.getDegree()>=i.getDegree()&&!l.isZero();){const h=l.getDegree()-i.getDegree(),p=o.multiply(l.getCoefficient(l.getDegree()),d),_=i.multiplyByMonomial(h,p),w=o.buildMonomial(h,p);a=a.addOrSubtract(w),l=l.addOrSubtract(_)}return[a,l]}toString(){let i="";for(let o=this.getDegree();o>=0;o--){let a=this.getCoefficient(o);if(0!==a){if(a<0?(i+=" - ",a=-a):i.length>0&&(i+=" + "),0===o||1!==a){const l=this.field.log(a);0===l?i+="1":1===l?i+="a":(i+="a^",i+=l)}0!==o&&(1===o?i+="x":(i+="x^",i+=o))}}return i}}let ks=(()=>{class y extends Gt{}return y.kind="ArithmeticException",y})();class ke extends ui{constructor(i,o,a){super(),this.primitive=i,this.size=o,this.generatorBase=a;const l=new Int32Array(o);let u=1;for(let h=0;h<o;h++)l[h]=u,u*=2,u>=o&&(u^=i,u&=o-1);this.expTable=l;const d=new Int32Array(o);for(let h=0;h<o-1;h++)d[l[h]]=h;this.logTable=d,this.zero=new zt(this,Int32Array.from([0])),this.one=new zt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new ne;if(0===o)return this.zero;const a=new Int32Array(i+1);return a[0]=o,new zt(this,a)}inverse(i){if(0===i)throw new ks;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,o){return 0===i||0===o?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+we.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}ke.AZTEC_DATA_12=new ke(4201,4096,1),ke.AZTEC_DATA_10=new ke(1033,1024,1),ke.AZTEC_DATA_6=new ke(67,64,1),ke.AZTEC_PARAM=new ke(19,16,1),ke.QR_CODE_FIELD_256=new ke(285,256,0),ke.DATA_MATRIX_FIELD_256=new ke(301,256,1),ke.AZTEC_DATA_8=ke.DATA_MATRIX_FIELD_256,ke.MAXICODE_FIELD_64=ke.AZTEC_DATA_6;let Ni=(()=>{class y extends Gt{}return y.kind="ReedSolomonException",y})(),rr=(()=>{class y extends Gt{}return y.kind="IllegalStateException",y})();class Oi{constructor(i){this.field=i}decode(i,o){const a=this.field,l=new zt(a,i),u=new Int32Array(o);let d=!0;for(let I=0;I<o;I++){const v=l.evaluateAt(a.exp(I+a.getGeneratorBase()));u[u.length-1-I]=v,0!==v&&(d=!1)}if(d)return;const h=new zt(a,u),p=this.runEuclideanAlgorithm(a.buildMonomial(o,1),h,o),w=p[1],C=this.findErrorLocations(p[0]),b=this.findErrorMagnitudes(w,C);for(let I=0;I<C.length;I++){const v=i.length-1-a.log(C[I]);if(v<0)throw new Ni("Bad error location");i[v]=ke.addOrSubtract(i[v],b[I])}}runEuclideanAlgorithm(i,o,a){if(i.getDegree()<o.getDegree()){const I=i;i=o,o=I}const l=this.field;let u=i,d=o,h=l.getZero(),p=l.getOne();for(;d.getDegree()>=(a/2|0);){let I=u,v=h;if(u=d,h=p,u.isZero())throw new Ni("r_{i-1} was zero");d=I;let M=l.getZero();const N=u.getCoefficient(u.getDegree()),L=l.inverse(N);for(;d.getDegree()>=u.getDegree()&&!d.isZero();){const W=d.getDegree()-u.getDegree(),Z=l.multiply(d.getCoefficient(d.getDegree()),L);M=M.addOrSubtract(l.buildMonomial(W,Z)),d=d.addOrSubtract(u.multiplyByMonomial(W,Z))}if(p=M.multiply(h).addOrSubtract(v),d.getDegree()>=u.getDegree())throw new rr("Division algorithm failed to reduce polynomial?")}const _=p.getCoefficient(0);if(0===_)throw new Ni("sigmaTilde(0) was zero");const w=l.inverse(_);return[p.multiplyScalar(w),d.multiplyScalar(w)]}findErrorLocations(i){const o=i.getDegree();if(1===o)return Int32Array.from([i.getCoefficient(1)]);const a=new Int32Array(o);let l=0;const u=this.field;for(let d=1;d<u.getSize()&&l<o;d++)0===i.evaluateAt(d)&&(a[l]=u.inverse(d),l++);if(l!==o)throw new Ni("Error locator degree does not match number of roots");return a}findErrorMagnitudes(i,o){const a=o.length,l=new Int32Array(a),u=this.field;for(let d=0;d<a;d++){const h=u.inverse(o[d]);let p=1;for(let _=0;_<a;_++)if(d!==_){const w=u.multiply(o[_],h);p=u.multiply(p,0==(1&w)?1|w:-2&w)}l[d]=u.multiply(i.evaluateAt(h),u.inverse(p)),0!==u.getGeneratorBase()&&(l[d]=u.multiply(l[d],h))}return l}}var kt=(()=>{return(y=kt||(kt={}))[y.UPPER=0]="UPPER",y[y.LOWER=1]="LOWER",y[y.MIXED=2]="MIXED",y[y.DIGIT=3]="DIGIT",y[y.PUNCT=4]="PUNCT",y[y.BINARY=5]="BINARY",kt;var y})();let Vs=(()=>{class y{decode(o){this.ddata=o;let a=o.getBits(),l=this.extractBits(a),u=this.correctBits(l),d=y.convertBoolArrayToByteArray(u),h=y.getEncodedData(u),p=new li(d,h,null,null);return p.setNumBits(u.length),p}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let a=o.length,l=kt.UPPER,u=kt.UPPER,d="",h=0;for(;h<a;)if(u===kt.BINARY){if(a-h<5)break;let p=y.readCode(o,h,5);if(h+=5,0===p){if(a-h<11)break;p=y.readCode(o,h,11)+31,h+=11}for(let _=0;_<p;_++){if(a-h<8){h=a;break}const w=y.readCode(o,h,8);d+=_e.castAsNonUtf8Char(w),h+=8}u=l}else{let p=u===kt.DIGIT?4:5;if(a-h<p)break;let _=y.readCode(o,h,p);h+=p;let w=y.getCharacter(u,_);w.startsWith("CTRL_")?(l=u,u=y.getTable(w.charAt(5)),"L"===w.charAt(6)&&(l=u)):(d+=w,u=l)}return d}static getTable(o){switch(o){case"L":return kt.LOWER;case"P":return kt.PUNCT;case"M":return kt.MIXED;case"D":return kt.DIGIT;case"B":return kt.BINARY;default:return kt.UPPER}}static getCharacter(o,a){switch(o){case kt.UPPER:return y.UPPER_TABLE[a];case kt.LOWER:return y.LOWER_TABLE[a];case kt.MIXED:return y.MIXED_TABLE[a];case kt.PUNCT:return y.PUNCT_TABLE[a];case kt.DIGIT:return y.DIGIT_TABLE[a];default:throw new rr("Bad table")}}correctBits(o){let a,l;this.ddata.getNbLayers()<=2?(l=6,a=ke.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,a=ke.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,a=ke.AZTEC_DATA_10):(l=12,a=ke.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),d=o.length/l;if(d<u)throw new Q;let h=o.length%l,p=new Int32Array(d);for(let I=0;I<d;I++,h+=l)p[I]=y.readCode(o,h,l);try{new Oi(a).decode(p,d-u)}catch(I){throw new Q(I)}let _=(1<<l)-1,w=0;for(let I=0;I<u;I++){let v=p[I];if(0===v||v===_)throw new Q;(1===v||v===_-1)&&w++}let C=new Array(u*l-w),b=0;for(let I=0;I<u;I++){let v=p[I];if(1===v||v===_-1)C.fill(v>1,b,b+l-1),b+=l-1;else for(let M=l-1;M>=0;--M)C[b++]=0!=(v&1<<M)}return C}extractBits(o){let a=this.ddata.isCompact(),l=this.ddata.getNbLayers(),u=(a?11:14)+4*l,d=new Int32Array(u),h=new Array(this.totalBitsInLayer(l,a));if(a)for(let p=0;p<d.length;p++)d[p]=p;else{let p=u+1+2*we.truncDivision(we.truncDivision(u,2)-1,15),_=u/2,w=we.truncDivision(p,2);for(let C=0;C<_;C++){let b=C+we.truncDivision(C,15);d[_-C-1]=w-b-1,d[_+C]=w+b+1}}for(let p=0,_=0;p<l;p++){let w=4*(l-p)+(a?9:12),C=2*p,b=u-1-C;for(let I=0;I<w;I++){let v=2*I;for(let M=0;M<2;M++)h[_+v+M]=o.get(d[C+M],d[C+I]),h[_+2*w+v+M]=o.get(d[C+I],d[b-M]),h[_+4*w+v+M]=o.get(d[b-M],d[b-I]),h[_+6*w+v+M]=o.get(d[b-I],d[C+M])}_+=8*w}return h}static readCode(o,a,l){let u=0;for(let d=a;d<a+l;d++)u<<=1,o[d]&&(u|=1);return u}static readByte(o,a){let l=o.length-a;return l>=8?y.readCode(o,a,8):y.readCode(o,a,l)<<8-l}static convertBoolArrayToByteArray(o){let a=new Uint8Array((o.length+7)/8);for(let l=0;l<a.length;l++)a[l]=y.readByte(o,8*l);return a}totalBitsInLayer(o,a){return((a?88:112)+16*o)*o}}return y.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],y.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],y.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],y.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],y.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],y})();class Ve{constructor(){}static round(i){return NaN===i?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,o,a,l){const u=i-a,d=o-l;return Math.sqrt(u*u+d*d)}static sum(i){let o=0;for(let a=0,l=i.length;a!==l;a++)o+=i[a];return o}}class To{static floatToIntBits(i){return i}}To.MAX_VALUE=Number.MAX_SAFE_INTEGER;class oe{constructor(i,o){this.x=i,this.y=o}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof oe){const o=i;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*To.floatToIntBits(this.x)+To.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const o=this.distance(i[0],i[1]),a=this.distance(i[1],i[2]),l=this.distance(i[0],i[2]);let u,d,h;if(a>=o&&a>=l?(d=i[0],u=i[1],h=i[2]):l>=a&&l>=o?(d=i[1],u=i[0],h=i[2]):(d=i[2],u=i[0],h=i[1]),this.crossProductZ(u,d,h)<0){const p=u;u=h,h=p}i[0]=u,i[1]=d,i[2]=h}static distance(i,o){return Ve.distance(i.x,i.y,o.x,o.y)}static crossProductZ(i,o,a){const l=o.x,u=o.y;return(a.x-l)*(i.y-u)-(a.y-u)*(i.x-l)}}class Ri{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Cc extends Ri{constructor(i,o,a,l,u){super(i,o),this.compact=a,this.nbDatablocks=l,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}let di=(()=>{class y{constructor(o,a,l,u){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),null==a&&(a=y.INIT_SIZE),null==l&&(l=o.getWidth()/2|0),null==u&&(u=o.getHeight()/2|0);const d=a/2|0;if(this.leftInit=l-d,this.rightInit=l+d,this.upInit=u-d,this.downInit=u+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new V}detect(){let o=this.leftInit,a=this.rightInit,l=this.upInit,u=this.downInit,d=!1,h=!0,p=!1,_=!1,w=!1,C=!1,b=!1;const I=this.width,v=this.height;for(;h;){h=!1;let M=!0;for(;(M||!_)&&a<I;)M=this.containsBlackPoint(l,u,a,!1),M?(a++,h=!0,_=!0):_||a++;if(a>=I){d=!0;break}let N=!0;for(;(N||!w)&&u<v;)N=this.containsBlackPoint(o,a,u,!0),N?(u++,h=!0,w=!0):w||u++;if(u>=v){d=!0;break}let L=!0;for(;(L||!C)&&o>=0;)L=this.containsBlackPoint(l,u,o,!1),L?(o--,h=!0,C=!0):C||o--;if(o<0){d=!0;break}let W=!0;for(;(W||!b)&&l>=0;)W=this.containsBlackPoint(o,a,l,!0),W?(l--,h=!0,b=!0):b||l--;if(l<0){d=!0;break}h&&(p=!0)}if(!d&&p){const M=a-o;let N=null;for(let B=1;null===N&&B<M;B++)N=this.getBlackPointOnSegment(o,u-B,o+B,u);if(null==N)throw new V;let L=null;for(let B=1;null===L&&B<M;B++)L=this.getBlackPointOnSegment(o,l+B,o+B,l);if(null==L)throw new V;let W=null;for(let B=1;null===W&&B<M;B++)W=this.getBlackPointOnSegment(a,l+B,a-B,l);if(null==W)throw new V;let Z=null;for(let B=1;null===Z&&B<M;B++)Z=this.getBlackPointOnSegment(a,u-B,a-B,u);if(null==Z)throw new V;return this.centerEdges(Z,N,W,L)}throw new V}getBlackPointOnSegment(o,a,l,u){const d=Ve.round(Ve.distance(o,a,l,u)),h=(l-o)/d,p=(u-a)/d,_=this.image;for(let w=0;w<d;w++){const C=Ve.round(o+w*h),b=Ve.round(a+w*p);if(_.get(C,b))return new oe(C,b)}return null}centerEdges(o,a,l,u){const d=o.getX(),h=o.getY(),p=a.getX(),_=a.getY(),w=l.getX(),C=l.getY(),b=u.getX(),I=u.getY(),v=y.CORR;return d<this.width/2?[new oe(b-v,I+v),new oe(p+v,_+v),new oe(w-v,C-v),new oe(d+v,h-v)]:[new oe(b+v,I+v),new oe(p+v,_-v),new oe(w-v,C+v),new oe(d-v,h-v)]}containsBlackPoint(o,a,l,u){const d=this.image;if(u){for(let h=o;h<=a;h++)if(d.get(h,l))return!0}else for(let h=o;h<=a;h++)if(d.get(l,h))return!0;return!1}}return y.INIT_SIZE=10,y.CORR=1,y})();class Us{static checkAndNudgePoints(i,o){const a=i.getWidth(),l=i.getHeight();let u=!0;for(let d=0;d<o.length&&u;d+=2){const h=Math.floor(o[d]),p=Math.floor(o[d+1]);if(h<-1||h>a||p<-1||p>l)throw new V;u=!1,-1===h?(o[d]=0,u=!0):h===a&&(o[d]=a-1,u=!0),-1===p?(o[d+1]=0,u=!0):p===l&&(o[d+1]=l-1,u=!0)}u=!0;for(let d=o.length-2;d>=0&&u;d-=2){const h=Math.floor(o[d]),p=Math.floor(o[d+1]);if(h<-1||h>a||p<-1||p>l)throw new V;u=!1,-1===h?(o[d]=0,u=!0):h===a&&(o[d]=a-1,u=!0),-1===p?(o[d+1]=0,u=!0):p===l&&(o[d+1]=l-1,u=!0)}}}class _n{constructor(i,o,a,l,u,d,h,p,_){this.a11=i,this.a21=o,this.a31=a,this.a12=l,this.a22=u,this.a32=d,this.a13=h,this.a23=p,this.a33=_}static quadrilateralToQuadrilateral(i,o,a,l,u,d,h,p,_,w,C,b,I,v,M,N){const L=_n.quadrilateralToSquare(i,o,a,l,u,d,h,p);return _n.squareToQuadrilateral(_,w,C,b,I,v,M,N).times(L)}transformPoints(i){const o=i.length,a=this.a11,l=this.a12,u=this.a13,d=this.a21,h=this.a22,p=this.a23,_=this.a31,w=this.a32,C=this.a33;for(let b=0;b<o;b+=2){const I=i[b],v=i[b+1],M=u*I+p*v+C;i[b]=(a*I+d*v+_)/M,i[b+1]=(l*I+h*v+w)/M}}transformPointsWithValues(i,o){const a=this.a11,l=this.a12,u=this.a13,d=this.a21,h=this.a22,p=this.a23,_=this.a31,w=this.a32,C=this.a33,b=i.length;for(let I=0;I<b;I++){const v=i[I],M=o[I],N=u*v+p*M+C;i[I]=(a*v+d*M+_)/N,o[I]=(l*v+h*M+w)/N}}static squareToQuadrilateral(i,o,a,l,u,d,h,p){const _=i-a+u-h,w=o-l+d-p;if(0===_&&0===w)return new _n(a-i,u-a,i,l-o,d-l,o,0,0,1);{const C=a-u,b=h-u,I=l-d,v=p-d,M=C*v-b*I,N=(_*v-b*w)/M,L=(C*w-_*I)/M;return new _n(a-i+N*a,h-i+L*h,i,l-o+N*l,p-o+L*p,o,N,L,1)}}static quadrilateralToSquare(i,o,a,l,u,d,h,p){return _n.squareToQuadrilateral(i,o,a,l,u,d,h,p).buildAdjoint()}buildAdjoint(){return new _n(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new _n(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class js extends Us{sampleGrid(i,o,a,l,u,d,h,p,_,w,C,b,I,v,M,N,L,W,Z){const B=_n.quadrilateralToQuadrilateral(l,u,d,h,p,_,w,C,b,I,v,M,N,L,W,Z);return this.sampleGridWithTransform(i,o,a,B)}sampleGridWithTransform(i,o,a,l){if(o<=0||a<=0)throw new V;const u=new Tt(o,a),d=new Float32Array(2*o);for(let h=0;h<a;h++){const p=d.length,_=h+.5;for(let w=0;w<p;w+=2)d[w]=w/2+.5,d[w+1]=_;l.transformPoints(d),Us.checkAndNudgePoints(i,d);try{for(let w=0;w<p;w+=2)i.get(Math.floor(d[w]),Math.floor(d[w+1]))&&u.set(w/2,h)}catch{throw new V}}return u}}class yr{static setGridSampler(i){yr.gridSampler=i}static getInstance(){return yr.gridSampler}}yr.gridSampler=new js;class Kt{constructor(i,o){this.x=i,this.y=o}toResultPoint(){return new oe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ac{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let o=this.getMatrixCenter(),a=this.getBullsEyeCorners(o);if(i){let d=a[0];a[0]=a[2],a[2]=d}this.extractParameters(a);let l=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),u=this.getMatrixCornerPoints(a);return new Cc(l,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!(this.isValidPoint(i[0])&&this.isValidPoint(i[1])&&this.isValidPoint(i[2])&&this.isValidPoint(i[3])))throw new V;let o=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(i[0],i[1],o),this.sampleLine(i[1],i[2],o),this.sampleLine(i[2],i[3],o),this.sampleLine(i[3],i[0],o)]);this.shift=this.getRotation(a,o);let l=0;for(let d=0;d<4;d++){let h=a[(this.shift+d)%4];this.compact?(l<<=7,l+=h>>1&127):(l<<=10,l+=(h>>2&992)+(h>>1&31))}let u=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=1+(u>>6),this.nbDataBlocks=1+(63&u)):(this.nbLayers=1+(u>>11),this.nbDataBlocks=1+(2047&u))}getRotation(i,o){let a=0;i.forEach((l,u,d)=>{a=(l>>o-2<<1)+(1&l)+(a<<3)}),a=((1&a)<<11)+(a>>1);for(let l=0;l<4;l++)if(we.bitCount(a^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new V}getCorrectedParameterData(i,o){let a,l;o?(a=7,l=2):(a=10,l=4);let u=a-l,d=new Int32Array(a);for(let p=a-1;p>=0;--p)d[p]=15&i,i>>=4;try{new Oi(ke.AZTEC_PARAM).decode(d,u)}catch{throw new V}let h=0;for(let p=0;p<l;p++)h=(h<<4)+d[p];return h}getBullsEyeCorners(i){let o=i,a=i,l=i,u=i,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let C=this.getFirstDifferent(o,d,1,-1),b=this.getFirstDifferent(a,d,1,1),I=this.getFirstDifferent(l,d,-1,1),v=this.getFirstDifferent(u,d,-1,-1);if(this.nbCenterLayers>2){let M=this.distancePoint(v,C)*this.nbCenterLayers/(this.distancePoint(u,o)*(this.nbCenterLayers+2));if(M<.75||M>1.25||!this.isWhiteOrBlackRectangle(C,b,I,v))break}o=C,a=b,l=I,u=v,d=!d}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new V;this.compact=5===this.nbCenterLayers;let h=new oe(o.getX()+.5,o.getY()-.5),p=new oe(a.getX()+.5,a.getY()+.5),_=new oe(l.getX()-.5,l.getY()+.5),w=new oe(u.getX()-.5,u.getY()-.5);return this.expandSquare([h,p,_,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,o,a,l;try{let h=new di(this.image).detect();i=h[0],o=h[1],a=h[2],l=h[3]}catch{let p=this.image.getWidth()/2,_=this.image.getHeight()/2;i=this.getFirstDifferent(new Kt(p+7,_-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Kt(p+7,_+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Kt(p-7,_+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Kt(p-7,_-7),!1,-1,-1).toResultPoint()}let u=Ve.round((i.getX()+l.getX()+o.getX()+a.getX())/4),d=Ve.round((i.getY()+l.getY()+o.getY()+a.getY())/4);try{let h=new di(this.image,15,u,d).detect();i=h[0],o=h[1],a=h[2],l=h[3]}catch{i=this.getFirstDifferent(new Kt(u+7,d-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Kt(u+7,d+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Kt(u-7,d+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Kt(u-7,d-7),!1,-1,-1).toResultPoint()}return u=Ve.round((i.getX()+l.getX()+o.getX()+a.getX())/4),d=Ve.round((i.getY()+l.getY()+o.getY()+a.getY())/4),new Kt(u,d)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,o,a,l,u){let d=yr.getInstance(),h=this.getDimension(),p=h/2-this.nbCenterLayers,_=h/2+this.nbCenterLayers;return d.sampleGrid(i,h,h,p,p,_,p,_,_,p,_,o.getX(),o.getY(),a.getX(),a.getY(),l.getX(),l.getY(),u.getX(),u.getY())}sampleLine(i,o,a){let l=0,u=this.distanceResultPoint(i,o),d=u/a,h=i.getX(),p=i.getY(),_=d*(o.getX()-i.getX())/u,w=d*(o.getY()-i.getY())/u;for(let C=0;C<a;C++)this.image.get(Ve.round(h+C*_),Ve.round(p+C*w))&&(l|=1<<a-C-1);return l}isWhiteOrBlackRectangle(i,o,a,l){i=new Kt(i.getX()-3,i.getY()+3),o=new Kt(o.getX()-3,o.getY()-3),a=new Kt(a.getX()+3,a.getY()-3),l=new Kt(l.getX()+3,l.getY()+3);let d=this.getColor(l,i);if(0===d)return!1;let h=this.getColor(i,o);return h===d&&(h=this.getColor(o,a),h===d)&&(h=this.getColor(a,l),h===d)}getColor(i,o){let a=this.distancePoint(i,o),l=(o.getX()-i.getX())/a,u=(o.getY()-i.getY())/a,d=0,h=i.getX(),p=i.getY(),_=this.image.get(i.getX(),i.getY()),w=Math.ceil(a);for(let b=0;b<w;b++)h+=l,p+=u,this.image.get(Ve.round(h),Ve.round(p))!==_&&d++;let C=d/a;return C>.1&&C<.9?0:C<=.1===_?1:-1}getFirstDifferent(i,o,a,l){let u=i.getX()+a,d=i.getY()+l;for(;this.isValid(u,d)&&this.image.get(u,d)===o;)u+=a,d+=l;for(u-=a,d-=l;this.isValid(u,d)&&this.image.get(u,d)===o;)u+=a;for(u-=a;this.isValid(u,d)&&this.image.get(u,d)===o;)d+=l;return d-=l,new Kt(u,d)}expandSquare(i,o,a){let l=a/(2*o),u=i[0].getX()-i[2].getX(),d=i[0].getY()-i[2].getY(),h=(i[0].getX()+i[2].getX())/2,p=(i[0].getY()+i[2].getY())/2,_=new oe(h+l*u,p+l*d),w=new oe(h-l*u,p-l*d);return u=i[1].getX()-i[3].getX(),d=i[1].getY()-i[3].getY(),h=(i[1].getX()+i[3].getX())/2,p=(i[1].getY()+i[3].getY())/2,[_,new oe(h+l*u,p+l*d),w,new oe(h-l*u,p-l*d)]}isValid(i,o){return i>=0&&i<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(i){let o=Ve.round(i.getX()),a=Ve.round(i.getY());return this.isValid(o,a)}distancePoint(i,o){return Ve.distance(i.getX(),i.getY(),o.getX(),o.getY())}distanceResultPoint(i,o){return Ve.distance(i.getX(),i.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(we.truncDivision(this.nbLayers-4,8)+1)+15}}class Bn{decode(i,o=null){let a=null,l=new Ac(i.getBlackMatrix()),u=null,d=null;try{let w=l.detectMirror(!1);u=w.getPoints(),this.reportFoundResultPoints(o,u),d=(new Vs).decode(w)}catch(w){a=w}if(null==d)try{let w=l.detectMirror(!0);u=w.getPoints(),this.reportFoundResultPoints(o,u),d=(new Vs).decode(w)}catch(w){throw a??w}let h=new Bt(d.getText(),d.getRawBytes(),d.getNumBits(),u,le.AZTEC,qe.currentTimeMillis()),p=d.getByteSegments();null!=p&&h.putMetadata(xt.BYTE_SEGMENTS,p);let _=d.getECLevel();return null!=_&&h.putMetadata(xt.ERROR_CORRECTION_LEVEL,_),h}reportFoundResultPoints(i,o){if(null!=i){let a=i.get(rt.NEED_RESULT_POINT_CALLBACK);null!=a&&o.forEach((l,u,d)=>{a.foundPossibleResultPoint(l)})}}reset(){}}class It{decode(i,o){try{return this.doDecode(i,o)}catch{if(o&&!0===o.get(rt.TRY_HARDER)&&i.isRotateSupported()){const u=i.rotateCounterClockwise(),d=this.doDecode(u,o),h=d.getResultMetadata();let p=270;null!==h&&!0===h.get(xt.ORIENTATION)&&(p+=h.get(xt.ORIENTATION)%360),d.putMetadata(xt.ORIENTATION,p);const _=d.getResultPoints();if(null!==_){const w=u.getHeight();for(let C=0;C<_.length;C++)_[C]=new oe(w-_[C].getY()-1,_[C].getX())}return d}throw new V}}reset(){}doDecode(i,o){const a=i.getWidth(),l=i.getHeight();let u=new $e(a);const d=o&&!0===o.get(rt.TRY_HARDER),h=Math.max(1,l>>(d?8:5));let p;p=d?l:15;const _=Math.trunc(l/2);for(let w=0;w<p;w++){const C=Math.trunc((w+1)/2),I=_+h*(0==(1&w)?C:-C);if(I<0||I>=l)break;try{u=i.getBlackRow(I,u)}catch{continue}for(let v=0;v<2;v++){if(1===v&&(u.reverse(),o&&!0===o.get(rt.NEED_RESULT_POINT_CALLBACK))){const M=new Map;o.forEach((N,L)=>M.set(L,N)),M.delete(rt.NEED_RESULT_POINT_CALLBACK),o=M}try{const M=this.decodeRow(I,u,o);if(1===v){M.putMetadata(xt.ORIENTATION,180);const N=M.getResultPoints();null!==N&&(N[0]=new oe(a-N[0].getX()-1,N[0].getY()),N[1]=new oe(a-N[1].getX()-1,N[1].getY()))}return M}catch{}}}throw new V}static recordPattern(i,o,a){const l=a.length;for(let _=0;_<l;_++)a[_]=0;const u=i.getSize();if(o>=u)throw new V;let d=!i.get(o),h=0,p=o;for(;p<u;){if(i.get(p)!==d)a[h]++;else{if(++h===l)break;a[h]=1,d=!d}p++}if(h!==l&&(h!==l-1||p!==u))throw new V}static recordPatternInReverse(i,o,a){let l=a.length,u=i.get(o);for(;o>0&&l>=0;)i.get(--o)!==u&&(l--,u=!u);if(l>=0)throw new V;It.recordPattern(i,o+1,a)}static patternMatchVariance(i,o,a){const l=i.length;let u=0,d=0;for(let _=0;_<l;_++)u+=i[_],d+=o[_];if(u<d)return Number.POSITIVE_INFINITY;const h=u/d;a*=h;let p=0;for(let _=0;_<l;_++){const w=i[_],C=o[_]*h,b=w>C?w-C:C-w;if(b>a)return Number.POSITIVE_INFINITY;p+=b}return p/u}}class X extends It{static findStartPattern(i){const o=i.getSize(),a=i.getNextSet(0);let l=0,u=Int32Array.from([0,0,0,0,0,0]),d=a,h=!1;for(let _=a;_<o;_++)if(i.get(_)!==h)u[l]++;else{if(5===l){let w=X.MAX_AVG_VARIANCE,C=-1;for(let b=X.CODE_START_A;b<=X.CODE_START_C;b++){const I=It.patternMatchVariance(u,X.CODE_PATTERNS[b],X.MAX_INDIVIDUAL_VARIANCE);I<w&&(w=I,C=b)}if(C>=0&&i.isRange(Math.max(0,d-(_-d)/2),d,!1))return Int32Array.from([d,_,C]);d+=u[0]+u[1],u=u.slice(2,u.length-1),u[l-1]=0,u[l]=0,l--}else l++;u[l]=1,h=!h}throw new V}static decodeCode(i,o,a){It.recordPattern(i,a,o);let l=X.MAX_AVG_VARIANCE,u=-1;for(let d=0;d<X.CODE_PATTERNS.length;d++){const p=this.patternMatchVariance(o,X.CODE_PATTERNS[d],X.MAX_INDIVIDUAL_VARIANCE);p<l&&(l=p,u=d)}if(u>=0)return u;throw new V}decodeRow(i,o,a){const l=a&&!0===a.get(rt.ASSUME_GS1),u=X.findStartPattern(o),d=u[2];let h=0;const p=new Uint8Array(20);let _;switch(p[h++]=d,d){case X.CODE_START_A:_=X.CODE_CODE_A;break;case X.CODE_START_B:_=X.CODE_CODE_B;break;case X.CODE_START_C:_=X.CODE_CODE_C;break;default:throw new Q}let w=!1,C=!1,b="",I=u[0],v=u[1];const M=Int32Array.from([0,0,0,0,0,0]);let N=0,L=0,W=d,Z=0,B=!0,Me=!1,be=!1;for(;!w;){const yi=C;switch(C=!1,N=L,L=X.decodeCode(o,M,v),p[h++]=L,L!==X.CODE_STOP&&(B=!0),L!==X.CODE_STOP&&(Z++,W+=Z*L),I=v,v+=M.reduce((Kd,Jd)=>Kd+Jd,0),L){case X.CODE_START_A:case X.CODE_START_B:case X.CODE_START_C:throw new Q}switch(_){case X.CODE_CODE_A:if(L<64)b+=String.fromCharCode(be===Me?" ".charCodeAt(0)+L:" ".charCodeAt(0)+L+128),be=!1;else if(L<96)b+=String.fromCharCode(be===Me?L-64:L+64),be=!1;else switch(L!==X.CODE_STOP&&(B=!1),L){case X.CODE_FNC_1:l&&(b+=0===b.length?"]C1":String.fromCharCode(29));break;case X.CODE_FNC_2:case X.CODE_FNC_3:break;case X.CODE_FNC_4_A:!Me&&be?(Me=!0,be=!1):Me&&be?(Me=!1,be=!1):be=!0;break;case X.CODE_SHIFT:C=!0,_=X.CODE_CODE_B;break;case X.CODE_CODE_B:_=X.CODE_CODE_B;break;case X.CODE_CODE_C:_=X.CODE_CODE_C;break;case X.CODE_STOP:w=!0}break;case X.CODE_CODE_B:if(L<96)b+=String.fromCharCode(be===Me?" ".charCodeAt(0)+L:" ".charCodeAt(0)+L+128),be=!1;else switch(L!==X.CODE_STOP&&(B=!1),L){case X.CODE_FNC_1:l&&(b+=0===b.length?"]C1":String.fromCharCode(29));break;case X.CODE_FNC_2:case X.CODE_FNC_3:break;case X.CODE_FNC_4_B:!Me&&be?(Me=!0,be=!1):Me&&be?(Me=!1,be=!1):be=!0;break;case X.CODE_SHIFT:C=!0,_=X.CODE_CODE_A;break;case X.CODE_CODE_A:_=X.CODE_CODE_A;break;case X.CODE_CODE_C:_=X.CODE_CODE_C;break;case X.CODE_STOP:w=!0}break;case X.CODE_CODE_C:if(L<100)L<10&&(b+="0"),b+=L;else switch(L!==X.CODE_STOP&&(B=!1),L){case X.CODE_FNC_1:l&&(b+=0===b.length?"]C1":String.fromCharCode(29));break;case X.CODE_CODE_A:_=X.CODE_CODE_A;break;case X.CODE_CODE_B:_=X.CODE_CODE_B;break;case X.CODE_STOP:w=!0}}yi&&(_=_===X.CODE_CODE_A?X.CODE_CODE_B:X.CODE_CODE_A)}const nn=v-I;if(v=o.getNextUnset(v),!o.isRange(v,Math.min(o.getSize(),v+(v-I)/2),!1))throw new V;if(W-=Z*N,W%103!==N)throw new bt;const vn=b.length;if(0===vn)throw new V;vn>0&&B&&(b=b.substring(0,_===X.CODE_CODE_C?vn-2:vn-1));const fn=(u[1]+u[0])/2,ot=I+nn/2,Xt=p.length,En=new Uint8Array(Xt);for(let yi=0;yi<Xt;yi++)En[yi]=p[yi];const _i=[new oe(fn,i),new oe(ot,i)];return new Bt(b,En,0,_i,le.CODE_128,(new Date).getTime())}}X.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],X.MAX_AVG_VARIANCE=.25,X.MAX_INDIVIDUAL_VARIANCE=.7,X.CODE_SHIFT=98,X.CODE_CODE_C=99,X.CODE_CODE_B=100,X.CODE_CODE_A=101,X.CODE_FNC_1=102,X.CODE_FNC_2=97,X.CODE_FNC_3=96,X.CODE_FNC_4_A=101,X.CODE_FNC_4_B=100,X.CODE_START_A=103,X.CODE_START_B=104,X.CODE_START_C=105,X.CODE_STOP=106;let Hs=(()=>{class y extends It{constructor(o=!1,a=!1){super(),this.usingCheckDigit=o,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,a,l){let u=this.counters;u.fill(0),this.decodeRowResult="";let _,w,d=y.findAsteriskPattern(a,u),h=a.getNextSet(d[1]),p=a.getSize();do{y.recordPattern(a,h,u);let N=y.toNarrowWidePattern(u);if(N<0)throw new V;_=y.patternToChar(N),this.decodeRowResult+=_,w=h;for(let L of u)h+=L;h=a.getNextSet(h)}while("*"!==_);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let I,C=0;for(let N of u)C+=N;if(h!==p&&2*(h-w-C)<C)throw new V;if(this.usingCheckDigit){let N=this.decodeRowResult.length-1,L=0;for(let W=0;W<N;W++)L+=y.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(W));if(this.decodeRowResult.charAt(N)!==y.ALPHABET_STRING.charAt(L%43))throw new bt;this.decodeRowResult=this.decodeRowResult.substring(0,N)}if(0===this.decodeRowResult.length)throw new V;I=this.extendedMode?y.decodeExtended(this.decodeRowResult):this.decodeRowResult;let M=w+C/2;return new Bt(I,null,0,[new oe((d[1]+d[0])/2,o),new oe(M,o)],le.CODE_39,(new Date).getTime())}static findAsteriskPattern(o,a){let l=o.getSize(),u=o.getNextSet(0),d=0,h=u,p=!1,_=a.length;for(let w=u;w<l;w++)if(o.get(w)!==p)a[d]++;else{if(d===_-1){if(this.toNarrowWidePattern(a)===y.ASTERISK_ENCODING&&o.isRange(Math.max(0,h-Math.floor((w-h)/2)),h,!1))return[h,w];h+=a[0]+a[1],a.copyWithin(0,2,2+d-1),a[d-1]=0,a[d]=0,d--}else d++;a[d]=1,p=!p}throw new V}static toNarrowWidePattern(o){let u,a=o.length,l=0;do{let d=2147483647;for(let _ of o)_<d&&_>l&&(d=_);l=d,u=0;let h=0,p=0;for(let _=0;_<a;_++){let w=o[_];w>l&&(p|=1<<a-1-_,u++,h+=w)}if(3===u){for(let _=0;_<a&&u>0;_++){let w=o[_];if(w>l&&(u--,2*w>=h))return-1}return p}}while(u>3);return-1}static patternToChar(o){for(let a=0;a<y.CHARACTER_ENCODINGS.length;a++)if(y.CHARACTER_ENCODINGS[a]===o)return y.ALPHABET_STRING.charAt(a);if(o===y.ASTERISK_ENCODING)return"*";throw new V}static decodeExtended(o){let a=o.length,l="";for(let u=0;u<a;u++){let d=o.charAt(u);if("+"===d||"$"===d||"%"===d||"/"===d){let h=o.charAt(u+1),p="\0";switch(d){case"+":if(!(h>="A"&&h<="Z"))throw new Q;p=String.fromCharCode(h.charCodeAt(0)+32);break;case"$":if(!(h>="A"&&h<="Z"))throw new Q;p=String.fromCharCode(h.charCodeAt(0)-64);break;case"%":if(h>="A"&&h<="E")p=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")p=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")p=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")p=String.fromCharCode(h.charCodeAt(0)+43);else if("U"===h)p="\0";else if("V"===h)p="@";else if("W"===h)p="`";else{if("X"!==h&&"Y"!==h&&"Z"!==h)throw new Q;p="\x7f"}break;case"/":if(h>="A"&&h<="O")p=String.fromCharCode(h.charCodeAt(0)-32);else{if("Z"!==h)throw new Q;p=":"}}l+=p,u++}else l+=d}return l}}return y.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",y.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],y.ASTERISK_ENCODING=148,y})();class Ke extends It{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,o,a){let l=this.decodeStart(o),u=this.decodeEnd(o),d=new ze;Ke.decodeMiddle(o,l[1],u[0],d);let h=d.toString(),p=null;null!=a&&(p=a.get(rt.ALLOWED_LENGTHS)),null==p&&(p=Ke.DEFAULT_ALLOWED_LENGTHS);let _=h.length,w=!1,C=0;for(let v of p){if(_===v){w=!0;break}v>C&&(C=v)}if(!w&&_>C&&(w=!0),!w)throw new Q;const b=[new oe(l[1],i),new oe(u[0],i)];return new Bt(h,null,0,b,le.ITF,(new Date).getTime())}static decodeMiddle(i,o,a,l){let u=new Int32Array(10),d=new Int32Array(5),h=new Int32Array(5);for(u.fill(0),d.fill(0),h.fill(0);o<a;){It.recordPattern(i,o,u);for(let _=0;_<5;_++){let w=2*_;d[_]=u[w],h[_]=u[w+1]}let p=Ke.decodeDigit(d);l.append(p.toString()),p=this.decodeDigit(h),l.append(p.toString()),u.forEach(function(_){o+=_})}}decodeStart(i){let o=Ke.skipWhiteSpace(i),a=Ke.findGuardPattern(i,o,Ke.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(i,a[0]),a}validateQuietZone(i,o){let a=10*this.narrowLineWidth;a=a<o?a:o;for(let l=o-1;a>0&&l>=0&&!i.get(l);l--)a--;if(0!==a)throw new V}static skipWhiteSpace(i){const o=i.getSize(),a=i.getNextSet(0);if(a===o)throw new V;return a}decodeEnd(i){i.reverse();try{let a,o=Ke.skipWhiteSpace(i);try{a=Ke.findGuardPattern(i,o,Ke.END_PATTERN_REVERSED[0])}catch(u){u instanceof V&&(a=Ke.findGuardPattern(i,o,Ke.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,a[0]);let l=a[0];return a[0]=i.getSize()-a[1],a[1]=i.getSize()-l,a}finally{i.reverse()}}static findGuardPattern(i,o,a){let l=a.length,u=new Int32Array(l),d=i.getSize(),h=!1,p=0,_=o;u.fill(0);for(let w=o;w<d;w++)if(i.get(w)!==h)u[p]++;else{if(p===l-1){if(It.patternMatchVariance(u,a,Ke.MAX_INDIVIDUAL_VARIANCE)<Ke.MAX_AVG_VARIANCE)return[_,w];_+=u[0]+u[1],qe.arraycopy(u,2,u,0,p-1),u[p-1]=0,u[p]=0,p--}else p++;u[p]=1,h=!h}throw new V}static decodeDigit(i){let o=Ke.MAX_AVG_VARIANCE,a=-1,l=Ke.PATTERNS.length;for(let u=0;u<l;u++){let h=It.patternMatchVariance(i,Ke.PATTERNS[u],Ke.MAX_INDIVIDUAL_VARIANCE);h<o?(o=h,a=u):h===o&&(a=-1)}if(a>=0)return a%10;throw new V}}Ke.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ke.MAX_AVG_VARIANCE=.38,Ke.MAX_INDIVIDUAL_VARIANCE=.5,Ke.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ke.START_PATTERN=Int32Array.from([1,1,1,1]),Ke.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class mt extends It{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let a,o=!1,l=0,u=Int32Array.from([0,0,0]);for(;!o;){u=Int32Array.from([0,0,0]),a=mt.findGuardPattern(i,l,!1,this.START_END_PATTERN,u);let d=a[0];l=a[1];let h=d-(l-d);h>=0&&(o=i.isRange(h,d,!1))}return a}static checkChecksum(i){return mt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(0===o)return!1;let a=parseInt(i.charAt(o-1),10);return mt.getStandardUPCEANChecksum(i.substring(0,o-1))===a}static getStandardUPCEANChecksum(i){let o=i.length,a=0;for(let l=o-1;l>=0;l-=2){let u=i.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new Q;a+=u}a*=3;for(let l=o-2;l>=0;l-=2){let u=i.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new Q;a+=u}return(1e3-a)%10}static decodeEnd(i,o){return mt.findGuardPattern(i,o,!1,mt.START_END_PATTERN,new Int32Array(mt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,o,a,l){return this.findGuardPattern(i,o,a,l,new Int32Array(l.length))}static findGuardPattern(i,o,a,l,u){let d=i.getSize(),h=0,p=o=a?i.getNextUnset(o):i.getNextSet(o),_=l.length,w=a;for(let C=o;C<d;C++)if(i.get(C)!==w)u[h]++;else{if(h===_-1){if(It.patternMatchVariance(u,l,mt.MAX_INDIVIDUAL_VARIANCE)<mt.MAX_AVG_VARIANCE)return Int32Array.from([p,C]);p+=u[0]+u[1];let b=u.slice(2,u.length-1);for(let I=0;I<h-1;I++)u[I]=b[I];u[h-1]=0,u[h]=0,h--}else h++;u[h]=1,w=!w}throw new V}static decodeDigit(i,o,a,l){this.recordPattern(i,a,o);let u=this.MAX_AVG_VARIANCE,d=-1,h=l.length;for(let p=0;p<h;p++){let w=It.patternMatchVariance(o,l[p],mt.MAX_INDIVIDUAL_VARIANCE);w<u&&(u=w,d=p)}if(d>=0)return d;throw new V}}mt.MAX_AVG_VARIANCE=.48,mt.MAX_INDIVIDUAL_VARIANCE=.7,mt.START_END_PATTERN=Int32Array.from([1,1,1]),mt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),mt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),mt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Li{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,a){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(o,a,l),d=l.toString(),h=Li.parseExtensionString(d),p=[new oe((a[0]+a[1])/2,i),new oe(u,i)],_=new Bt(d,null,0,p,le.UPC_EAN_EXTENSION,(new Date).getTime());return null!=h&&_.putAllMetadata(h),_}decodeMiddle(i,o,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=i.getSize(),d=o[1],h=0;for(let _=0;_<5&&d<u;_++){let w=mt.decodeDigit(i,l,d,mt.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+w%10);for(let C of l)d+=C;w>=10&&(h|=1<<4-_),4!==_&&(d=i.getNextSet(d),d=i.getNextUnset(d))}if(5!==a.length)throw new V;let p=this.determineCheckDigit(h);if(Li.extensionChecksum(a.toString())!==p)throw new V;return d}static extensionChecksum(i){let o=i.length,a=0;for(let l=o-2;l>=0;l-=2)a+=i.charAt(l).charCodeAt(0)-"0".charCodeAt(0);a*=3;for(let l=o-1;l>=0;l-=2)a+=i.charAt(l).charCodeAt(0)-"0".charCodeAt(0);return a*=3,a%10}determineCheckDigit(i){for(let o=0;o<10;o++)if(i===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new V}static parseExtensionString(i){if(5!==i.length)return null;let o=Li.parseExtension5String(i);return null==o?null:new Map([[xt.SUGGESTED_PRICE,o]])}static parseExtension5String(i){let o;switch(i.charAt(0)){case"0":o="\xa3";break;case"5":o="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o=""}let a=parseInt(i.substring(1)),u=a%100;return o+(a/100).toString()+"."+(u<10?"0"+u:u.toString())}}class Gs{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,a){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(o,a,l),d=l.toString(),h=Gs.parseExtensionString(d),p=[new oe((a[0]+a[1])/2,i),new oe(u,i)],_=new Bt(d,null,0,p,le.UPC_EAN_EXTENSION,(new Date).getTime());return null!=h&&_.putAllMetadata(h),_}decodeMiddle(i,o,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=i.getSize(),d=o[1],h=0;for(let p=0;p<2&&d<u;p++){let _=mt.decodeDigit(i,l,d,mt.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+_%10);for(let w of l)d+=w;_>=10&&(h|=1<<1-p),1!==p&&(d=i.getNextSet(d),d=i.getNextUnset(d))}if(2!==a.length)throw new V;if(parseInt(a.toString())%4!==h)throw new V;return d}static parseExtensionString(i){return 2!==i.length?null:new Map([[xt.ISSUE_NUMBER,parseInt(i)]])}}class Dc{static decodeRow(i,o,a){let l=mt.findGuardPattern(o,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new Li).decodeRow(i,o,l)}catch{return(new Gs).decodeRow(i,o,l)}}}Dc.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class We extends mt{constructor(){super(),this.decodeRowStringBuffer="",We.L_AND_G_PATTERNS=We.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let o=We.L_PATTERNS[i-10],a=new Int32Array(o.length);for(let l=0;l<o.length;l++)a[l]=o[o.length-l-1];We.L_AND_G_PATTERNS[i]=a}}decodeRow(i,o,a){let l=We.findStartGuardPattern(o),u=null==a?null:a.get(rt.NEED_RESULT_POINT_CALLBACK);if(null!=u){const B=new oe((l[0]+l[1])/2,i);u.foundPossibleResultPoint(B)}let d=this.decodeMiddle(o,l,this.decodeRowStringBuffer),h=d.rowOffset,p=d.resultString;if(null!=u){const B=new oe(h,i);u.foundPossibleResultPoint(B)}let _=this.decodeEnd(o,h);if(null!=u){const B=new oe((_[0]+_[1])/2,i);u.foundPossibleResultPoint(B)}let w=_[1],C=w+(w-_[0]);if(C>=o.getSize()||!o.isRange(w,C,!1))throw new V;let b=p.toString();if(b.length<8)throw new Q;if(!We.checkChecksum(b))throw new bt;let I=(l[1]+l[0])/2,v=(_[1]+_[0])/2,M=this.getBarcodeFormat(),N=[new oe(I,i),new oe(v,i)],L=new Bt(b,null,0,N,M,(new Date).getTime()),W=0;try{let B=Dc.decodeRow(i,o,_[1]);L.putMetadata(xt.UPC_EAN_EXTENSION,B.getText()),L.putAllMetadata(B.getResultMetadata()),L.addResultPoints(B.getResultPoints()),W=B.getText().length}catch{}let Z=null==a?null:a.get(rt.ALLOWED_EAN_EXTENSIONS);if(null!=Z){let B=!1;for(let Me in Z)if(W.toString()===Me){B=!0;break}if(!B)throw new V}return L}decodeEnd(i,o){return We.findGuardPattern(i,o,!1,We.START_END_PATTERN,new Int32Array(We.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return We.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(0===o)return!1;let a=parseInt(i.charAt(o-1),10);return We.getStandardUPCEANChecksum(i.substring(0,o-1))===a}static getStandardUPCEANChecksum(i){let o=i.length,a=0;for(let l=o-1;l>=0;l-=2){let u=i.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new Q;a+=u}a*=3;for(let l=o-2;l>=0;l-=2){let u=i.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new Q;a+=u}return(1e3-a)%10}}let fi=(()=>{class y extends We{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=o.getSize(),h=a[1],p=0;for(let w=0;w<6&&h<d;w++){let C=We.decodeDigit(o,u,h,We.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+C%10);for(let b of u)h+=b;C>=10&&(p|=1<<5-w)}l=y.determineFirstDigit(l,p),h=We.findGuardPattern(o,h,!0,We.MIDDLE_PATTERN,new Int32Array(We.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<6&&h<d;w++){let C=We.decodeDigit(o,u,h,We.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+C);for(let b of u)h+=b}return{rowOffset:h,resultString:l}}getBarcodeFormat(){return le.EAN_13}static determineFirstDigit(o,a){for(let l=0;l<10;l++)if(a===this.FIRST_DIGIT_ENCODINGS[l])return String.fromCharCode("0".charCodeAt(0)+l)+o;throw new V}}return y.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],y})();class Mo extends We{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,a){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=i.getSize(),d=o[1];for(let p=0;p<4&&d<u;p++){let _=We.decodeDigit(i,l,d,We.L_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+_);for(let w of l)d+=w}d=We.findGuardPattern(i,d,!0,We.MIDDLE_PATTERN,new Int32Array(We.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<4&&d<u;p++){let _=We.decodeDigit(i,l,d,We.L_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+_);for(let w of l)d+=w}return{rowOffset:d,resultString:a}}getBarcodeFormat(){return le.EAN_8}}class No extends We{constructor(){super(...arguments),this.ean13Reader=new fi}getBarcodeFormat(){return le.UPC_A}decode(i,o){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,o,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,o,a))}decodeMiddle(i,o,a){return this.ean13Reader.decodeMiddle(i,o,a)}maybeReturnResult(i){let o=i.getText();if("0"===o.charAt(0)){let a=new Bt(o.substring(1),null,null,i.getResultPoints(),le.UPC_A);return null!=i.getResultMetadata()&&a.putAllMetadata(i.getResultMetadata()),a}throw new V}reset(){this.ean13Reader.reset()}}class yn extends We{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,o,a){const l=this.decodeMiddleCounters.map(_=>_);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const u=i.getSize();let d=o[1],h=0;for(let _=0;_<6&&d<u;_++){const w=yn.decodeDigit(i,l,d,yn.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+w%10);for(let C of l)d+=C;w>=10&&(h|=1<<5-_)}return{rowOffset:d,resultString:yn.determineNumSysAndCheckDigit(a,h)}}decodeEnd(i,o){return yn.findGuardPatternWithoutCounters(i,o,!0,yn.MIDDLE_END_PATTERN)}checkChecksum(i){return We.checkChecksum(yn.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,o){for(let a=0;a<=1;a++)for(let l=0;l<10;l++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][l])return String.fromCharCode("0".charCodeAt(0)+a)+i+String.fromCharCode("0".charCodeAt(0)+l);throw V.getNotFoundInstance()}getBarcodeFormat(){return le.UPC_E}static convertUPCEtoUPCA(i){const o=i.slice(1,7).split("").map(u=>u.charCodeAt(0)),a=new ze;a.append(i.charAt(0));let l=o[5];switch(l){case 0:case 1:case 2:a.appendChars(o,0,2),a.append(l),a.append("0000"),a.appendChars(o,2,3);break;case 3:a.appendChars(o,0,3),a.append("00000"),a.appendChars(o,3,2);break;case 4:a.appendChars(o,0,4),a.append("00000"),a.append(o[4]);break;default:a.appendChars(o,0,5),a.append("0000"),a.append(l)}return i.length>=8&&a.append(i.charAt(7)),a.toString()}}yn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),yn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Pi extends It{constructor(i){super();let o=null==i?null:i.get(rt.POSSIBLE_FORMATS),a=[];nt(o)?(a.push(new fi),a.push(new No),a.push(new Mo),a.push(new yn)):(o.indexOf(le.EAN_13)>-1&&a.push(new fi),o.indexOf(le.UPC_A)>-1&&a.push(new No),o.indexOf(le.EAN_8)>-1&&a.push(new Mo),o.indexOf(le.UPC_E)>-1&&a.push(new yn)),this.readers=a}decodeRow(i,o,a){for(let l of this.readers)try{const u=l.decodeRow(i,o,a),d=u.getBarcodeFormat()===le.EAN_13&&"0"===u.getText().charAt(0),h=null==a?null:a.get(rt.POSSIBLE_FORMATS),p=null==h||h.includes(le.UPC_A);if(d&&p){const _=u.getRawBytes(),w=new Bt(u.getText().substring(1),_,_?_.length:null,u.getResultPoints(),le.UPC_A);return w.putAllMetadata(u.getResultMetadata()),w}return u}catch{}throw new V}reset(){for(let i of this.readers)i.reset()}}let wr=(()=>{class y extends It{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,a){for(let l=0;l<a.length;l++)if(It.patternMatchVariance(o,a[l],y.MAX_INDIVIDUAL_VARIANCE)<y.MAX_AVG_VARIANCE)return l;throw new V}static count(o){return Ve.sum(new Int32Array(o))}static increment(o,a){let l=0,u=a[0];for(let d=1;d<o.length;d++)a[d]>u&&(u=a[d],l=d);o[l]++}static decrement(o,a){let l=0,u=a[0];for(let d=1;d<o.length;d++)a[d]<u&&(u=a[d],l=d);o[l]--}static isFinderPattern(o){let a=o[0]+o[1],u=a/(a+o[2]+o[3]);if(u>=y.MIN_FINDER_PATTERN_RATIO&&u<=y.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let p of o)p>h&&(h=p),p<d&&(d=p);return h<10*d}return!1}}return y.MAX_AVG_VARIANCE=.2,y.MAX_INDIVIDUAL_VARIANCE=.45,y.MIN_FINDER_PATTERN_RATIO=9.5/12,y.MAX_FINDER_PATTERN_RATIO=12.5/14,y})();class Er{constructor(i,o){this.value=i,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){return i instanceof Er&&this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class hi{constructor(i,o,a,l,u){this.value=i,this.startEnd=o,this.value=i,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new oe(a,u)),this.resultPoints.push(new oe(l,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){return i instanceof hi&&this.value===i.value}hashCode(){return this.value}}class Dn{constructor(){}static getRSSvalue(i,o,a){let l=0;for(let p of i)l+=p;let u=0,d=0,h=i.length;for(let p=0;p<h-1;p++){let _;for(_=1,d|=1<<p;_<i[p];_++,d&=~(1<<p)){let w=Dn.combins(l-_-1,h-p-2);if(a&&0===d&&l-_-(h-p-1)>=h-p-1&&(w-=Dn.combins(l-_-(h-p),h-p-2)),h-p-1>1){let C=0;for(let b=l-_-(h-p-2);b>o;b--)C+=Dn.combins(l-_-b-1,h-p-3);w-=C*(h-1-p)}else l-_>o&&w--;u+=w}l-=_}return u}static combins(i,o){let a,l;i-o>o?(l=o,a=i-o):(l=i-o,a=o);let u=1,d=1;for(let h=i;h>a;h--)u*=h,d<=l&&(u/=d,d++);for(;d<=l;)u/=d,d++;return u}}class ln{constructor(i,o){o?this.decodedInformation=null:(this.finished=i,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Oo{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}let In=(()=>{class y extends Oo{constructor(o,a){super(o),this.value=a}getValue(){return this.value}isFNC1(){return this.value===y.FNC1}}return y.FNC1="$",y})();class Cr extends Oo{constructor(i,o,a){super(i),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}let zr=(()=>{class y extends Oo{constructor(o,a,l){if(super(o),a<0||a>10||l<0||l>10)throw new Q;this.firstDigit=a,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return 10*this.firstDigit+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===y.FNC1}isSecondDigitFNC1(){return this.secondDigit===y.FNC1}isAnyFNC1(){return this.firstDigit===y.FNC1||this.secondDigit===y.FNC1}}return y.FNC1=10,y})();class te{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new V;let o=i.substring(0,2);for(let u of te.TWO_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===te.VARIABLE_LENGTH?te.processVariableAI(2,u[2],i):te.processFixedAI(2,u[1],i);if(i.length<3)throw new V;let a=i.substring(0,3);for(let u of te.THREE_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===te.VARIABLE_LENGTH?te.processVariableAI(3,u[2],i):te.processFixedAI(3,u[1],i);for(let u of te.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===te.VARIABLE_LENGTH?te.processVariableAI(4,u[2],i):te.processFixedAI(4,u[1],i);if(i.length<4)throw new V;let l=i.substring(0,4);for(let u of te.FOUR_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===te.VARIABLE_LENGTH?te.processVariableAI(4,u[2],i):te.processFixedAI(4,u[1],i);throw new V}static processFixedAI(i,o,a){if(a.length<i)throw new V;let l=a.substring(0,i);if(a.length<i+o)throw new V;let u=a.substring(i,i+o),d=a.substring(i+o),h="("+l+")"+u,p=te.parseFieldsInGeneralPurpose(d);return null==p?h:h+p}static processVariableAI(i,o,a){let u,l=a.substring(0,i);u=a.length<i+o?a.length:i+o;let d=a.substring(i,u),h=a.substring(u),p="("+l+")"+d,_=te.parseFieldsInGeneralPurpose(h);return null==_?p:p+_}}te.VARIABLE_LENGTH=[],te.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",te.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",te.VARIABLE_LENGTH,20],["22",te.VARIABLE_LENGTH,29],["30",te.VARIABLE_LENGTH,8],["37",te.VARIABLE_LENGTH,8],["90",te.VARIABLE_LENGTH,30],["91",te.VARIABLE_LENGTH,30],["92",te.VARIABLE_LENGTH,30],["93",te.VARIABLE_LENGTH,30],["94",te.VARIABLE_LENGTH,30],["95",te.VARIABLE_LENGTH,30],["96",te.VARIABLE_LENGTH,30],["97",te.VARIABLE_LENGTH,3],["98",te.VARIABLE_LENGTH,30],["99",te.VARIABLE_LENGTH,30]],te.THREE_DIGIT_DATA_LENGTH=[["240",te.VARIABLE_LENGTH,30],["241",te.VARIABLE_LENGTH,30],["242",te.VARIABLE_LENGTH,6],["250",te.VARIABLE_LENGTH,30],["251",te.VARIABLE_LENGTH,30],["253",te.VARIABLE_LENGTH,17],["254",te.VARIABLE_LENGTH,20],["400",te.VARIABLE_LENGTH,30],["401",te.VARIABLE_LENGTH,30],["402",17],["403",te.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",te.VARIABLE_LENGTH,20],["421",te.VARIABLE_LENGTH,15],["422",3],["423",te.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],te.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",te.VARIABLE_LENGTH,15],["391",te.VARIABLE_LENGTH,18],["392",te.VARIABLE_LENGTH,15],["393",te.VARIABLE_LENGTH,18],["703",te.VARIABLE_LENGTH,30]],te.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",te.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",te.VARIABLE_LENGTH,20],["8003",te.VARIABLE_LENGTH,30],["8004",te.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",te.VARIABLE_LENGTH,30],["8008",te.VARIABLE_LENGTH,12],["8018",18],["8020",te.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",te.VARIABLE_LENGTH,70],["8200",te.VARIABLE_LENGTH,70]];class Wr{constructor(i){this.buffer=new ze,this.information=i}decodeAllCodes(i,o){let a=o,l=null;for(;;){let u=this.decodeGeneralPurposeField(a,l),d=te.parseFieldsInGeneralPurpose(u.getNewString());if(null!=d&&i.append(d),l=u.isRemaining()?""+u.getRemainingValue():null,a===u.getNewPosition())break;a=u.getNewPosition()}return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let o=i;o<i+3;++o)if(this.information.get(o))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(i,4);return new zr(this.information.getSize(),0===u?zr.FNC1:u-1,zr.FNC1)}let o=this.extractNumericValueFromBitArray(i,7);return new zr(i+7,(o-8)/11,(o-8)%11)}extractNumericValueFromBitArray(i,o){return Wr.extractNumericValueFromBitArray(this.information,i,o)}static extractNumericValueFromBitArray(i,o,a){let l=0;for(let u=0;u<a;++u)i.get(o+u)&&(l|=1<<a-u-1);return l}decodeGeneralPurposeField(i,o){this.buffer.setLengthToZero(),null!=o&&this.buffer.append(o),this.current.setPosition(i);let a=this.parseBlocks();return null!=a&&a.isRemaining()?new Cr(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new Cr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,o;do{let a=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),i=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),i=o.isFinished()):(o=this.parseNumericBlock(),i=o.isFinished()),a===this.current.getPosition()&&!i)break}while(!i);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let o;return o=i.isSecondDigitFNC1()?new Cr(this.current.getPosition(),this.buffer.toString()):new Cr(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new ln(!0,o)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let o=new Cr(this.current.getPosition(),this.buffer.toString());return new ln(!0,o)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ln(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new Cr(this.current.getPosition(),this.buffer.toString());return new ln(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ln(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new Cr(this.current.getPosition(),this.buffer.toString());return new ln(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ln(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,7);if(a>=64&&a<116)return!0;if(i+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,8);return l>=232&&l<253}decodeIsoIec646(i){let o=this.extractNumericValueFromBitArray(i,5);if(15===o)return new In(i+5,In.FNC1);if(o>=5&&o<15)return new In(i+5,"0"+(o-5));let u,a=this.extractNumericValueFromBitArray(i,7);if(a>=64&&a<90)return new In(i+7,""+(a+1));if(a>=90&&a<116)return new In(i+7,""+(a+7));switch(this.extractNumericValueFromBitArray(i,8)){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new Q}return new In(i+8,u)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,6);return a>=16&&a<63}decodeAlphanumeric(i){let o=this.extractNumericValueFromBitArray(i,5);if(15===o)return new In(i+5,In.FNC1);if(o>=5&&o<15)return new In(i+5,"0"+(o-5));let l,a=this.extractNumericValueFromBitArray(i,6);if(a>=32&&a<58)return new In(i+6,""+(a+33));switch(a){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new rr("Decoding invalid alphanumeric value: "+a)}return new In(i+6,l)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<5&&o+i<this.information.getSize();++o)if(2===o){if(!this.information.get(i+2))return!1}else if(this.information.get(i+o))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let o=i;o<i+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<4&&o+i<this.information.getSize();++o)if(this.information.get(i+o))return!1;return!0}}class Ro{constructor(i){this.information=i,this.generalDecoder=new Wr(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}let Mt=(()=>{class y extends Ro{constructor(o){super(o)}encodeCompressedGtin(o,a){o.append("(01)");let l=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,a,l)}encodeCompressedGtinWithoutAI(o,a,l){for(let u=0;u<4;++u){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*u,10);d/100==0&&o.append("0"),d/10==0&&o.append("0"),o.append(d)}y.appendCheckDigit(o,l)}static appendCheckDigit(o,a){let l=0;for(let u=0;u<13;u++){let d=o.charAt(u+a).charCodeAt(0)-"0".charCodeAt(0);l+=0==(1&u)?3*d:d}l=10-l%10,10===l&&(l=0),o.append(l)}}return y.GTIN_SIZE=40,y})(),Ic=(()=>{class y extends Mt{constructor(o){super(o)}parseInformation(){let o=new ze;o.append("(01)");let a=o.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(y.HEADER_SIZE,4);return o.append(l),this.encodeCompressedGtinWithoutAI(o,y.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(o,y.HEADER_SIZE+44)}}return y.HEADER_SIZE=4,y})(),Ws=(()=>{class y extends Ro{constructor(o){super(o)}parseInformation(){let o=new ze;return this.getGeneralDecoder().decodeAllCodes(o,y.HEADER_SIZE)}}return y.HEADER_SIZE=5,y})();class Fi extends Mt{constructor(i){super(i)}encodeCompressedWeight(i,o,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(o,a);this.addWeightCode(i,l);let u=this.checkWeight(l),d=1e5;for(let h=0;h<5;++h)u/d==0&&i.append("0"),d/=10;i.append(u)}}let Lo=(()=>{class y extends Fi{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=y.HEADER_SIZE+Fi.GTIN_SIZE+y.WEIGHT_SIZE)throw new V;let o=new ze;return this.encodeCompressedGtin(o,y.HEADER_SIZE),this.encodeCompressedWeight(o,y.HEADER_SIZE+Fi.GTIN_SIZE,y.WEIGHT_SIZE),o.toString()}}return y.HEADER_SIZE=5,y.WEIGHT_SIZE=15,y})();class Yd extends Lo{constructor(i){super(i)}addWeightCode(i,o){i.append("(3103)")}checkWeight(i){return i}}class Sc extends Lo{constructor(i){super(i)}addWeightCode(i,o){i.append(o<1e4?"(3202)":"(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}let vc=(()=>{class y extends Mt{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<y.HEADER_SIZE+Mt.GTIN_SIZE)throw new V;let o=new ze;this.encodeCompressedGtin(o,y.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(y.HEADER_SIZE+Mt.GTIN_SIZE,y.LAST_DIGIT_SIZE);o.append("(392"),o.append(a),o.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(y.HEADER_SIZE+Mt.GTIN_SIZE+y.LAST_DIGIT_SIZE,null);return o.append(l.getNewString()),o.toString()}}return y.HEADER_SIZE=8,y.LAST_DIGIT_SIZE=2,y})(),Po=(()=>{class y extends Mt{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<y.HEADER_SIZE+Mt.GTIN_SIZE)throw new V;let o=new ze;this.encodeCompressedGtin(o,y.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(y.HEADER_SIZE+Mt.GTIN_SIZE,y.LAST_DIGIT_SIZE);o.append("(393"),o.append(a),o.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(y.HEADER_SIZE+Mt.GTIN_SIZE+y.LAST_DIGIT_SIZE,y.FIRST_THREE_DIGITS_SIZE);l/100==0&&o.append("0"),l/10==0&&o.append("0"),o.append(l);let u=this.getGeneralDecoder().decodeGeneralPurposeField(y.HEADER_SIZE+Mt.GTIN_SIZE+y.LAST_DIGIT_SIZE+y.FIRST_THREE_DIGITS_SIZE,null);return o.append(u.getNewString()),o.toString()}}return y.HEADER_SIZE=8,y.LAST_DIGIT_SIZE=2,y.FIRST_THREE_DIGITS_SIZE=10,y})(),Ar=(()=>{class y extends Fi{constructor(o,a,l){super(o),this.dateCode=l,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=y.HEADER_SIZE+y.GTIN_SIZE+y.WEIGHT_SIZE+y.DATE_SIZE)throw new V;let o=new ze;return this.encodeCompressedGtin(o,y.HEADER_SIZE),this.encodeCompressedWeight(o,y.HEADER_SIZE+y.GTIN_SIZE,y.WEIGHT_SIZE),this.encodeCompressedDate(o,y.HEADER_SIZE+y.GTIN_SIZE+y.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(a,y.DATE_SIZE);if(38400==l)return;o.append("("),o.append(this.dateCode),o.append(")");let u=l%32;l/=32;let d=l%12+1;l/=12;let h=l;h/10==0&&o.append("0"),o.append(h),d/10==0&&o.append("0"),o.append(d),u/10==0&&o.append("0"),o.append(u)}addWeightCode(o,a){o.append("("),o.append(this.firstAIdigits),o.append(a/1e5),o.append(")")}checkWeight(o){return o%1e5}}return y.HEADER_SIZE=8,y.WEIGHT_SIZE=20,y.DATE_SIZE=16,y})();function Ys(y){try{if(y.get(1))return new Ic(y);if(!y.get(2))return new Ws(y);switch(Wr.extractNumericValueFromBitArray(y,1,4)){case 4:return new Yd(y);case 5:return new Sc(y)}switch(Wr.extractNumericValueFromBitArray(y,1,5)){case 12:return new vc(y);case 13:return new Po(y)}switch(Wr.extractNumericValueFromBitArray(y,1,7)){case 56:return new Ar(y,"310","11");case 57:return new Ar(y,"320","11");case 58:return new Ar(y,"310","13");case 59:return new Ar(y,"320","13");case 60:return new Ar(y,"310","15");case 61:return new Ar(y,"320","15");case 62:return new Ar(y,"310","17");case 63:return new Ar(y,"320","17")}}catch(i){throw console.log(i),new rr("unknown decoder: "+y)}}class ir{constructor(i,o,a,l){this.leftchar=i,this.rightchar=o,this.finderpattern=a,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return null==this.rightchar}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"}static equals(i,o){return i instanceof ir&&ir.equalsOrNull(i.leftchar,o.leftchar)&&ir.equalsOrNull(i.rightchar,o.rightchar)&&ir.equalsOrNull(i.finderpattern,o.finderpattern)}static equalsOrNull(i,o){return null===i?null===o:ir.equals(i,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Bi{constructor(i,o,a){this.pairs=i,this.rowNumber=o,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,o){return i instanceof Bi&&this.checkEqualitity(i,o)&&i.wasReversed===o.wasReversed}checkEqualitity(i,o){if(!i||!o)return;let a;return i.forEach((l,u)=>{o.forEach(d=>{l.getLeftChar().getValue()===d.getLeftChar().getValue()&&l.getRightChar().getValue()===d.getRightChar().getValue()&&l.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(a=!0)})}),a}}class j extends wr{constructor(i){super(...arguments),this.pairs=new Array(j.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=!0===i}decodeRow(i,o,a){this.pairs.length=0,this.startFromEven=!1;try{return j.constructResult(this.decodeRow2pairs(i,o))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,j.constructResult(this.decodeRow2pairs(i,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,o){let l,a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,i))}catch(u){if(u instanceof V){if(!this.pairs.length)throw new V;a=!0}}if(this.checkChecksum())return this.pairs;if(l=!!this.rows.length,this.storeRow(i,!1),l){let u=this.checkRowsBoolean(!1);if(null!=u||(u=this.checkRowsBoolean(!0),null!=u))return u}throw new V}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return i&&(this.rows=this.rows.reverse()),o}checkRows(i,o){for(let a=o;a<this.rows.length;a++){let l=this.rows[a];this.pairs.length=0;for(let d of i)this.pairs.push(d.getPairs());if(this.pairs.push(l.getPairs()),!j.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(i);u.push(l);try{return this.checkRows(u,a+1)}catch(d){this.verbose&&console.log(d)}}throw new V}static isValidSequence(i){for(let o of j.FINDER_PATTERN_SEQUENCES){if(i.length>o.length)continue;let a=!0;for(let l=0;l<i.length;l++)if(i[l].getFinderPattern().getValue()!=o[l]){a=!1;break}if(a)return!0}return!1}storeRow(i,o){let a=0,l=!1,u=!1;for(;a<this.rows.length;){let d=this.rows[a];if(d.getRowNumber()>i){u=d.isEquivalent(this.pairs);break}l=d.isEquivalent(this.pairs),a++}u||l||j.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Bi(this.pairs,i,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,o){for(let a of o)if(a.getPairs().length!==i.length)for(let l of a.getPairs())for(let u of i)if(ir.equals(l,u))break}static isPartialRow(i,o){for(let a of o){let l=!0;for(let u of i){let d=!1;for(let h of a.getPairs())if(u.equals(h)){d=!0;break}if(!d){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(i){let l=Ys(class zs{static buildBitArray(i){let o=2*i.length-1;null==i[i.length-1].getRightChar()&&(o-=1);let l=new $e(12*o),u=0,h=i[0].getRightChar().getValue();for(let p=11;p>=0;--p)0!=(h&1<<p)&&l.set(u),u++;for(let p=1;p<i.length;++p){let _=i[p],w=_.getLeftChar().getValue();for(let C=11;C>=0;--C)0!=(w&1<<C)&&l.set(u),u++;if(null!=_.getRightChar()){let C=_.getRightChar().getValue();for(let b=11;b>=0;--b)0!=(C&1<<b)&&l.set(u),u++}}return l}}.buildBitArray(i)).parseInformation(),u=i[0].getFinderPattern().getResultPoints(),d=i[i.length-1].getFinderPattern().getResultPoints();return new Bt(l,null,null,[u[0],u[1],d[0],d[1]],le.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),o=i.getLeftChar(),a=i.getRightChar();if(null==a)return!1;let l=a.getChecksumPortion(),u=2;for(let h=1;h<this.pairs.size();++h){let p=this.pairs.get(h);l+=p.getLeftChar().getChecksumPortion(),u++;let _=p.getRightChar();null!=_&&(l+=_.getChecksumPortion(),u++)}return l%=211,211*(u-4)+l==o.getValue()}static getNextSecondBar(i,o){let a;return i.get(o)?(a=i.getNextUnset(o),a=i.getNextSet(a)):(a=i.getNextSet(o),a=i.getNextUnset(a)),a}retrieveNextPair(i,o,a){let l=o.length%2==0;this.startFromEven&&(l=!l);let u,d=!0,h=-1;do{this.findNextPair(i,o,h),u=this.parseFoundFinderPattern(i,a,l),null==u?h=j.getNextSecondBar(i,this.startEnd[0]):d=!1}while(d);let _,p=this.decodeDataCharacter(i,u,l,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new V;try{_=this.decodeDataCharacter(i,u,l,!1)}catch(w){_=null,this.verbose&&console.log(w)}return new ir(p,_,u,!0)}isEmptyPair(i){return 0===i.length}findNextPair(i,o,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let d,u=i.getSize();d=a>=0?a:this.isEmptyPair(o)?0:o[o.length-1].getFinderPattern().getStartEnd()[1];let h=o.length%2!=0;this.startFromEven&&(h=!h);let p=!1;for(;d<u&&(p=!i.get(d),p);)d++;let _=0,w=d;for(let C=d;C<u;C++)if(i.get(C)!=p)l[_]++;else{if(3==_){if(h&&j.reverseCounters(l),j.isFinderPattern(l))return this.startEnd[0]=w,void(this.startEnd[1]=C);h&&j.reverseCounters(l),w+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,_--}else _++;l[_]=1,p=!p}throw new V}static reverseCounters(i){let o=i.length;for(let a=0;a<o/2;++a){let l=i[a];i[a]=i[o-a-1],i[o-a-1]=l}}parseFoundFinderPattern(i,o,a){let l,u,d;if(a){let _=this.startEnd[0]-1;for(;_>=0&&!i.get(_);)_--;_++,l=this.startEnd[0]-_,u=_,d=this.startEnd[1]}else u=this.startEnd[0],d=i.getNextUnset(this.startEnd[1]+1),l=d-this.startEnd[1];let p,h=this.getDecodeFinderCounters();qe.arraycopy(h,0,h,1,h.length-1),h[0]=l;try{p=this.parseFinderValue(h,j.FINDER_PATTERNS)}catch{return null}return new hi(p,[u,d],u,d,o)}decodeDataCharacter(i,o,a,l){let u=this.getDataCharacterCounters();for(let ot=0;ot<u.length;ot++)u[ot]=0;if(l)j.recordPatternInReverse(i,o.getStartEnd()[0],u);else{j.recordPattern(i,o.getStartEnd()[1],u);for(let ot=0,Xt=u.length-1;ot<Xt;ot++,Xt--){let En=u[ot];u[ot]=u[Xt],u[Xt]=En}}let h=Ve.sum(new Int32Array(u))/17,p=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(h-p)/p>.3)throw new V;let _=this.getOddCounts(),w=this.getEvenCounts(),C=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(let ot=0;ot<u.length;ot++){let Xt=1*u[ot]/h,En=Xt+.5;if(En<1){if(Xt<.3)throw new V;En=1}else if(En>8){if(Xt>8.7)throw new V;En=8}let _i=ot/2;0==(1&ot)?(_[_i]=En,C[_i]=Xt-En):(w[_i]=En,b[_i]=Xt-En)}this.adjustOddEvenCounts(17);let I=4*o.getValue()+(a?0:2)+(l?0:1)-1,v=0,M=0;for(let ot=_.length-1;ot>=0;ot--)j.isNotA1left(o,a,l)&&(M+=_[ot]*j.WEIGHTS[I][2*ot]),v+=_[ot];let N=0;for(let ot=w.length-1;ot>=0;ot--)j.isNotA1left(o,a,l)&&(N+=w[ot]*j.WEIGHTS[I][2*ot+1]);let L=M+N;if(0!=(1&v)||v>13||v<4)throw new V;let W=(13-v)/2,Z=j.SYMBOL_WIDEST[W],B=9-Z,Me=Dn.getRSSvalue(_,Z,!0),be=Dn.getRSSvalue(w,B,!1);return new Er(Me*j.EVEN_TOTAL_SUBSET[W]+be+j.GSUM[W],L)}static isNotA1left(i,o,a){return!(0==i.getValue()&&o&&a)}adjustOddEvenCounts(i){let o=Ve.sum(new Int32Array(this.getOddCounts())),a=Ve.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1;o>13?u=!0:o<4&&(l=!0);let d=!1,h=!1;a>13?h=!0:a<4&&(d=!0);let p=o+a-i,_=1==(1&o),w=0==(1&a);if(1==p)if(_){if(w)throw new V;u=!0}else{if(!w)throw new V;h=!0}else if(-1==p)if(_){if(w)throw new V;l=!0}else{if(!w)throw new V;d=!0}else{if(0!=p)throw new V;if(_){if(!w)throw new V;o<a?(l=!0,h=!0):(u=!0,d=!0)}else if(w)throw new V}if(l){if(u)throw new V;j.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&j.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(h)throw new V;j.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&j.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}j.SYMBOL_WIDEST=[7,5,4,3,1],j.EVEN_TOTAL_SUBSET=[4,20,52,104,204],j.GSUM=[0,348,1388,2948,3988],j.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],j.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],j.FINDER_PAT_A=0,j.FINDER_PAT_B=1,j.FINDER_PAT_C=2,j.FINDER_PAT_D=3,j.FINDER_PAT_E=4,j.FINDER_PAT_F=5,j.FINDER_PATTERN_SEQUENCES=[[j.FINDER_PAT_A,j.FINDER_PAT_A],[j.FINDER_PAT_A,j.FINDER_PAT_B,j.FINDER_PAT_B],[j.FINDER_PAT_A,j.FINDER_PAT_C,j.FINDER_PAT_B,j.FINDER_PAT_D],[j.FINDER_PAT_A,j.FINDER_PAT_E,j.FINDER_PAT_B,j.FINDER_PAT_D,j.FINDER_PAT_C],[j.FINDER_PAT_A,j.FINDER_PAT_E,j.FINDER_PAT_B,j.FINDER_PAT_D,j.FINDER_PAT_D,j.FINDER_PAT_F],[j.FINDER_PAT_A,j.FINDER_PAT_E,j.FINDER_PAT_B,j.FINDER_PAT_D,j.FINDER_PAT_E,j.FINDER_PAT_F,j.FINDER_PAT_F],[j.FINDER_PAT_A,j.FINDER_PAT_A,j.FINDER_PAT_B,j.FINDER_PAT_B,j.FINDER_PAT_C,j.FINDER_PAT_C,j.FINDER_PAT_D,j.FINDER_PAT_D],[j.FINDER_PAT_A,j.FINDER_PAT_A,j.FINDER_PAT_B,j.FINDER_PAT_B,j.FINDER_PAT_C,j.FINDER_PAT_C,j.FINDER_PAT_D,j.FINDER_PAT_E,j.FINDER_PAT_E],[j.FINDER_PAT_A,j.FINDER_PAT_A,j.FINDER_PAT_B,j.FINDER_PAT_B,j.FINDER_PAT_C,j.FINDER_PAT_C,j.FINDER_PAT_D,j.FINDER_PAT_E,j.FINDER_PAT_F,j.FINDER_PAT_F],[j.FINDER_PAT_A,j.FINDER_PAT_A,j.FINDER_PAT_B,j.FINDER_PAT_B,j.FINDER_PAT_C,j.FINDER_PAT_D,j.FINDER_PAT_D,j.FINDER_PAT_E,j.FINDER_PAT_E,j.FINDER_PAT_F,j.FINDER_PAT_F]],j.MAX_PAIRS=11;class Tc extends Er{constructor(i,o,a){super(i,o),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ft extends wr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,o,a){const l=this.decodePair(o,!1,i,a);ft.addOrTally(this.possibleLeftPairs,l),o.reverse();let u=this.decodePair(o,!0,i,a);ft.addOrTally(this.possibleRightPairs,u),o.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1)for(let h of this.possibleRightPairs)if(h.getCount()>1&&ft.checkChecksum(d,h))return ft.constructResult(d,h);throw new V}static addOrTally(i,o){if(null==o)return;let a=!1;for(let l of i)if(l.getValue()===o.getValue()){l.incrementCount(),a=!0;break}a||i.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,o){let a=4537077*i.getValue()+o.getValue(),l=new String(a).toString(),u=new ze;for(let _=13-l.length;_>0;_--)u.append("0");u.append(l);let d=0;for(let _=0;_<13;_++){let w=u.charAt(_).charCodeAt(0)-"0".charCodeAt(0);d+=0==(1&_)?3*w:w}d=10-d%10,10===d&&(d=0),u.append(d.toString());let h=i.getFinderPattern().getResultPoints(),p=o.getFinderPattern().getResultPoints();return new Bt(u.toString(),null,0,[h[0],h[1],p[0],p[1]],le.RSS_14,(new Date).getTime())}static checkChecksum(i,o){let a=(i.getChecksumPortion()+16*o.getChecksumPortion())%79,l=9*i.getFinderPattern().getValue()+o.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,a===l}decodePair(i,o,a,l){try{let u=this.findFinderPattern(i,o),d=this.parseFoundFinderPattern(i,a,o,u),h=null==l?null:l.get(rt.NEED_RESULT_POINT_CALLBACK);if(null!=h){let w=(u[0]+u[1])/2;o&&(w=i.getSize()-1-w),h.foundPossibleResultPoint(new oe(w,a))}let p=this.decodeDataCharacter(i,d,!0),_=this.decodeDataCharacter(i,d,!1);return new Tc(1597*p.getValue()+_.getValue(),p.getChecksumPortion()+4*_.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(i,o,a){let l=this.getDataCharacterCounters();for(let N=0;N<l.length;N++)l[N]=0;if(a)It.recordPatternInReverse(i,o.getStartEnd()[0],l);else{It.recordPattern(i,o.getStartEnd()[1]+1,l);for(let N=0,L=l.length-1;N<L;N++,L--){let W=l[N];l[N]=l[L],l[L]=W}}let u=a?16:15,d=Ve.sum(new Int32Array(l))/u,h=this.getOddCounts(),p=this.getEvenCounts(),_=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors();for(let N=0;N<l.length;N++){let L=l[N]/d,W=Math.floor(L+.5);W<1?W=1:W>8&&(W=8);let Z=Math.floor(N/2);0==(1&N)?(h[Z]=W,_[Z]=L-W):(p[Z]=W,w[Z]=L-W)}this.adjustOddEvenCounts(a,u);let C=0,b=0;for(let N=h.length-1;N>=0;N--)b*=9,b+=h[N],C+=h[N];let I=0,v=0;for(let N=p.length-1;N>=0;N--)I*=9,I+=p[N],v+=p[N];let M=b+3*I;if(a){if(0!=(1&C)||C>12||C<4)throw new V;let N=(12-C)/2,L=ft.OUTSIDE_ODD_WIDEST[N],W=9-L,Z=Dn.getRSSvalue(h,L,!1),B=Dn.getRSSvalue(p,W,!0);return new Er(Z*ft.OUTSIDE_EVEN_TOTAL_SUBSET[N]+B+ft.OUTSIDE_GSUM[N],M)}{if(0!=(1&v)||v>10||v<4)throw new V;let N=(10-v)/2,L=ft.INSIDE_ODD_WIDEST[N],W=9-L,Z=Dn.getRSSvalue(h,L,!0),B=Dn.getRSSvalue(p,W,!1);return new Er(B*ft.INSIDE_ODD_TOTAL_SUBSET[N]+Z+ft.INSIDE_GSUM[N],M)}}findFinderPattern(i,o){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=i.getSize(),u=!1,d=0;for(;d<l&&(u=!i.get(d),o!==u);)d++;let h=0,p=d;for(let _=d;_<l;_++)if(i.get(_)!==u)a[h]++;else{if(3===h){if(wr.isFinderPattern(a))return[p,_];p+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,h--}else h++;a[h]=1,u=!u}throw new V}parseFoundFinderPattern(i,o,a,l){let u=i.get(l[0]),d=l[0]-1;for(;d>=0&&u!==i.get(d);)d--;d++;const h=l[0]-d,p=this.getDecodeFinderCounters(),_=new Int32Array(p.length);qe.arraycopy(p,0,_,1,p.length-1),_[0]=h;const w=this.parseFinderValue(_,ft.FINDER_PATTERNS);let C=d,b=l[1];return a&&(C=i.getSize()-1-C,b=i.getSize()-1-b),new hi(w,[d,l[1]],C,b,o)}adjustOddEvenCounts(i,o){let a=Ve.sum(new Int32Array(this.getOddCounts())),l=Ve.sum(new Int32Array(this.getEvenCounts())),u=!1,d=!1,h=!1,p=!1;i?(a>12?d=!0:a<4&&(u=!0),l>12?p=!0:l<4&&(h=!0)):(a>11?d=!0:a<5&&(u=!0),l>10?p=!0:l<4&&(h=!0));let _=a+l-o,w=(1&a)==(i?1:0),C=1==(1&l);if(1===_)if(w){if(C)throw new V;d=!0}else{if(!C)throw new V;p=!0}else if(-1===_)if(w){if(C)throw new V;u=!0}else{if(!C)throw new V;h=!0}else{if(0!==_)throw new V;if(w){if(!C)throw new V;a<l?(u=!0,p=!0):(d=!0,h=!0)}else if(C)throw new V}if(u){if(d)throw new V;wr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&wr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(p)throw new V;wr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&wr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ft.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ft.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ft.OUTSIDE_GSUM=[0,161,961,2015,2715],ft.INSIDE_GSUM=[0,336,1036,1516],ft.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ft.INSIDE_ODD_WIDEST=[2,4,6,8],ft.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Yr extends It{constructor(i,o){super(),this.readers=[],this.verbose=!0===o;const a=i?i.get(rt.POSSIBLE_FORMATS):null,l=i&&void 0!==i.get(rt.ASSUME_CODE_39_CHECK_DIGIT);a?((a.includes(le.EAN_13)||a.includes(le.UPC_A)||a.includes(le.EAN_8)||a.includes(le.UPC_E))&&this.readers.push(new Pi(i)),a.includes(le.CODE_39)&&this.readers.push(new Hs(l)),a.includes(le.CODE_128)&&this.readers.push(new X),a.includes(le.ITF)&&this.readers.push(new Ke),a.includes(le.RSS_14)&&this.readers.push(new ft),a.includes(le.RSS_EXPANDED)&&this.readers.push(new j(this.verbose))):(this.readers.push(new Pi(i)),this.readers.push(new Hs),this.readers.push(new Pi(i)),this.readers.push(new X),this.readers.push(new Ke),this.readers.push(new ft),this.readers.push(new j(this.verbose)))}decodeRow(i,o,a){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(i,o,a)}catch{}throw new V}reset(){this.readers.forEach(i=>i.reset())}}class je{constructor(i,o,a){this.ecCodewords=i,this.ecBlocks=[o],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class He{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Oe{constructor(i,o,a,l,u,d){this.versionNumber=i,this.symbolSizeRows=o,this.symbolSizeColumns=a,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=u,this.ecBlocks=d;let h=0;const p=d.getECCodewords(),_=d.getECBlocks();for(let w of _)h+=w.getCount()*(w.getDataCodewords()+p);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,o){if(0!=(1&i)||0!=(1&o))throw new Q;for(let a of Oe.VERSIONS)if(a.symbolSizeRows===i&&a.symbolSizeColumns===o)return a;throw new Q}toString(){return""+this.versionNumber}static buildVersions(){return[new Oe(1,10,10,8,8,new je(5,new He(1,3))),new Oe(2,12,12,10,10,new je(7,new He(1,5))),new Oe(3,14,14,12,12,new je(10,new He(1,8))),new Oe(4,16,16,14,14,new je(12,new He(1,12))),new Oe(5,18,18,16,16,new je(14,new He(1,18))),new Oe(6,20,20,18,18,new je(18,new He(1,22))),new Oe(7,22,22,20,20,new je(20,new He(1,30))),new Oe(8,24,24,22,22,new je(24,new He(1,36))),new Oe(9,26,26,24,24,new je(28,new He(1,44))),new Oe(10,32,32,14,14,new je(36,new He(1,62))),new Oe(11,36,36,16,16,new je(42,new He(1,86))),new Oe(12,40,40,18,18,new je(48,new He(1,114))),new Oe(13,44,44,20,20,new je(56,new He(1,144))),new Oe(14,48,48,22,22,new je(68,new He(1,174))),new Oe(15,52,52,24,24,new je(42,new He(2,102))),new Oe(16,64,64,14,14,new je(56,new He(2,140))),new Oe(17,72,72,16,16,new je(36,new He(4,92))),new Oe(18,80,80,18,18,new je(48,new He(4,114))),new Oe(19,88,88,20,20,new je(56,new He(4,144))),new Oe(20,96,96,22,22,new je(68,new He(4,174))),new Oe(21,104,104,24,24,new je(56,new He(6,136))),new Oe(22,120,120,18,18,new je(68,new He(6,175))),new Oe(23,132,132,20,20,new je(62,new He(8,163))),new Oe(24,144,144,22,22,new je(62,new He(8,156),new He(2,155))),new Oe(25,8,18,6,16,new je(7,new He(1,5))),new Oe(26,8,32,6,14,new je(11,new He(1,10))),new Oe(27,12,26,10,24,new je(14,new He(1,16))),new Oe(28,12,36,10,16,new je(18,new He(1,22))),new Oe(29,16,36,14,16,new je(24,new He(1,32))),new Oe(30,16,48,14,22,new je(28,new He(1,49)))]}}Oe.VERSIONS=Oe.buildVersions();class Fo{constructor(i){const o=i.getHeight();if(o<8||o>144||0!=(1&o))throw new Q;this.version=Fo.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new Tt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const o=i.getHeight(),a=i.getWidth();return Oe.getVersionForDimensions(o,a)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let o=0,a=4,l=0;const u=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let h=!1,p=!1,_=!1,w=!1;do{if(a!==u||0!==l||h)if(a!==u-2||0!==l||0==(3&d)||p)if(a!==u+4||2!==l||0!=(7&d)||_)if(a!==u-2||0!==l||4!=(7&d)||w){do{a<u&&l>=0&&!this.readMappingMatrix.get(l,a)&&(i[o++]=255&this.readUtah(a,l,u,d)),a-=2,l+=2}while(a>=0&&l<d);a+=1,l+=3;do{a>=0&&l<d&&!this.readMappingMatrix.get(l,a)&&(i[o++]=255&this.readUtah(a,l,u,d)),a+=2,l-=2}while(a<u&&l>=0);a+=3,l+=1}else i[o++]=255&this.readCorner4(u,d),a-=2,l+=2,w=!0;else i[o++]=255&this.readCorner3(u,d),a-=2,l+=2,_=!0;else i[o++]=255&this.readCorner2(u,d),a-=2,l+=2,p=!0;else i[o++]=255&this.readCorner1(u,d),a-=2,l+=2,h=!0}while(a<u||l<d);if(o!==this.version.getTotalCodewords())throw new Q;return i}readModule(i,o,a,l){return i<0&&(i+=a,o+=4-(a+4&7)),o<0&&(o+=l,i+=4-(l+4&7)),this.readMappingMatrix.set(o,i),this.mappingBitMatrix.get(o,i)}readUtah(i,o,a,l){let u=0;return this.readModule(i-2,o-2,a,l)&&(u|=1),u<<=1,this.readModule(i-2,o-1,a,l)&&(u|=1),u<<=1,this.readModule(i-1,o-2,a,l)&&(u|=1),u<<=1,this.readModule(i-1,o-1,a,l)&&(u|=1),u<<=1,this.readModule(i-1,o,a,l)&&(u|=1),u<<=1,this.readModule(i,o-2,a,l)&&(u|=1),u<<=1,this.readModule(i,o-1,a,l)&&(u|=1),u<<=1,this.readModule(i,o,a,l)&&(u|=1),u}readCorner1(i,o){let a=0;return this.readModule(i-1,0,i,o)&&(a|=1),a<<=1,this.readModule(i-1,1,i,o)&&(a|=1),a<<=1,this.readModule(i-1,2,i,o)&&(a|=1),a<<=1,this.readModule(0,o-2,i,o)&&(a|=1),a<<=1,this.readModule(0,o-1,i,o)&&(a|=1),a<<=1,this.readModule(1,o-1,i,o)&&(a|=1),a<<=1,this.readModule(2,o-1,i,o)&&(a|=1),a<<=1,this.readModule(3,o-1,i,o)&&(a|=1),a}readCorner2(i,o){let a=0;return this.readModule(i-3,0,i,o)&&(a|=1),a<<=1,this.readModule(i-2,0,i,o)&&(a|=1),a<<=1,this.readModule(i-1,0,i,o)&&(a|=1),a<<=1,this.readModule(0,o-4,i,o)&&(a|=1),a<<=1,this.readModule(0,o-3,i,o)&&(a|=1),a<<=1,this.readModule(0,o-2,i,o)&&(a|=1),a<<=1,this.readModule(0,o-1,i,o)&&(a|=1),a<<=1,this.readModule(1,o-1,i,o)&&(a|=1),a}readCorner3(i,o){let a=0;return this.readModule(i-1,0,i,o)&&(a|=1),a<<=1,this.readModule(i-1,o-1,i,o)&&(a|=1),a<<=1,this.readModule(0,o-3,i,o)&&(a|=1),a<<=1,this.readModule(0,o-2,i,o)&&(a|=1),a<<=1,this.readModule(0,o-1,i,o)&&(a|=1),a<<=1,this.readModule(1,o-3,i,o)&&(a|=1),a<<=1,this.readModule(1,o-2,i,o)&&(a|=1),a<<=1,this.readModule(1,o-1,i,o)&&(a|=1),a}readCorner4(i,o){let a=0;return this.readModule(i-3,0,i,o)&&(a|=1),a<<=1,this.readModule(i-2,0,i,o)&&(a|=1),a<<=1,this.readModule(i-1,0,i,o)&&(a|=1),a<<=1,this.readModule(0,o-2,i,o)&&(a|=1),a<<=1,this.readModule(0,o-1,i,o)&&(a|=1),a<<=1,this.readModule(1,o-1,i,o)&&(a|=1),a<<=1,this.readModule(2,o-1,i,o)&&(a|=1),a<<=1,this.readModule(3,o-1,i,o)&&(a|=1),a}extractDataRegion(i){const o=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(i.getHeight()!==o)throw new ne("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),d=o/l|0,h=a/u|0,w=new Tt(h*u,d*l);for(let C=0;C<d;++C){const b=C*l;for(let I=0;I<h;++I){const v=I*u;for(let M=0;M<l;++M){const N=C*(l+2)+1+M,L=b+M;for(let W=0;W<u;++W)i.get(I*(u+2)+1+W,N)&&w.set(v+W,L)}}}return w}}class Bo{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o){const a=o.getECBlocks();let l=0;const u=a.getECBlocks();for(let M of u)l+=M.getCount();const d=new Array(l);let h=0;for(let M of u)for(let N=0;N<M.getCount();N++){const L=M.getDataCodewords(),W=a.getECCodewords()+L;d[h++]=new Bo(L,new Uint8Array(W))}const _=d[0].codewords.length-a.getECCodewords(),w=_-1;let C=0;for(let M=0;M<w;M++)for(let N=0;N<h;N++)d[N].codewords[M]=i[C++];const b=24===o.getVersionNumber(),I=b?8:h;for(let M=0;M<I;M++)d[M].codewords[_-1]=i[C++];const v=d[0].codewords.length;for(let M=_;M<v;M++)for(let N=0;N<h;N++){const L=b?(N+8)%h:N;d[L].codewords[b&&L>7?M-1:M]=i[C++]}if(C!==i.length)throw new ne;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ko{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new ne(""+i);let o=0,a=this.bitOffset,l=this.byteOffset;const u=this.bytes;if(a>0){const d=8-a,h=i<d?i:d,p=d-h;o=(u[l]&255>>8-h<<p)>>p,i-=h,a+=h,8===a&&(a=0,l++)}if(i>0){for(;i>=8;)o=o<<8|255&u[l],l++,i-=8;if(i>0){const d=8-i;o=o<<i|(u[l]&255>>d<<d)>>d,a+=i}}return this.bitOffset=a,this.byteOffset=l,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var ht=(()=>{return(y=ht||(ht={}))[y.PAD_ENCODE=0]="PAD_ENCODE",y[y.ASCII_ENCODE=1]="ASCII_ENCODE",y[y.C40_ENCODE=2]="C40_ENCODE",y[y.TEXT_ENCODE=3]="TEXT_ENCODE",y[y.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",y[y.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",y[y.BASE256_ENCODE=6]="BASE256_ENCODE",ht;var y})();class Pe{static decode(i){const o=new ko(i),a=new ze,l=new ze,u=new Array;let d=ht.ASCII_ENCODE;do{if(d===ht.ASCII_ENCODE)d=this.decodeAsciiSegment(o,a,l);else{switch(d){case ht.C40_ENCODE:this.decodeC40Segment(o,a);break;case ht.TEXT_ENCODE:this.decodeTextSegment(o,a);break;case ht.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,a);break;case ht.EDIFACT_ENCODE:this.decodeEdifactSegment(o,a);break;case ht.BASE256_ENCODE:this.decodeBase256Segment(o,a,u);break;default:throw new Q}d=ht.ASCII_ENCODE}}while(d!==ht.PAD_ENCODE&&o.available()>0);return l.length()>0&&a.append(l.toString()),new li(i,a.toString(),0===u.length?null:u,null)}static decodeAsciiSegment(i,o,a){let l=!1;do{let u=i.readBits(8);if(0===u)throw new Q;if(u<=128)return l&&(u+=128),o.append(String.fromCharCode(u-1)),ht.ASCII_ENCODE;if(129===u)return ht.PAD_ENCODE;if(u<=229){const d=u-130;d<10&&o.append("0"),o.append(""+d)}else switch(u){case 230:return ht.C40_ENCODE;case 231:return ht.BASE256_ENCODE;case 232:o.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:l=!0;break;case 236:o.append("[)>\x1e05\x1d"),a.insert(0,"\x1e\x04");break;case 237:o.append("[)>\x1e06\x1d"),a.insert(0,"\x1e\x04");break;case 238:return ht.ANSIX12_ENCODE;case 239:return ht.TEXT_ENCODE;case 240:return ht.EDIFACT_ENCODE;default:if(254!==u||0!==i.available())throw new Q}}while(i.available()>0);return ht.ASCII_ENCODE}static decodeC40Segment(i,o){let a=!1;const l=[];let u=0;do{if(8===i.available())return;const d=i.readBits(8);if(254===d)return;this.parseTwoBytes(d,i.readBits(8),l);for(let h=0;h<3;h++){const p=l[h];switch(u){case 0:if(p<3)u=p+1;else{if(!(p<this.C40_BASIC_SET_CHARS.length))throw new Q;{const _=this.C40_BASIC_SET_CHARS[p];a?(o.append(String.fromCharCode(_.charCodeAt(0)+128)),a=!1):o.append(_)}}break;case 1:a?(o.append(String.fromCharCode(p+128)),a=!1):o.append(String.fromCharCode(p)),u=0;break;case 2:if(p<this.C40_SHIFT2_SET_CHARS.length){const _=this.C40_SHIFT2_SET_CHARS[p];a?(o.append(String.fromCharCode(_.charCodeAt(0)+128)),a=!1):o.append(_)}else switch(p){case 27:o.append(String.fromCharCode(29));break;case 30:a=!0;break;default:throw new Q}u=0;break;case 3:a?(o.append(String.fromCharCode(p+224)),a=!1):o.append(String.fromCharCode(p+96)),u=0;break;default:throw new Q}}}while(i.available()>0)}static decodeTextSegment(i,o){let a=!1,l=[],u=0;do{if(8===i.available())return;const d=i.readBits(8);if(254===d)return;this.parseTwoBytes(d,i.readBits(8),l);for(let h=0;h<3;h++){const p=l[h];switch(u){case 0:if(p<3)u=p+1;else{if(!(p<this.TEXT_BASIC_SET_CHARS.length))throw new Q;{const _=this.TEXT_BASIC_SET_CHARS[p];a?(o.append(String.fromCharCode(_.charCodeAt(0)+128)),a=!1):o.append(_)}}break;case 1:a?(o.append(String.fromCharCode(p+128)),a=!1):o.append(String.fromCharCode(p)),u=0;break;case 2:if(p<this.TEXT_SHIFT2_SET_CHARS.length){const _=this.TEXT_SHIFT2_SET_CHARS[p];a?(o.append(String.fromCharCode(_.charCodeAt(0)+128)),a=!1):o.append(_)}else switch(p){case 27:o.append(String.fromCharCode(29));break;case 30:a=!0;break;default:throw new Q}u=0;break;case 3:if(!(p<this.TEXT_SHIFT3_SET_CHARS.length))throw new Q;{const _=this.TEXT_SHIFT3_SET_CHARS[p];a?(o.append(String.fromCharCode(_.charCodeAt(0)+128)),a=!1):o.append(_),u=0}break;default:throw new Q}}}while(i.available()>0)}static decodeAnsiX12Segment(i,o){const a=[];do{if(8===i.available())return;const l=i.readBits(8);if(254===l)return;this.parseTwoBytes(l,i.readBits(8),a);for(let u=0;u<3;u++){const d=a[u];switch(d){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(d<14)o.append(String.fromCharCode(d+44));else{if(!(d<40))throw new Q;o.append(String.fromCharCode(d+51))}}}}while(i.available()>0)}static parseTwoBytes(i,o,a){let l=(i<<8)+o-1,u=Math.floor(l/1600);a[0]=u,l-=1600*u,u=Math.floor(l/40),a[1]=u,a[2]=l-40*u}static decodeEdifactSegment(i,o){do{if(i.available()<=16)return;for(let a=0;a<4;a++){let l=i.readBits(6);if(31===l){const u=8-i.getBitOffset();return void(8!==u&&i.readBits(u))}0==(32&l)&&(l|=64),o.append(String.fromCharCode(l))}}while(i.available()>0)}static decodeBase256Segment(i,o,a){let l=1+i.getByteOffset();const u=this.unrandomize255State(i.readBits(8),l++);let d;if(d=0===u?i.available()/8|0:u<250?u:250*(u-249)+this.unrandomize255State(i.readBits(8),l++),d<0)throw new Q;const h=new Uint8Array(d);for(let p=0;p<d;p++){if(i.available()<8)throw new Q;h[p]=this.unrandomize255State(i.readBits(8),l++)}a.push(h);try{o.append(Ft.decode(h,_e.ISO88591))}catch(p){throw new rr("Platform does not support required encoding: "+p.message)}}static unrandomize255State(i,o){const l=i-(149*o%255+1);return l>=0?l:l+256}}Pe.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Pe.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Pe.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Pe.TEXT_SHIFT2_SET_CHARS=Pe.C40_SHIFT2_SET_CHARS,Pe.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class Vo{constructor(){this.rsDecoder=new Oi(ke.DATA_MATRIX_FIELD_256)}decode(i){const o=new Fo(i),a=o.getVersion(),l=o.readCodewords(),u=Bo.getDataBlocks(l,a);let d=0;for(let _ of u)d+=_.getNumDataCodewords();const h=new Uint8Array(d),p=u.length;for(let _=0;_<p;_++){const w=u[_],C=w.getCodewords(),b=w.getNumDataCodewords();this.correctErrors(C,b);for(let I=0;I<b;I++)h[I*p+_]=C[I]}return Pe.decode(h)}correctErrors(i,o){const a=new Int32Array(i);try{this.rsDecoder.decode(a,i.length-o)}catch{throw new bt}for(let l=0;l<o;l++)i[l]=a[l]}}class xe{constructor(i){this.image=i,this.rectangleDetector=new di(this.image)}detect(){const i=this.rectangleDetector.detect();let o=this.detectSolid1(i);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new V;o=this.shiftToModuleCenter(o);const a=o[0],l=o[1],u=o[2],d=o[3];let h=this.transitionsBetween(a,d)+1,p=this.transitionsBetween(u,d)+1;1==(1&h)&&(h+=1),1==(1&p)&&(p+=1),4*h<7*p&&4*p<7*h&&(h=p=Math.max(h,p));let _=xe.sampleGrid(this.image,a,l,u,d,h,p);return new Ri(_,[a,l,u,d])}static shiftPoint(i,o,a){let l=(o.getX()-i.getX())/(a+1),u=(o.getY()-i.getY())/(a+1);return new oe(i.getX()+l,i.getY()+u)}static moveAway(i,o,a){let l=i.getX(),u=i.getY();return l<o?l-=1:l+=1,u<a?u-=1:u+=1,new oe(l,u)}detectSolid1(i){let o=i[0],a=i[1],l=i[3],u=i[2],d=this.transitionsBetween(o,a),h=this.transitionsBetween(a,l),p=this.transitionsBetween(l,u),_=this.transitionsBetween(u,o),w=d,C=[u,o,a,l];return w>h&&(w=h,C[0]=o,C[1]=a,C[2]=l,C[3]=u),w>p&&(w=p,C[0]=a,C[1]=l,C[2]=u,C[3]=o),w>_&&(C[0]=l,C[1]=u,C[2]=o,C[3]=a),C}detectSolid2(i){let o=i[0],a=i[1],l=i[2],u=i[3],d=this.transitionsBetween(o,u),h=xe.shiftPoint(a,l,4*(d+1)),p=xe.shiftPoint(l,a,4*(d+1));return this.transitionsBetween(h,o)<this.transitionsBetween(p,u)?(i[0]=o,i[1]=a,i[2]=l,i[3]=u):(i[0]=a,i[1]=l,i[2]=u,i[3]=o),i}correctTopRight(i){let o=i[0],a=i[1],l=i[2],u=i[3],d=this.transitionsBetween(o,u),h=this.transitionsBetween(a,u),p=xe.shiftPoint(o,a,4*(h+1)),_=xe.shiftPoint(l,a,4*(d+1));d=this.transitionsBetween(p,u),h=this.transitionsBetween(_,u);let w=new oe(u.getX()+(l.getX()-a.getX())/(d+1),u.getY()+(l.getY()-a.getY())/(d+1)),C=new oe(u.getX()+(o.getX()-a.getX())/(h+1),u.getY()+(o.getY()-a.getY())/(h+1));return this.isValid(w)?this.isValid(C)?this.transitionsBetween(p,w)+this.transitionsBetween(_,w)>this.transitionsBetween(p,C)+this.transitionsBetween(_,C)?w:C:w:this.isValid(C)?C:null}shiftToModuleCenter(i){let o=i[0],a=i[1],l=i[2],u=i[3],d=this.transitionsBetween(o,u)+1,h=this.transitionsBetween(l,u)+1,p=xe.shiftPoint(o,a,4*h),_=xe.shiftPoint(l,a,4*d);d=this.transitionsBetween(p,u)+1,h=this.transitionsBetween(_,u)+1,1==(1&d)&&(d+=1),1==(1&h)&&(h+=1);let b,I,w=(o.getX()+a.getX()+l.getX()+u.getX())/4,C=(o.getY()+a.getY()+l.getY()+u.getY())/4;return o=xe.moveAway(o,w,C),a=xe.moveAway(a,w,C),l=xe.moveAway(l,w,C),u=xe.moveAway(u,w,C),p=xe.shiftPoint(o,a,4*h),p=xe.shiftPoint(p,u,4*d),b=xe.shiftPoint(a,o,4*h),b=xe.shiftPoint(b,l,4*d),_=xe.shiftPoint(l,u,4*h),_=xe.shiftPoint(_,a,4*d),I=xe.shiftPoint(u,l,4*h),I=xe.shiftPoint(I,o,4*d),[p,b,_,I]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,o,a,l,u,d,h){return yr.getInstance().sampleGrid(i,d,h,.5,.5,d-.5,.5,d-.5,h-.5,.5,h-.5,o.getX(),o.getY(),u.getX(),u.getY(),l.getX(),l.getY(),a.getX(),a.getY())}transitionsBetween(i,o){let a=Math.trunc(i.getX()),l=Math.trunc(i.getY()),u=Math.trunc(o.getX()),d=Math.trunc(o.getY()),h=Math.abs(d-l)>Math.abs(u-a);if(h){let M=a;a=l,l=M,M=u,u=d,d=M}let p=Math.abs(u-a),_=Math.abs(d-l),w=-p/2,C=l<d?1:-1,b=a<u?1:-1,I=0,v=this.image.get(h?l:a,h?a:l);for(let M=a,N=l;M!==u;M+=b){let L=this.image.get(h?N:M,h?M:N);if(L!==v&&(I++,v=L),w+=_,w>0){if(N===d)break;N+=C,w-=p}}return I}}let Xr=(()=>{class y{constructor(){this.decoder=new Vo}decode(o,a=null){let l,u;if(null!=a&&a.has(rt.PURE_BARCODE)){const w=y.extractPureBits(o.getBlackMatrix());l=this.decoder.decode(w),u=y.NO_POINTS}else{const w=new xe(o.getBlackMatrix()).detect();l=this.decoder.decode(w.getBits()),u=w.getPoints()}const d=l.getRawBytes(),h=new Bt(l.getText(),d,8*d.length,u,le.DATA_MATRIX,qe.currentTimeMillis()),p=l.getByteSegments();null!=p&&h.putMetadata(xt.BYTE_SEGMENTS,p);const _=l.getECLevel();return null!=_&&h.putMetadata(xt.ERROR_CORRECTION_LEVEL,_),h}reset(){}static extractPureBits(o){const a=o.getTopLeftOnBit(),l=o.getBottomRightOnBit();if(null==a||null==l)throw new V;const u=this.moduleSize(a,o);let d=a[1],p=a[0];const w=(l[0]-p+1)/u,C=(l[1]-d+1)/u;if(w<=0||C<=0)throw new V;const b=u/2;d+=b,p+=b;const I=new Tt(w,C);for(let v=0;v<C;v++){const M=d+v*u;for(let N=0;N<w;N++)o.get(p+N*u,M)&&I.set(N,v)}return I}static moduleSize(o,a){const l=a.getWidth();let u=o[0];const d=o[1];for(;u<l&&a.get(u,d);)u++;if(u===l)throw new V;const h=u-o[0];if(0===h)throw new V;return h}}return y.NO_POINTS=[],y})();var Wn=(()=>{return(y=Wn||(Wn={}))[y.L=0]="L",y[y.M=1]="M",y[y.Q=2]="Q",y[y.H=3]="H",Wn;var y})();class ${constructor(i,o,a){this.value=i,this.stringValue=o,this.bits=a,$.FOR_BITS.set(a,this),$.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return $.L;case"M":return $.M;case"Q":return $.Q;case"H":return $.H;default:throw new cn(i+"not available")}}toString(){return this.stringValue}equals(i){return i instanceof $&&this.value===i.value}static forBits(i){if(i<0||i>=$.FOR_BITS.size)throw new ne;return $.FOR_BITS.get(i)}}$.FOR_BITS=new Map,$.FOR_VALUE=new Map,$.L=new $(Wn.L,"L",1),$.M=new $(Wn.M,"M",0),$.Q=new $(Wn.Q,"Q",3),$.H=new $(Wn.H,"H",2);class Nt{constructor(i){this.errorCorrectionLevel=$.forBits(i>>3&3),this.dataMask=7&i}static numBitsDiffering(i,o){return we.bitCount(i^o)}static decodeFormatInformation(i,o){const a=Nt.doDecodeFormatInformation(i,o);return null!==a?a:Nt.doDecodeFormatInformation(i^Nt.FORMAT_INFO_MASK_QR,o^Nt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,o){let a=Number.MAX_SAFE_INTEGER,l=0;for(const u of Nt.FORMAT_INFO_DECODE_LOOKUP){const d=u[0];if(d===i||d===o)return new Nt(u[1]);let h=Nt.numBitsDiffering(i,d);h<a&&(l=u[1],a=h),i!==o&&(h=Nt.numBitsDiffering(o,d),h<a&&(l=u[1],a=h))}return a<=3?new Nt(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){return i instanceof Nt&&this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}Nt.FORMAT_INFO_MASK_QR=21522,Nt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class R{constructor(i,...o){this.ecCodewordsPerBlock=i,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const o=this.ecBlocks;for(const a of o)i+=a.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class D{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class se{constructor(i,o,...a){this.versionNumber=i,this.alignmentPatternCenters=o,this.ecBlocks=a;let l=0;const u=a[0].getECCodewordsPerBlock(),d=a[0].getECBlocks();for(const h of d)l+=h.getCount()*(h.getDataCodewords()+u);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!=1)throw new Q;try{return this.getVersionForNumber((i-17)/4)}catch{throw new Q}}static getVersionForNumber(i){if(i<1||i>40)throw new ne;return se.VERSIONS[i-1]}static decodeVersionInformation(i){let o=Number.MAX_SAFE_INTEGER,a=0;for(let l=0;l<se.VERSION_DECODE_INFO.length;l++){const u=se.VERSION_DECODE_INFO[l];if(u===i)return se.getVersionForNumber(l+7);const d=Nt.numBitsDiffering(i,u);d<o&&(a=l+7,o=d)}return o<=3?se.getVersionForNumber(a):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),o=new Tt(i);o.setRegion(0,0,9,9),o.setRegion(i-8,0,8,9),o.setRegion(0,i-8,9,8);const a=this.alignmentPatternCenters.length;for(let l=0;l<a;l++){const u=this.alignmentPatternCenters[l]-2;for(let d=0;d<a;d++)0===l&&(0===d||d===a-1)||l===a-1&&0===d||o.setRegion(this.alignmentPatternCenters[d]-2,u,5,5)}return o.setRegion(6,9,1,i-17),o.setRegion(9,6,i-17,1),this.versionNumber>6&&(o.setRegion(i-11,0,3,6),o.setRegion(0,i-11,6,3)),o}toString(){return""+this.versionNumber}}se.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),se.VERSIONS=[new se(1,new Int32Array(0),new R(7,new D(1,19)),new R(10,new D(1,16)),new R(13,new D(1,13)),new R(17,new D(1,9))),new se(2,Int32Array.from([6,18]),new R(10,new D(1,34)),new R(16,new D(1,28)),new R(22,new D(1,22)),new R(28,new D(1,16))),new se(3,Int32Array.from([6,22]),new R(15,new D(1,55)),new R(26,new D(1,44)),new R(18,new D(2,17)),new R(22,new D(2,13))),new se(4,Int32Array.from([6,26]),new R(20,new D(1,80)),new R(18,new D(2,32)),new R(26,new D(2,24)),new R(16,new D(4,9))),new se(5,Int32Array.from([6,30]),new R(26,new D(1,108)),new R(24,new D(2,43)),new R(18,new D(2,15),new D(2,16)),new R(22,new D(2,11),new D(2,12))),new se(6,Int32Array.from([6,34]),new R(18,new D(2,68)),new R(16,new D(4,27)),new R(24,new D(4,19)),new R(28,new D(4,15))),new se(7,Int32Array.from([6,22,38]),new R(20,new D(2,78)),new R(18,new D(4,31)),new R(18,new D(2,14),new D(4,15)),new R(26,new D(4,13),new D(1,14))),new se(8,Int32Array.from([6,24,42]),new R(24,new D(2,97)),new R(22,new D(2,38),new D(2,39)),new R(22,new D(4,18),new D(2,19)),new R(26,new D(4,14),new D(2,15))),new se(9,Int32Array.from([6,26,46]),new R(30,new D(2,116)),new R(22,new D(3,36),new D(2,37)),new R(20,new D(4,16),new D(4,17)),new R(24,new D(4,12),new D(4,13))),new se(10,Int32Array.from([6,28,50]),new R(18,new D(2,68),new D(2,69)),new R(26,new D(4,43),new D(1,44)),new R(24,new D(6,19),new D(2,20)),new R(28,new D(6,15),new D(2,16))),new se(11,Int32Array.from([6,30,54]),new R(20,new D(4,81)),new R(30,new D(1,50),new D(4,51)),new R(28,new D(4,22),new D(4,23)),new R(24,new D(3,12),new D(8,13))),new se(12,Int32Array.from([6,32,58]),new R(24,new D(2,92),new D(2,93)),new R(22,new D(6,36),new D(2,37)),new R(26,new D(4,20),new D(6,21)),new R(28,new D(7,14),new D(4,15))),new se(13,Int32Array.from([6,34,62]),new R(26,new D(4,107)),new R(22,new D(8,37),new D(1,38)),new R(24,new D(8,20),new D(4,21)),new R(22,new D(12,11),new D(4,12))),new se(14,Int32Array.from([6,26,46,66]),new R(30,new D(3,115),new D(1,116)),new R(24,new D(4,40),new D(5,41)),new R(20,new D(11,16),new D(5,17)),new R(24,new D(11,12),new D(5,13))),new se(15,Int32Array.from([6,26,48,70]),new R(22,new D(5,87),new D(1,88)),new R(24,new D(5,41),new D(5,42)),new R(30,new D(5,24),new D(7,25)),new R(24,new D(11,12),new D(7,13))),new se(16,Int32Array.from([6,26,50,74]),new R(24,new D(5,98),new D(1,99)),new R(28,new D(7,45),new D(3,46)),new R(24,new D(15,19),new D(2,20)),new R(30,new D(3,15),new D(13,16))),new se(17,Int32Array.from([6,30,54,78]),new R(28,new D(1,107),new D(5,108)),new R(28,new D(10,46),new D(1,47)),new R(28,new D(1,22),new D(15,23)),new R(28,new D(2,14),new D(17,15))),new se(18,Int32Array.from([6,30,56,82]),new R(30,new D(5,120),new D(1,121)),new R(26,new D(9,43),new D(4,44)),new R(28,new D(17,22),new D(1,23)),new R(28,new D(2,14),new D(19,15))),new se(19,Int32Array.from([6,30,58,86]),new R(28,new D(3,113),new D(4,114)),new R(26,new D(3,44),new D(11,45)),new R(26,new D(17,21),new D(4,22)),new R(26,new D(9,13),new D(16,14))),new se(20,Int32Array.from([6,34,62,90]),new R(28,new D(3,107),new D(5,108)),new R(26,new D(3,41),new D(13,42)),new R(30,new D(15,24),new D(5,25)),new R(28,new D(15,15),new D(10,16))),new se(21,Int32Array.from([6,28,50,72,94]),new R(28,new D(4,116),new D(4,117)),new R(26,new D(17,42)),new R(28,new D(17,22),new D(6,23)),new R(30,new D(19,16),new D(6,17))),new se(22,Int32Array.from([6,26,50,74,98]),new R(28,new D(2,111),new D(7,112)),new R(28,new D(17,46)),new R(30,new D(7,24),new D(16,25)),new R(24,new D(34,13))),new se(23,Int32Array.from([6,30,54,78,102]),new R(30,new D(4,121),new D(5,122)),new R(28,new D(4,47),new D(14,48)),new R(30,new D(11,24),new D(14,25)),new R(30,new D(16,15),new D(14,16))),new se(24,Int32Array.from([6,28,54,80,106]),new R(30,new D(6,117),new D(4,118)),new R(28,new D(6,45),new D(14,46)),new R(30,new D(11,24),new D(16,25)),new R(30,new D(30,16),new D(2,17))),new se(25,Int32Array.from([6,32,58,84,110]),new R(26,new D(8,106),new D(4,107)),new R(28,new D(8,47),new D(13,48)),new R(30,new D(7,24),new D(22,25)),new R(30,new D(22,15),new D(13,16))),new se(26,Int32Array.from([6,30,58,86,114]),new R(28,new D(10,114),new D(2,115)),new R(28,new D(19,46),new D(4,47)),new R(28,new D(28,22),new D(6,23)),new R(30,new D(33,16),new D(4,17))),new se(27,Int32Array.from([6,34,62,90,118]),new R(30,new D(8,122),new D(4,123)),new R(28,new D(22,45),new D(3,46)),new R(30,new D(8,23),new D(26,24)),new R(30,new D(12,15),new D(28,16))),new se(28,Int32Array.from([6,26,50,74,98,122]),new R(30,new D(3,117),new D(10,118)),new R(28,new D(3,45),new D(23,46)),new R(30,new D(4,24),new D(31,25)),new R(30,new D(11,15),new D(31,16))),new se(29,Int32Array.from([6,30,54,78,102,126]),new R(30,new D(7,116),new D(7,117)),new R(28,new D(21,45),new D(7,46)),new R(30,new D(1,23),new D(37,24)),new R(30,new D(19,15),new D(26,16))),new se(30,Int32Array.from([6,26,52,78,104,130]),new R(30,new D(5,115),new D(10,116)),new R(28,new D(19,47),new D(10,48)),new R(30,new D(15,24),new D(25,25)),new R(30,new D(23,15),new D(25,16))),new se(31,Int32Array.from([6,30,56,82,108,134]),new R(30,new D(13,115),new D(3,116)),new R(28,new D(2,46),new D(29,47)),new R(30,new D(42,24),new D(1,25)),new R(30,new D(23,15),new D(28,16))),new se(32,Int32Array.from([6,34,60,86,112,138]),new R(30,new D(17,115)),new R(28,new D(10,46),new D(23,47)),new R(30,new D(10,24),new D(35,25)),new R(30,new D(19,15),new D(35,16))),new se(33,Int32Array.from([6,30,58,86,114,142]),new R(30,new D(17,115),new D(1,116)),new R(28,new D(14,46),new D(21,47)),new R(30,new D(29,24),new D(19,25)),new R(30,new D(11,15),new D(46,16))),new se(34,Int32Array.from([6,34,62,90,118,146]),new R(30,new D(13,115),new D(6,116)),new R(28,new D(14,46),new D(23,47)),new R(30,new D(44,24),new D(7,25)),new R(30,new D(59,16),new D(1,17))),new se(35,Int32Array.from([6,30,54,78,102,126,150]),new R(30,new D(12,121),new D(7,122)),new R(28,new D(12,47),new D(26,48)),new R(30,new D(39,24),new D(14,25)),new R(30,new D(22,15),new D(41,16))),new se(36,Int32Array.from([6,24,50,76,102,128,154]),new R(30,new D(6,121),new D(14,122)),new R(28,new D(6,47),new D(34,48)),new R(30,new D(46,24),new D(10,25)),new R(30,new D(2,15),new D(64,16))),new se(37,Int32Array.from([6,28,54,80,106,132,158]),new R(30,new D(17,122),new D(4,123)),new R(28,new D(29,46),new D(14,47)),new R(30,new D(49,24),new D(10,25)),new R(30,new D(24,15),new D(46,16))),new se(38,Int32Array.from([6,32,58,84,110,136,162]),new R(30,new D(4,122),new D(18,123)),new R(28,new D(13,46),new D(32,47)),new R(30,new D(48,24),new D(14,25)),new R(30,new D(42,15),new D(32,16))),new se(39,Int32Array.from([6,26,54,82,110,138,166]),new R(30,new D(20,117),new D(4,118)),new R(28,new D(40,47),new D(7,48)),new R(30,new D(43,24),new D(22,25)),new R(30,new D(10,15),new D(67,16))),new se(40,Int32Array.from([6,30,58,86,114,142,170]),new R(30,new D(19,118),new D(6,119)),new R(28,new D(18,47),new D(31,48)),new R(30,new D(34,24),new D(34,25)),new R(30,new D(20,15),new D(61,16)))];var re=(()=>{return(y=re||(re={}))[y.DATA_MASK_000=0]="DATA_MASK_000",y[y.DATA_MASK_001=1]="DATA_MASK_001",y[y.DATA_MASK_010=2]="DATA_MASK_010",y[y.DATA_MASK_011=3]="DATA_MASK_011",y[y.DATA_MASK_100=4]="DATA_MASK_100",y[y.DATA_MASK_101=5]="DATA_MASK_101",y[y.DATA_MASK_110=6]="DATA_MASK_110",y[y.DATA_MASK_111=7]="DATA_MASK_111",re;var y})();class Ce{constructor(i,o){this.value=i,this.isMasked=o}unmaskBitMatrix(i,o){for(let a=0;a<o;a++)for(let l=0;l<o;l++)this.isMasked(a,l)&&i.flip(l,a)}}Ce.values=new Map([[re.DATA_MASK_000,new Ce(re.DATA_MASK_000,(y,i)=>0==(y+i&1))],[re.DATA_MASK_001,new Ce(re.DATA_MASK_001,(y,i)=>0==(1&y))],[re.DATA_MASK_010,new Ce(re.DATA_MASK_010,(y,i)=>i%3==0)],[re.DATA_MASK_011,new Ce(re.DATA_MASK_011,(y,i)=>(y+i)%3==0)],[re.DATA_MASK_100,new Ce(re.DATA_MASK_100,(y,i)=>0==(Math.floor(y/2)+Math.floor(i/3)&1))],[re.DATA_MASK_101,new Ce(re.DATA_MASK_101,(y,i)=>y*i%6==0)],[re.DATA_MASK_110,new Ce(re.DATA_MASK_110,(y,i)=>y*i%6<3)],[re.DATA_MASK_111,new Ce(re.DATA_MASK_111,(y,i)=>0==(y+i+y*i%3&1))]]);class Oc{constructor(i){const o=i.getHeight();if(o<21||1!=(3&o))throw new Q;this.bitMatrix=i}readFormatInformation(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;let i=0;for(let u=0;u<6;u++)i=this.copyBit(u,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let u=5;u>=0;u--)i=this.copyBit(8,u,i);const o=this.bitMatrix.getHeight();let a=0;const l=o-7;for(let u=o-1;u>=l;u--)a=this.copyBit(8,u,a);for(let u=o-8;u<o;u++)a=this.copyBit(u,8,a);if(this.parsedFormatInfo=Nt.decodeFormatInformation(i,a),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new Q}readVersion(){if(null!=this.parsedVersion)return this.parsedVersion;const i=this.bitMatrix.getHeight(),o=Math.floor((i-17)/4);if(o<=6)return se.getVersionForNumber(o);let a=0;const l=i-11;for(let d=5;d>=0;d--)for(let h=i-9;h>=l;h--)a=this.copyBit(h,d,a);let u=se.decodeVersionInformation(a);if(null!==u&&u.getDimensionForVersion()===i)return this.parsedVersion=u,u;a=0;for(let d=5;d>=0;d--)for(let h=i-9;h>=l;h--)a=this.copyBit(d,h,a);if(u=se.decodeVersionInformation(a),null!==u&&u.getDimensionForVersion()===i)return this.parsedVersion=u,u;throw new Q}copyBit(i,o,a){return(this.isMirror?this.bitMatrix.get(o,i):this.bitMatrix.get(i,o))?a<<1|1:a<<1}readCodewords(){const i=this.readFormatInformation(),o=this.readVersion(),a=Ce.values.get(i.getDataMask()),l=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,l);const u=o.buildFunctionPattern();let d=!0;const h=new Uint8Array(o.getTotalCodewords());let p=0,_=0,w=0;for(let C=l-1;C>0;C-=2){6===C&&C--;for(let b=0;b<l;b++){const I=d?l-1-b:b;for(let v=0;v<2;v++)u.get(C-v,I)||(w++,_<<=1,this.bitMatrix.get(C-v,I)&&(_|=1),8===w&&(h[p++]=_,w=0,_=0))}d=!d}if(p!==o.getTotalCodewords())throw new Q;return h}remask(){if(null===this.parsedFormatInfo)return;const i=Ce.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let o=0,a=i.getWidth();o<a;o++)for(let l=o+1,u=i.getHeight();l<u;l++)i.get(o,l)!==i.get(l,o)&&(i.flip(l,o),i.flip(o,l))}}class Xs{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o,a){if(i.length!==o.getTotalCodewords())throw new ne;const l=o.getECBlocksForLevel(a);let u=0;const d=l.getECBlocks();for(const v of d)u+=v.getCount();const h=new Array(u);let p=0;for(const v of d)for(let M=0;M<v.getCount();M++){const N=v.getDataCodewords(),L=l.getECCodewordsPerBlock()+N;h[p++]=new Xs(N,new Uint8Array(L))}const _=h[0].codewords.length;let w=h.length-1;for(;w>=0&&h[w].codewords.length!==_;)w--;w++;const C=_-l.getECCodewordsPerBlock();let b=0;for(let v=0;v<C;v++)for(let M=0;M<p;M++)h[M].codewords[v]=i[b++];for(let v=w;v<p;v++)h[v].codewords[C]=i[b++];const I=h[0].codewords.length;for(let v=C;v<I;v++)for(let M=0;M<p;M++)h[M].codewords[M<w?v:v+1]=i[b++];return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var un=(()=>{return(y=un||(un={}))[y.TERMINATOR=0]="TERMINATOR",y[y.NUMERIC=1]="NUMERIC",y[y.ALPHANUMERIC=2]="ALPHANUMERIC",y[y.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",y[y.BYTE=4]="BYTE",y[y.ECI=5]="ECI",y[y.KANJI=6]="KANJI",y[y.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",y[y.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",y[y.HANZI=9]="HANZI",un;var y})();class ae{constructor(i,o,a,l){this.value=i,this.stringValue=o,this.characterCountBitsForVersions=a,this.bits=l,ae.FOR_BITS.set(l,this),ae.FOR_VALUE.set(i,this)}static forBits(i){const o=ae.FOR_BITS.get(i);if(void 0===o)throw new ne;return o}getCharacterCountBits(i){const o=i.getVersionNumber();let a;return a=o<=9?0:o<=26?1:2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(i){return i instanceof ae&&this.value===i.value}toString(){return this.stringValue}}ae.FOR_BITS=new Map,ae.FOR_VALUE=new Map,ae.TERMINATOR=new ae(un.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ae.NUMERIC=new ae(un.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ae.ALPHANUMERIC=new ae(un.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ae.STRUCTURED_APPEND=new ae(un.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ae.BYTE=new ae(un.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ae.ECI=new ae(un.ECI,"ECI",Int32Array.from([0,0,0]),7),ae.KANJI=new ae(un.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ae.FNC1_FIRST_POSITION=new ae(un.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ae.FNC1_SECOND_POSITION=new ae(un.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ae.HANZI=new ae(un.HANZI,"HANZI",Int32Array.from([8,10,12]),13);let Jt=(()=>{class y{static decode(o,a,l,u){const d=new ko(o);let h=new ze;const p=new Array;let _=-1,w=-1;try{let I,C=null,b=!1;do{if(d.available()<4)I=ae.TERMINATOR;else{const v=d.readBits(4);I=ae.forBits(v)}switch(I){case ae.TERMINATOR:break;case ae.FNC1_FIRST_POSITION:case ae.FNC1_SECOND_POSITION:b=!0;break;case ae.STRUCTURED_APPEND:if(d.available()<16)throw new Q;_=d.readBits(8),w=d.readBits(8);break;case ae.ECI:const v=y.parseECIValue(d);if(C=Y.getCharacterSetECIByValue(v),null===C)throw new Q;break;case ae.HANZI:const M=d.readBits(4),N=d.readBits(I.getCharacterCountBits(a));M===y.GB2312_SUBSET&&y.decodeHanziSegment(d,h,N);break;default:const L=d.readBits(I.getCharacterCountBits(a));switch(I){case ae.NUMERIC:y.decodeNumericSegment(d,h,L);break;case ae.ALPHANUMERIC:y.decodeAlphanumericSegment(d,h,L,b);break;case ae.BYTE:y.decodeByteSegment(d,h,L,C,p,u);break;case ae.KANJI:y.decodeKanjiSegment(d,h,L);break;default:throw new Q}}}while(I!==ae.TERMINATOR)}catch{throw new Q}return new li(o,h.toString(),0===p.length?null:p,null===l?null:l.toString(),_,w)}static decodeHanziSegment(o,a,l){if(13*l>o.available())throw new Q;const u=new Uint8Array(2*l);let d=0;for(;l>0;){const h=o.readBits(13);let p=h/96<<8&4294967295|h%96;p+=p<959?41377:42657,u[d]=p>>8&255,u[d+1]=255&p,d+=2,l--}try{a.append(Ft.decode(u,_e.GB2312))}catch(h){throw new Q(h)}}static decodeKanjiSegment(o,a,l){if(13*l>o.available())throw new Q;const u=new Uint8Array(2*l);let d=0;for(;l>0;){const h=o.readBits(13);let p=h/192<<8&4294967295|h%192;p+=p<7936?33088:49472,u[d]=p>>8,u[d+1]=p,d+=2,l--}try{a.append(Ft.decode(u,_e.SHIFT_JIS))}catch(h){throw new Q(h)}}static decodeByteSegment(o,a,l,u,d,h){if(8*l>o.available())throw new Q;const p=new Uint8Array(l);for(let w=0;w<l;w++)p[w]=o.readBits(8);let _;_=null===u?_e.guessEncoding(p,h):u.getName();try{a.append(Ft.decode(p,_))}catch(w){throw new Q(w)}d.push(p)}static toAlphaNumericChar(o){if(o>=y.ALPHANUMERIC_CHARS.length)throw new Q;return y.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,a,l,u){const d=a.length();for(;l>1;){if(o.available()<11)throw new Q;const h=o.readBits(11);a.append(y.toAlphaNumericChar(Math.floor(h/45))),a.append(y.toAlphaNumericChar(h%45)),l-=2}if(1===l){if(o.available()<6)throw new Q;a.append(y.toAlphaNumericChar(o.readBits(6)))}if(u)for(let h=d;h<a.length();h++)"%"===a.charAt(h)&&(h<a.length()-1&&"%"===a.charAt(h+1)?a.deleteCharAt(h+1):a.setCharAt(h,String.fromCharCode(29)))}static decodeNumericSegment(o,a,l){for(;l>=3;){if(o.available()<10)throw new Q;const u=o.readBits(10);if(u>=1e3)throw new Q;a.append(y.toAlphaNumericChar(Math.floor(u/100))),a.append(y.toAlphaNumericChar(Math.floor(u/10)%10)),a.append(y.toAlphaNumericChar(u%10)),l-=3}if(2===l){if(o.available()<7)throw new Q;const u=o.readBits(7);if(u>=100)throw new Q;a.append(y.toAlphaNumericChar(Math.floor(u/10))),a.append(y.toAlphaNumericChar(u%10))}else if(1===l){if(o.available()<4)throw new Q;const u=o.readBits(4);if(u>=10)throw new Q;a.append(y.toAlphaNumericChar(u))}}static parseECIValue(o){const a=o.readBits(8);if(0==(128&a))return 127&a;if(128==(192&a))return(63&a)<<8&4294967295|o.readBits(8);if(192==(224&a))return(31&a)<<16&4294967295|o.readBits(16);throw new Q}}return y.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",y.GB2312_SUBSET=1,y})();class Rc{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||null===i||i.length<3)return;const o=i[0];i[0]=i[2],i[2]=o}}class Lc{constructor(){this.rsDecoder=new Oi(ke.QR_CODE_FIELD_256)}decodeBooleanArray(i,o){return this.decodeBitMatrix(Tt.parseFromBooleanArray(i),o)}decodeBitMatrix(i,o){const a=new Oc(i);let l=null;try{return this.decodeBitMatrixParser(a,o)}catch(u){l=u}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const u=this.decodeBitMatrixParser(a,o);return u.setOther(new Rc(!0)),u}catch(u){throw null!==l?l:u}}decodeBitMatrixParser(i,o){const a=i.readVersion(),l=i.readFormatInformation().getErrorCorrectionLevel(),u=i.readCodewords(),d=Xs.getDataBlocks(u,a,l);let h=0;for(const w of d)h+=w.getNumDataCodewords();const p=new Uint8Array(h);let _=0;for(const w of d){const C=w.getCodewords(),b=w.getNumDataCodewords();this.correctErrors(C,b);for(let I=0;I<b;I++)p[_++]=C[I]}return Jt.decode(p,a,l,o)}correctErrors(i,o){const a=new Int32Array(i);try{this.rsDecoder.decode(a,i.length-o)}catch{throw new bt}for(let l=0;l<o;l++)i[l]=a[l]}}class Zs extends oe{constructor(i,o,a){super(i,o),this.estimatedModuleSize=a}aboutEquals(i,o,a){if(Math.abs(o-this.getY())<=i&&Math.abs(a-this.getX())<=i){const l=Math.abs(i-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(i,o,a){const l=(this.getX()+o)/2,u=(this.getY()+i)/2;return new Zs(l,u,(this.estimatedModuleSize+a)/2)}}class wn{constructor(i,o,a,l,u,d,h){this.image=i,this.startX=o,this.startY=a,this.width=l,this.height=u,this.moduleSize=d,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,o=this.height,l=i+this.width,u=this.startY+o/2,d=new Int32Array(3),h=this.image;for(let p=0;p<o;p++){const _=u+(0==(1&p)?Math.floor((p+1)/2):-Math.floor((p+1)/2));d[0]=0,d[1]=0,d[2]=0;let w=i;for(;w<l&&!h.get(w,_);)w++;let C=0;for(;w<l;){if(h.get(w,_))if(1===C)d[1]++;else if(2===C){if(this.foundPatternCross(d)){const b=this.handlePossibleCenter(d,_,w);if(null!==b)return b}d[0]=d[2],d[1]=1,d[2]=0,C=1}else d[++C]++;else 1===C&&C++,d[C]++;w++}if(this.foundPatternCross(d)){const b=this.handlePossibleCenter(d,_,l);if(null!==b)return b}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new V}static centerFromEnd(i,o){return o-i[2]-i[1]/2}foundPatternCross(i){const o=this.moduleSize,a=o/2;for(let l=0;l<3;l++)if(Math.abs(o-i[l])>=a)return!1;return!0}crossCheckVertical(i,o,a,l){const u=this.image,d=u.getHeight(),h=this.crossCheckStateCount;h[0]=0,h[1]=0,h[2]=0;let p=i;for(;p>=0&&u.get(o,p)&&h[1]<=a;)h[1]++,p--;if(p<0||h[1]>a)return NaN;for(;p>=0&&!u.get(o,p)&&h[0]<=a;)h[0]++,p--;if(h[0]>a)return NaN;for(p=i+1;p<d&&u.get(o,p)&&h[1]<=a;)h[1]++,p++;if(p===d||h[1]>a)return NaN;for(;p<d&&!u.get(o,p)&&h[2]<=a;)h[2]++,p++;return h[2]>a||5*Math.abs(h[0]+h[1]+h[2]-l)>=2*l?NaN:this.foundPatternCross(h)?wn.centerFromEnd(h,p):NaN}handlePossibleCenter(i,o,a){const l=i[0]+i[1]+i[2],u=wn.centerFromEnd(i,a),d=this.crossCheckVertical(o,u,2*i[1],l);if(!isNaN(d)){const h=(i[0]+i[1]+i[2])/3;for(const _ of this.possibleCenters)if(_.aboutEquals(h,d,u))return _.combineEstimate(d,u,h);const p=new Zs(u,d,h);this.possibleCenters.push(p),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(p)}return null}}class Qs extends oe{constructor(i,o,a,l){super(i,o),this.estimatedModuleSize=a,this.count=l,void 0===l&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,o,a){if(Math.abs(o-this.getY())<=i&&Math.abs(a-this.getX())<=i){const l=Math.abs(i-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(i,o,a){const l=this.count+1,u=(this.count*this.getX()+o)/l,d=(this.count*this.getY()+i)/l;return new Qs(u,d,(this.count*this.estimatedModuleSize+a)/l,l)}}class Xd{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}let Zd=(()=>{class y{constructor(o,a){this.image=o,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){const a=null!=o&&void 0!==o.get(rt.TRY_HARDER),l=null!=o&&void 0!==o.get(rt.PURE_BARCODE),u=this.image,d=u.getHeight(),h=u.getWidth();let p=Math.floor(3*d/(4*y.MAX_MODULES));(p<y.MIN_SKIP||a)&&(p=y.MIN_SKIP);let _=!1;const w=new Int32Array(5);for(let b=p-1;b<d&&!_;b+=p){w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0;let I=0;for(let v=0;v<h;v++)if(u.get(v,b))1==(1&I)&&I++,w[I]++;else if(0==(1&I))if(4===I)if(y.foundPatternCross(w)){if(!0!==this.handlePossibleCenter(w,b,v,l)){w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,I=3;continue}if(p=2,!0===this.hasSkipped)_=this.haveMultiplyConfirmedCenters();else{const N=this.findRowSkip();N>w[2]&&(b+=N-w[2]-p,v=h-1)}I=0,w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0}else w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,I=3;else w[++I]++;else w[I]++;y.foundPatternCross(w)&&!0===this.handlePossibleCenter(w,b,h,l)&&(p=w[0],this.hasSkipped&&(_=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return oe.orderBestPatterns(C),new Xd(C)}static centerFromEnd(o,a){return a-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let a=0;for(let d=0;d<5;d++){const h=o[d];if(0===h)return!1;a+=h}if(a<7)return!1;const l=a/7,u=l/2;return Math.abs(l-o[0])<u&&Math.abs(l-o[1])<u&&Math.abs(3*l-o[2])<3*u&&Math.abs(l-o[3])<u&&Math.abs(l-o[4])<u}getCrossCheckStateCount(){const o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,a,l,u){const d=this.getCrossCheckStateCount();let h=0;const p=this.image;for(;o>=h&&a>=h&&p.get(a-h,o-h);)d[2]++,h++;if(o<h||a<h)return!1;for(;o>=h&&a>=h&&!p.get(a-h,o-h)&&d[1]<=l;)d[1]++,h++;if(o<h||a<h||d[1]>l)return!1;for(;o>=h&&a>=h&&p.get(a-h,o-h)&&d[0]<=l;)d[0]++,h++;if(d[0]>l)return!1;const _=p.getHeight(),w=p.getWidth();for(h=1;o+h<_&&a+h<w&&p.get(a+h,o+h);)d[2]++,h++;if(o+h>=_||a+h>=w)return!1;for(;o+h<_&&a+h<w&&!p.get(a+h,o+h)&&d[3]<l;)d[3]++,h++;if(o+h>=_||a+h>=w||d[3]>=l)return!1;for(;o+h<_&&a+h<w&&p.get(a+h,o+h)&&d[4]<l;)d[4]++,h++;return!(d[4]>=l)&&Math.abs(d[0]+d[1]+d[2]+d[3]+d[4]-u)<2*u&&y.foundPatternCross(d)}crossCheckVertical(o,a,l,u){const d=this.image,h=d.getHeight(),p=this.getCrossCheckStateCount();let _=o;for(;_>=0&&d.get(a,_);)p[2]++,_--;if(_<0)return NaN;for(;_>=0&&!d.get(a,_)&&p[1]<=l;)p[1]++,_--;if(_<0||p[1]>l)return NaN;for(;_>=0&&d.get(a,_)&&p[0]<=l;)p[0]++,_--;if(p[0]>l)return NaN;for(_=o+1;_<h&&d.get(a,_);)p[2]++,_++;if(_===h)return NaN;for(;_<h&&!d.get(a,_)&&p[3]<l;)p[3]++,_++;if(_===h||p[3]>=l)return NaN;for(;_<h&&d.get(a,_)&&p[4]<l;)p[4]++,_++;return p[4]>=l||5*Math.abs(p[0]+p[1]+p[2]+p[3]+p[4]-u)>=2*u?NaN:y.foundPatternCross(p)?y.centerFromEnd(p,_):NaN}crossCheckHorizontal(o,a,l,u){const d=this.image,h=d.getWidth(),p=this.getCrossCheckStateCount();let _=o;for(;_>=0&&d.get(_,a);)p[2]++,_--;if(_<0)return NaN;for(;_>=0&&!d.get(_,a)&&p[1]<=l;)p[1]++,_--;if(_<0||p[1]>l)return NaN;for(;_>=0&&d.get(_,a)&&p[0]<=l;)p[0]++,_--;if(p[0]>l)return NaN;for(_=o+1;_<h&&d.get(_,a);)p[2]++,_++;if(_===h)return NaN;for(;_<h&&!d.get(_,a)&&p[3]<l;)p[3]++,_++;if(_===h||p[3]>=l)return NaN;for(;_<h&&d.get(_,a)&&p[4]<l;)p[4]++,_++;return p[4]>=l||5*Math.abs(p[0]+p[1]+p[2]+p[3]+p[4]-u)>=u?NaN:y.foundPatternCross(p)?y.centerFromEnd(p,_):NaN}handlePossibleCenter(o,a,l,u){const d=o[0]+o[1]+o[2]+o[3]+o[4];let h=y.centerFromEnd(o,l),p=this.crossCheckVertical(a,Math.floor(h),o[2],d);if(!isNaN(p)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(p),o[2],d),!isNaN(h)&&(!u||this.crossCheckDiagonal(Math.floor(p),Math.floor(h),o[2],d)))){const _=d/7;let w=!1;const C=this.possibleCenters;for(let b=0,I=C.length;b<I;b++){const v=C[b];if(v.aboutEquals(_,p,h)){C[b]=v.combineEstimate(p,h,_),w=!0;break}}if(!w){const b=new Qs(h,p,_);C.push(b),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(b)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const l of this.possibleCenters)if(l.getCount()>=y.CENTER_QUORUM){if(null!=a)return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-l.getX())-Math.abs(a.getY()-l.getY()))/2);a=l}return 0}haveMultiplyConfirmedCenters(){let o=0,a=0;const l=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=y.CENTER_QUORUM&&(o++,a+=h.getEstimatedModuleSize());if(o<3)return!1;const u=a/l;let d=0;for(const h of this.possibleCenters)d+=Math.abs(h.getEstimatedModuleSize()-u);return d<=.05*a}selectBestPatterns(){const o=this.possibleCenters.length;if(o<3)throw new V;const a=this.possibleCenters;let l;if(o>3){let u=0,d=0;for(const _ of this.possibleCenters){const w=_.getEstimatedModuleSize();u+=w,d+=w*w}l=u/o;let h=Math.sqrt(d/o-l*l);a.sort((_,w)=>{const C=Math.abs(w.getEstimatedModuleSize()-l),b=Math.abs(_.getEstimatedModuleSize()-l);return C<b?-1:C>b?1:0});const p=Math.max(.2*l,h);for(let _=0;_<a.length&&a.length>3;_++)Math.abs(a[_].getEstimatedModuleSize()-l)>p&&(a.splice(_,1),_--)}if(a.length>3){let u=0;for(const d of a)u+=d.getEstimatedModuleSize();l=u/a.length,a.sort((d,h)=>{if(h.getCount()===d.getCount()){const p=Math.abs(h.getEstimatedModuleSize()-l),_=Math.abs(d.getEstimatedModuleSize()-l);return p<_?1:p>_?-1:0}return h.getCount()-d.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}return y.CENTER_QUORUM=2,y.MIN_SKIP=3,y.MAX_MODULES=57,y})();class ki{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=null==i?null:i.get(rt.NEED_RESULT_POINT_CALLBACK);const a=new Zd(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(a)}processFinderPatternInfo(i){const o=i.getTopLeft(),a=i.getTopRight(),l=i.getBottomLeft(),u=this.calculateModuleSize(o,a,l);if(u<1)throw new V("No pattern found in proccess finder.");const d=ki.computeDimension(o,a,l,u),h=se.getProvisionalVersionForDimension(d),p=h.getDimensionForVersion()-7;let _=null;if(h.getAlignmentPatternCenters().length>0){const I=a.getX()-o.getX()+l.getX(),v=a.getY()-o.getY()+l.getY(),M=1-3/p,N=Math.floor(o.getX()+M*(I-o.getX())),L=Math.floor(o.getY()+M*(v-o.getY()));for(let W=4;W<=16;W<<=1)try{_=this.findAlignmentInRegion(u,N,L,W);break}catch(Z){if(!(Z instanceof V))throw Z}}const w=ki.createTransform(o,a,l,_,d),C=ki.sampleGrid(this.image,w,d);let b;return b=null===_?[l,o,a]:[l,o,a,_],new Ri(C,b)}static createTransform(i,o,a,l,u){const d=u-3.5;let h,p,_,w;return null!==l?(h=l.getX(),p=l.getY(),_=d-3,w=_):(h=o.getX()-i.getX()+a.getX(),p=o.getY()-i.getY()+a.getY(),_=d,w=d),_n.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,_,w,3.5,d,i.getX(),i.getY(),o.getX(),o.getY(),h,p,a.getX(),a.getY())}static sampleGrid(i,o,a){return yr.getInstance().sampleGridWithTransform(i,a,a,o)}static computeDimension(i,o,a,l){const u=Ve.round(oe.distance(i,o)/l),d=Ve.round(oe.distance(i,a)/l);let h=Math.floor((u+d)/2)+7;switch(3&h){case 0:h++;break;case 2:h--;break;case 3:throw new V("Dimensions could be not found.")}return h}calculateModuleSize(i,o,a){return(this.calculateModuleSizeOneWay(i,o)+this.calculateModuleSizeOneWay(i,a))/2}calculateModuleSizeOneWay(i,o){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(o.getX()),Math.floor(o.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(a)?l/7:isNaN(l)?a/7:(a+l)/14}sizeOfBlackWhiteBlackRunBothWays(i,o,a,l){let u=this.sizeOfBlackWhiteBlackRun(i,o,a,l),d=1,h=i-(a-i);h<0?(d=i/(i-h),h=0):h>=this.image.getWidth()&&(d=(this.image.getWidth()-1-i)/(h-i),h=this.image.getWidth()-1);let p=Math.floor(o-(l-o)*d);return d=1,p<0?(d=o/(o-p),p=0):p>=this.image.getHeight()&&(d=(this.image.getHeight()-1-o)/(p-o),p=this.image.getHeight()-1),h=Math.floor(i+(h-i)*d),u+=this.sizeOfBlackWhiteBlackRun(i,o,h,p),u-1}sizeOfBlackWhiteBlackRun(i,o,a,l){const u=Math.abs(l-o)>Math.abs(a-i);if(u){let I=i;i=o,o=I,I=a,a=l,l=I}const d=Math.abs(a-i),h=Math.abs(l-o);let p=-d/2;const _=i<a?1:-1,w=o<l?1:-1;let C=0;const b=a+_;for(let I=i,v=o;I!==b;I+=_){if(1===C===this.image.get(u?v:I,u?I:v)){if(2===C)return Ve.distance(I,v,i,o);C++}if(p+=h,p>0){if(v===l)break;v+=w,p-=d}}return 2===C?Ve.distance(a+_,l,i,o):NaN}findAlignmentInRegion(i,o,a,l){const u=Math.floor(l*i),d=Math.max(0,o-u),h=Math.min(this.image.getWidth()-1,o+u);if(h-d<3*i)throw new V("Alignment top exceeds estimated module size.");const p=Math.max(0,a-u),_=Math.min(this.image.getHeight()-1,a+u);if(_-p<3*i)throw new V("Alignment bottom exceeds estimated module size.");return new wn(this.image,d,p,h-d,_-p,i,this.resultPointCallback).find()}}class or{constructor(){this.decoder=new Lc}getDecoder(){return this.decoder}decode(i,o){let a,l;if(null!=o&&void 0!==o.get(rt.PURE_BARCODE)){const p=or.extractPureBits(i.getBlackMatrix());a=this.decoder.decodeBitMatrix(p,o),l=or.NO_POINTS}else{const p=new ki(i.getBlackMatrix()).detect(o);a=this.decoder.decodeBitMatrix(p.getBits(),o),l=p.getPoints()}a.getOther()instanceof Rc&&a.getOther().applyMirroredCorrection(l);const u=new Bt(a.getText(),a.getRawBytes(),void 0,l,le.QR_CODE,void 0),d=a.getByteSegments();null!==d&&u.putMetadata(xt.BYTE_SEGMENTS,d);const h=a.getECLevel();return null!==h&&u.putMetadata(xt.ERROR_CORRECTION_LEVEL,h),a.hasStructuredAppend()&&(u.putMetadata(xt.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),u.putMetadata(xt.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),u}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),a=i.getBottomRightOnBit();if(null===o||null===a)throw new V;const l=this.moduleSize(o,i);let u=o[1],d=a[1],h=o[0],p=a[0];if(h>=p||u>=d)throw new V;if(d-u!=p-h&&(p=h+(d-u),p>=i.getWidth()))throw new V;const _=Math.round((p-h+1)/l),w=Math.round((d-u+1)/l);if(_<=0||w<=0)throw new V;if(w!==_)throw new V;const C=Math.floor(l/2);u+=C,h+=C;const b=h+Math.floor((_-1)*l)-p;if(b>0){if(b>C)throw new V;h-=b}const I=u+Math.floor((w-1)*l)-d;if(I>0){if(I>C)throw new V;u-=I}const v=new Tt(_,w);for(let M=0;M<w;M++){const N=u+Math.floor(M*l);for(let L=0;L<_;L++)i.get(h+Math.floor(L*l),N)&&v.set(L,M)}return v}static moduleSize(i,o){const a=o.getHeight(),l=o.getWidth();let u=i[0],d=i[1],h=!0,p=0;for(;u<l&&d<a;){if(h!==o.get(u,d)){if(5==++p)break;h=!h}u++,d++}if(u===l||d===a)throw new V;return(u-i[0])/7}}or.NO_POINTS=new Array;class pe{PDF417Common(){}static getBitCountSum(i){return Ve.sum(i)}static toIntArray(i){if(null==i||!i.length)return pe.EMPTY_INT_ARRAY;const o=new Int32Array(i.length);let a=0;for(const l of i)o[a++]=l;return o}static getCodeword(i){const o=Et.binarySearch(pe.SYMBOL_TABLE,262143&i);return o<0?-1:(pe.CODEWORD_TABLE[o]-1)%pe.NUMBER_OF_CODEWORDS}}pe.NUMBER_OF_CODEWORDS=929,pe.MAX_CODEWORDS_IN_BARCODE=pe.NUMBER_OF_CODEWORDS-1,pe.MIN_ROWS_IN_BARCODE=3,pe.MAX_ROWS_IN_BARCODE=90,pe.MODULES_IN_CODEWORD=17,pe.MODULES_IN_STOP_PATTERN=18,pe.BARS_IN_MODULE=8,pe.EMPTY_INT_ARRAY=new Int32Array([]),pe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),pe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Pc{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Se{static detectMultiple(i,o,a){let l=i.getBlackMatrix(),u=Se.detect(a,l);return u.length||(l=l.clone(),l.rotate180(),u=Se.detect(a,l)),new Pc(l,u)}static detect(i,o){const a=new Array;let l=0,u=0,d=!1;for(;l<o.getHeight();){const h=Se.findVertices(o,l,u);if(null!=h[0]||null!=h[3]){if(d=!0,a.push(h),!i)break;null!=h[2]?(u=Math.trunc(h[2].getX()),l=Math.trunc(h[2].getY())):(u=Math.trunc(h[4].getX()),l=Math.trunc(h[4].getY()))}else{if(!d)break;d=!1,u=0;for(const p of a)null!=p[1]&&(l=Math.trunc(Math.max(l,p[1].getY()))),null!=p[3]&&(l=Math.max(l,Math.trunc(p[3].getY())));l+=Se.ROW_STEP}}return a}static findVertices(i,o,a){const l=i.getHeight(),u=i.getWidth(),d=new Array(8);return Se.copyToResult(d,Se.findRowsWithPattern(i,l,u,o,a,Se.START_PATTERN),Se.INDEXES_START_PATTERN),null!=d[4]&&(a=Math.trunc(d[4].getX()),o=Math.trunc(d[4].getY())),Se.copyToResult(d,Se.findRowsWithPattern(i,l,u,o,a,Se.STOP_PATTERN),Se.INDEXES_STOP_PATTERN),d}static copyToResult(i,o,a){for(let l=0;l<a.length;l++)i[a[l]]=o[l]}static findRowsWithPattern(i,o,a,l,u,d){const h=new Array(4);let p=!1;const _=new Int32Array(d.length);for(;l<o;l+=Se.ROW_STEP){let C=Se.findGuardPattern(i,u,l,a,!1,d,_);if(null!=C){for(;l>0;){const b=Se.findGuardPattern(i,u,--l,a,!1,d,_);if(null==b){l++;break}C=b}h[0]=new oe(C[0],l),h[1]=new oe(C[1],l),p=!0;break}}let w=l+1;if(p){let C=0,b=Int32Array.from([Math.trunc(h[0].getX()),Math.trunc(h[1].getX())]);for(;w<o;w++){const I=Se.findGuardPattern(i,b[0],w,a,!1,d,_);if(null!=I&&Math.abs(b[0]-I[0])<Se.MAX_PATTERN_DRIFT&&Math.abs(b[1]-I[1])<Se.MAX_PATTERN_DRIFT)b=I,C=0;else{if(C>Se.SKIPPED_ROW_COUNT_MAX)break;C++}}w-=C+1,h[2]=new oe(b[0],w),h[3]=new oe(b[1],w)}return w-l<Se.BARCODE_MIN_HEIGHT&&Et.fill(h,null),h}static findGuardPattern(i,o,a,l,u,d,h){Et.fillWithin(h,0,h.length,0);let p=o,_=0;for(;i.get(p,a)&&p>0&&_++<Se.MAX_PIXEL_DRIFT;)p--;let w=p,C=0,b=d.length;for(let I=u;w<l;w++)if(i.get(w,a)!==I)h[C]++;else{if(C===b-1){if(Se.patternMatchVariance(h,d,Se.MAX_INDIVIDUAL_VARIANCE)<Se.MAX_AVG_VARIANCE)return new Int32Array([p,w]);p+=h[0]+h[1],qe.arraycopy(h,2,h,0,C-1),h[C-1]=0,h[C]=0,C--}else C++;h[C]=1,I=!I}return C===b-1&&Se.patternMatchVariance(h,d,Se.MAX_INDIVIDUAL_VARIANCE)<Se.MAX_AVG_VARIANCE?new Int32Array([p,w-1]):null}static patternMatchVariance(i,o,a){let l=i.length,u=0,d=0;for(let _=0;_<l;_++)u+=i[_],d+=o[_];if(u<d)return 1/0;let h=u/d;a*=h;let p=0;for(let _=0;_<l;_++){let w=i[_],C=o[_]*h,b=w>C?w-C:C-w;if(b>a)return 1/0;p+=b}return p/u}}Se.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Se.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Se.MAX_AVG_VARIANCE=.42,Se.MAX_INDIVIDUAL_VARIANCE=.8,Se.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Se.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Se.MAX_PIXEL_DRIFT=3,Se.MAX_PATTERN_DRIFT=5,Se.SKIPPED_ROW_COUNT_MAX=25,Se.ROW_STEP=5,Se.BARCODE_MIN_HEIGHT=10;class Ze{constructor(i,o){if(0===o.length)throw new ne;this.field=i;let a=o.length;if(a>1&&0===o[0]){let l=1;for(;l<a&&0===o[l];)l++;l===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-l),qe.arraycopy(o,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(0===i)return this.getCoefficient(0);if(1===i){let l=0;for(let u of this.coefficients)l=this.field.add(l,u);return l}let o=this.coefficients[0],a=this.coefficients.length;for(let l=1;l<a;l++)o=this.field.add(this.field.multiply(i,o),this.coefficients[l]);return o}add(i){if(!this.field.equals(i.field))throw new ne("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,a=i.coefficients;if(o.length>a.length){let d=o;o=a,a=d}let l=new Int32Array(a.length),u=a.length-o.length;qe.arraycopy(a,0,l,0,u);for(let d=u;d<a.length;d++)l[d]=this.field.add(o[d-u],a[d]);return new Ze(this.field,l)}subtract(i){if(!this.field.equals(i.field))throw new ne("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof Ze?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new ne("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new Ze(this.field,new Int32Array([0]));let o=this.coefficients,a=o.length,l=i.coefficients,u=l.length,d=new Int32Array(a+u-1);for(let h=0;h<a;h++){let p=o[h];for(let _=0;_<u;_++)d[h+_]=this.field.add(d[h+_],this.field.multiply(p,l[_]))}return new Ze(this.field,d)}negative(){let i=this.coefficients.length,o=new Int32Array(i);for(let a=0;a<i;a++)o[a]=this.field.subtract(0,this.coefficients[a]);return new Ze(this.field,o)}multiplyScalar(i){if(0===i)return new Ze(this.field,new Int32Array([0]));if(1===i)return this;let o=this.coefficients.length,a=new Int32Array(o);for(let l=0;l<o;l++)a[l]=this.field.multiply(this.coefficients[l],i);return new Ze(this.field,a)}multiplyByMonomial(i,o){if(i<0)throw new ne;if(0===o)return new Ze(this.field,new Int32Array([0]));let a=this.coefficients.length,l=new Int32Array(a+i);for(let u=0;u<a;u++)l[u]=this.field.multiply(this.coefficients[u],o);return new Ze(this.field,l)}toString(){let i=new ze;for(let o=this.getDegree();o>=0;o--){let a=this.getCoefficient(o);0!==a&&(a<0?(i.append(" - "),a=-a):i.length()>0&&i.append(" + "),(0===o||1!==a)&&i.append(a),0!==o&&(1===o?i.append("x"):(i.append("x^"),i.append(o))))}return i.toString()}}class qs extends class Ye{add(i,o){return(i+o)%this.modulus}subtract(i,o){return(this.modulus+i-o)%this.modulus}exp(i){return this.expTable[i]}log(i){if(0===i)throw new ne;return this.logTable[i]}inverse(i){if(0===i)throw new ks;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,o){return 0===i||0===o?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}{constructor(i,o){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let a=1;for(let l=0;l<i;l++)this.expTable[l]=a,a=a*o%i;for(let l=0;l<i-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new Ze(this,new Int32Array([0])),this.one=new Ze(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new ne;if(0===o)return this.zero;let a=new Int32Array(i+1);return a[0]=o,new Ze(this,a)}}qs.PDF417_GF=new qs(pe.NUMBER_OF_CODEWORDS,3);class Fc{constructor(){this.field=qs.PDF417_GF}decode(i,o,a){let l=new Ze(this.field,i),u=new Int32Array(o),d=!1;for(let v=o;v>0;v--){let M=l.evaluateAt(this.field.exp(v));u[o-v]=M,0!==M&&(d=!0)}if(!d)return 0;let h=this.field.getOne();if(null!=a)for(const v of a){let M=this.field.exp(i.length-1-v),N=new Ze(this.field,new Int32Array([this.field.subtract(0,M),1]));h=h.multiply(N)}let p=new Ze(this.field,u),_=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),p,o),w=_[0],C=_[1],b=this.findErrorLocations(w),I=this.findErrorMagnitudes(C,w,b);for(let v=0;v<b.length;v++){let M=i.length-1-this.field.log(b[v]);if(M<0)throw bt.getChecksumInstance();i[M]=this.field.subtract(i[M],I[v])}return b.length}runEuclideanAlgorithm(i,o,a){if(i.getDegree()<o.getDegree()){let b=i;i=o,o=b}let l=i,u=o,d=this.field.getZero(),h=this.field.getOne();for(;u.getDegree()>=Math.round(a/2);){let b=l,I=d;if(l=u,d=h,l.isZero())throw bt.getChecksumInstance();u=b;let v=this.field.getZero(),M=l.getCoefficient(l.getDegree()),N=this.field.inverse(M);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){let L=u.getDegree()-l.getDegree(),W=this.field.multiply(u.getCoefficient(u.getDegree()),N);v=v.add(this.field.buildMonomial(L,W)),u=u.subtract(l.multiplyByMonomial(L,W))}h=v.multiply(d).subtract(I).negative()}let p=h.getCoefficient(0);if(0===p)throw bt.getChecksumInstance();let _=this.field.inverse(p);return[h.multiply(_),u.multiply(_)]}findErrorLocations(i){let o=i.getDegree(),a=new Int32Array(o),l=0;for(let u=1;u<this.field.getSize()&&l<o;u++)0===i.evaluateAt(u)&&(a[l]=this.field.inverse(u),l++);if(l!==o)throw bt.getChecksumInstance();return a}findErrorMagnitudes(i,o,a){let l=o.getDegree(),u=new Int32Array(l);for(let _=1;_<=l;_++)u[l-_]=this.field.multiply(_,o.getCoefficient(_));let d=new Ze(this.field,u),h=a.length,p=new Int32Array(h);for(let _=0;_<h;_++){let w=this.field.inverse(a[_]),C=this.field.subtract(0,i.evaluateAt(w)),b=this.field.inverse(d.evaluateAt(w));p[_]=this.field.multiply(C,b)}return p}}class Zr{constructor(i,o,a,l,u){i instanceof Zr?this.constructor_2(i):this.constructor_1(i,o,a,l,u)}constructor_1(i,o,a,l,u){const d=null==o||null==a,h=null==l||null==u;if(d&&h)throw new V;d?(o=new oe(0,l.getY()),a=new oe(0,u.getY())):h&&(l=new oe(i.getWidth()-1,o.getY()),u=new oe(i.getWidth()-1,a.getY())),this.image=i,this.topLeft=o,this.bottomLeft=a,this.topRight=l,this.bottomRight=u,this.minX=Math.trunc(Math.min(o.getX(),a.getX())),this.maxX=Math.trunc(Math.max(l.getX(),u.getX())),this.minY=Math.trunc(Math.min(o.getY(),l.getY())),this.maxY=Math.trunc(Math.max(a.getY(),u.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,o){return null==i?o:null==o?i:new Zr(i.image,i.topLeft,i.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(i,o,a){let l=this.topLeft,u=this.bottomLeft,d=this.topRight,h=this.bottomRight;if(i>0){let p=a?this.topLeft:this.topRight,_=Math.trunc(p.getY()-i);_<0&&(_=0);let w=new oe(p.getX(),_);a?l=w:d=w}if(o>0){let p=a?this.bottomLeft:this.bottomRight,_=Math.trunc(p.getY()+o);_>=this.image.getHeight()&&(_=this.image.getHeight()-1);let w=new oe(p.getX(),_);a?u=w:h=w}return new Zr(this.image,l,u,d,h)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ct{constructor(i,o,a,l){this.columnCount=i,this.errorCorrectionLevel=l,this.rowCountUpperPart=o,this.rowCountLowerPart=a,this.rowCount=o+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Vi{constructor(){this.buffer=""}static form(i,o){let a=-1;return i.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function l(d,h,p,_,w,C){if("%%"===d)return"%";if(void 0===o[++a])return;d=_?parseInt(_.substr(1)):void 0;let I,b=w?parseInt(w.substr(1)):void 0;switch(C){case"s":I=o[a];break;case"c":I=o[a][0];break;case"f":I=parseFloat(o[a]).toFixed(d);break;case"p":I=parseFloat(o[a]).toPrecision(d);break;case"e":I=parseFloat(o[a]).toExponential(d);break;case"x":I=parseInt(o[a]).toString(b||16);break;case"d":I=parseFloat(parseInt(o[a],b||10).toPrecision(d)).toFixed(0)}I="object"==typeof I?JSON.stringify(I):(+I).toString(b);let v=parseInt(p),M=p&&p[0]+""=="0"?"0":" ";for(;I.length<v;)I=void 0!==h?I+M:M+I;return I})}format(i,...o){this.buffer+=Vi.form(i,o)}toString(){return this.buffer}}let br=(()=>{class y{constructor(o){this.boundingBox=new Zr(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let a=this.getCodeword(o);if(null!=a)return a;for(let l=1;l<y.MAX_NEARBY_DISTANCE;l++){let u=this.imageRowToCodewordIndex(o)-l;if(u>=0&&(a=this.codewords[u],null!=a)||(u=this.imageRowToCodewordIndex(o)+l,u<this.codewords.length&&(a=this.codewords[u],null!=a)))return a}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,a){this.codewords[this.imageRowToCodewordIndex(o)]=a}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const o=new Vi;let a=0;for(const l of this.codewords)null!=l?o.format("%3d: %3d|%3d%n",a++,l.getRowNumber(),l.getValue()):o.format("%3d:    |   %n",a++);return o.toString()}}return y.MAX_NEARBY_DISTANCE=5,y})();class sr{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let o=this.values.get(i);null==o&&(o=0),o++,this.values.set(i,o)}getValue(){let i=-1,o=new Array;for(const[a,l]of this.values.entries()){const u={getKey:()=>a,getValue:()=>l};u.getValue()>i?(i=u.getValue(),o=[],o.push(u.getKey())):u.getValue()===i&&o.push(u.getKey())}return pe.toIntArray(o)}getConfidence(i){return this.values.get(i)}}class Bc extends br{constructor(i,o){super(i),this._isLeft=o}setRowNumbers(){for(let i of this.getCodewords())i?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,i);let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),u=this._isLeft?a.getBottomLeft():a.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.imageRowToCodewordIndex(Math.trunc(u.getY())),p=-1,_=1,w=0;for(let C=d;C<h;C++){if(null==o[C])continue;let b=o[C],I=b.getRowNumber()-p;if(0===I)w++;else if(1===I)_=Math.max(_,w),w=1,p=b.getRowNumber();else if(I<0||b.getRowNumber()>=i.getRowCount()||I>C)o[C]=null;else{let v;v=_>2?(_-2)*I:I;let M=v>=C;for(let N=1;N<=v&&!M;N++)M=null!=o[C-N];M?o[C]=null:(p=b.getRowNumber(),w=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(null==i)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let o=new Int32Array(i.getRowCount());for(let a of this.getCodewords())if(null!=a){let l=a.getRowNumber();if(l>=o.length)continue;o[l]++}return o}adjustIncompleteIndicatorColumnRowNumbers(i){let o=this.getBoundingBox(),a=this._isLeft?o.getTopLeft():o.getTopRight(),l=this._isLeft?o.getBottomLeft():o.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.getCodewords(),p=-1;for(let _=u;_<d;_++){if(null==h[_])continue;let w=h[_];w.setRowNumberAsRowIndicatorColumn();let C=w.getRowNumber()-p;0===C||(1===C?p=w.getRowNumber():w.getRowNumber()>=i.getRowCount()?h[_]=null:p=w.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),o=new sr,a=new sr,l=new sr,u=new sr;for(let h of i){if(null==h)continue;h.setRowNumberAsRowIndicatorColumn();let p=h.getValue()%30,_=h.getRowNumber();switch(this._isLeft||(_+=2),_%3){case 0:a.setValue(3*p+1);break;case 1:u.setValue(p/3),l.setValue(p%3);break;case 2:o.setValue(p+1)}}if(0===o.getValue().length||0===a.getValue().length||0===l.getValue().length||0===u.getValue().length||o.getValue()[0]<1||a.getValue()[0]+l.getValue()[0]<pe.MIN_ROWS_IN_BARCODE||a.getValue()[0]+l.getValue()[0]>pe.MAX_ROWS_IN_BARCODE)return null;let d=new ct(o.getValue()[0],a.getValue()[0],l.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,d),d}removeIncorrectCodewords(i,o){for(let a=0;a<i.length;a++){let l=i[a];if(null==i[a])continue;let u=l.getValue()%30,d=l.getRowNumber();if(d>o.getRowCount())i[a]=null;else switch(this._isLeft||(d+=2),d%3){case 0:3*u+1!==o.getRowCountUpperPart()&&(i[a]=null);break;case 1:(Math.trunc(u/3)!==o.getErrorCorrectionLevel()||u%3!==o.getRowCountLowerPart())&&(i[a]=null);break;case 2:u+1!==o.getColumnCount()&&(i[a]=null)}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class Qr{constructor(i,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o,i=pe.MAX_CODEWORDS_IN_BARCODE;do{o=i,i=this.adjustRowNumbersAndGetCount()}while(i>0&&i<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(0===i)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let a=this.detectionResultColumns[o].getCodewords();for(let l=0;l<a.length;l++)null!=a[l]&&(a[l].hasValidRowNumber()||this.adjustRowNumbers(o,l,a))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(null==this.detectionResultColumns[0]||null==this.detectionResultColumns[this.barcodeColumnCount+1])return;let i=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<i.length;a++)if(null!=i[a]&&null!=o[a]&&i[a].getRowNumber()===o[a].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let u=this.detectionResultColumns[l].getCodewords()[a];null!=u&&(u.setRowNumber(i[a].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;let i=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<o.length;a++){if(null==o[a])continue;let l=o[a].getRowNumber(),u=0;for(let d=this.barcodeColumnCount+1;d>0&&u<this.ADJUST_ROW_NUMBER_SKIP;d--){let h=this.detectionResultColumns[d].getCodewords()[a];null!=h&&(u=Qr.adjustRowNumberIfValid(l,u,h),h.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(null==this.detectionResultColumns[0])return 0;let i=0,o=this.detectionResultColumns[0].getCodewords();for(let a=0;a<o.length;a++){if(null==o[a])continue;let l=o[a].getRowNumber(),u=0;for(let d=1;d<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;d++){let h=this.detectionResultColumns[d].getCodewords()[a];null!=h&&(u=Qr.adjustRowNumberIfValid(l,u,h),h.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,o,a){return null==a||a.hasValidRowNumber()||(a.isValidRowNumber(i)?(a.setRowNumber(i),o=0):++o),o}adjustRowNumbers(i,o,a){if(!this.detectionResultColumns[i-1])return;let l=a[o],u=this.detectionResultColumns[i-1].getCodewords(),d=u;null!=this.detectionResultColumns[i+1]&&(d=this.detectionResultColumns[i+1].getCodewords());let h=new Array(14);h[2]=u[o],h[3]=d[o],o>0&&(h[0]=a[o-1],h[4]=u[o-1],h[5]=d[o-1]),o>1&&(h[8]=a[o-2],h[10]=u[o-2],h[11]=d[o-2]),o<a.length-1&&(h[1]=a[o+1],h[6]=u[o+1],h[7]=d[o+1]),o<a.length-2&&(h[9]=a[o+2],h[12]=u[o+2],h[13]=d[o+2]);for(let p of h)if(Qr.adjustRowNumber(l,p))return}static adjustRowNumber(i,o){return!(null==o||!o.hasValidRowNumber()||o.getBucket()!==i.getBucket()||(i.setRowNumber(o.getRowNumber()),0))}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,o){this.detectionResultColumns[i]=o}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];null==i&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new Vi;for(let a=0;a<i.getCodewords().length;a++){o.format("CW %3d:",a);for(let l=0;l<this.barcodeColumnCount+2;l++){if(null==this.detectionResultColumns[l]){o.format("    |   ");continue}let u=this.detectionResultColumns[l].getCodewords()[a];null!=u?o.format(" %3d|%3d",u.getRowNumber(),u.getValue()):o.format("    |   ")}o.format("%n")}return o.toString()}}let kc=(()=>{class y{constructor(o,a,l,u){this.rowNumber=y.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(a),this.bucket=Math.trunc(l),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==y.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}return y.BARCODE_ROW_UNKNOWN=-1,y})();class en{static initialize(){for(let i=0;i<pe.SYMBOL_TABLE.length;i++){let o=pe.SYMBOL_TABLE[i],a=1&o;for(let l=0;l<pe.BARS_IN_MODULE;l++){let u=0;for(;(1&o)===a;)u+=1,o>>=1;a=1&o,en.RATIOS_TABLE[i]||(en.RATIOS_TABLE[i]=new Array(pe.BARS_IN_MODULE)),en.RATIOS_TABLE[i][pe.BARS_IN_MODULE-l-1]=Math.fround(u/pe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let o=en.getDecodedCodewordValue(en.sampleBitCounts(i));return-1!==o?o:en.getClosestDecodedValue(i)}static sampleBitCounts(i){let o=Ve.sum(i),a=new Int32Array(pe.BARS_IN_MODULE),l=0,u=0;for(let d=0;d<pe.MODULES_IN_CODEWORD;d++)u+i[l]<=o/(2*pe.MODULES_IN_CODEWORD)+d*o/pe.MODULES_IN_CODEWORD&&(u+=i[l],l++),a[l]++;return a}static getDecodedCodewordValue(i){let o=en.getBitValue(i);return-1===pe.getCodeword(o)?-1:o}static getBitValue(i){let o=0;for(let a=0;a<i.length;a++)for(let l=0;l<i[a];l++)o=o<<1|(a%2==0?1:0);return Math.trunc(o)}static getClosestDecodedValue(i){let o=Ve.sum(i),a=new Array(pe.BARS_IN_MODULE);if(o>1)for(let d=0;d<a.length;d++)a[d]=Math.fround(i[d]/o);let l=To.MAX_VALUE,u=-1;this.bSymbolTableReady||en.initialize();for(let d=0;d<en.RATIOS_TABLE.length;d++){let h=0,p=en.RATIOS_TABLE[d];for(let _=0;_<pe.BARS_IN_MODULE;_++){let w=Math.fround(p[_]-a[_]);if(h+=Math.fround(w*w),h>=l)break}h<l&&(l=h,u=pe.SYMBOL_TABLE[d])}return u}}en.bSymbolTableReady=!1,en.RATIOS_TABLE=new Array(pe.SYMBOL_TABLE.length).map(y=>new Array(pe.BARS_IN_MODULE));class Uo{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class gi{static parseLong(i,o){return parseInt(i,o)}}let jo=(()=>{class y extends Gt{}return y.kind="NullPointerException",y})();class Vc extends Gt{}class ye extends class $s{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,o,a){if(null==i)throw new jo;if(o<0||o>i.length||a<0||o+a>i.length||o+a<0)throw new vo;if(0!==a)for(let l=0;l<a;l++)this.write(i[o+l])}flush(){}close(){}}{constructor(i=32){if(super(),this.count=0,i<0)throw new ne("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let a=this.buf.length<<1;if(a-i<0&&(a=i),a<0){if(i<0)throw new Vc;a=we.MAX_VALUE}this.buf=Et.copyOfUint8Array(this.buf,a)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,o,a){if(o<0||o>i.length||a<0||o+a-i.length>0)throw new vo;this.ensureCapacity(this.count+a),qe.arraycopy(i,o,this.buf,this.count,a),this.count+=a}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Et.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?"string"==typeof i?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var Ge=(()=>{return(y=Ge||(Ge={}))[y.ALPHA=0]="ALPHA",y[y.LOWER=1]="LOWER",y[y.MIXED=2]="MIXED",y[y.PUNCT=3]="PUNCT",y[y.ALPHA_SHIFT=4]="ALPHA_SHIFT",y[y.PUNCT_SHIFT=5]="PUNCT_SHIFT",Ge;var y})();function Ks(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Qt;function Yn(y){if(typeof Qt>"u"&&(Qt=Ks()),null===Qt)throw new Error("BigInt is not supported!");return Qt(y)}class P{static decode(i,o){let a=new ze(""),l=Y.ISO8859_1;a.enableDecoding(l);let u=1,d=i[u++],h=new Uo;for(;u<i[0];){switch(d){case P.TEXT_COMPACTION_MODE_LATCH:u=P.textCompaction(i,u,a);break;case P.BYTE_COMPACTION_MODE_LATCH:case P.BYTE_COMPACTION_MODE_LATCH_6:u=P.byteCompaction(d,i,l,u,a);break;case P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[u++]);break;case P.NUMERIC_COMPACTION_MODE_LATCH:u=P.numericCompaction(i,u,a);break;case P.ECI_CHARSET:Y.getCharacterSetECIByValue(i[u++]);break;case P.ECI_GENERAL_PURPOSE:u+=2;break;case P.ECI_USER_DEFINED:u++;break;case P.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=P.decodeMacroBlock(i,u,h);break;case P.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case P.MACRO_PDF417_TERMINATOR:throw new Q;default:u--,u=P.textCompaction(i,u,a)}if(!(u<i.length))throw Q.getFormatInstance();d=i[u++]}if(0===a.length())throw Q.getFormatInstance();let p=new li(null,a.toString(),null,o);return p.setOther(h),p}static decodeMacroBlock(i,o,a){if(o+P.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw Q.getFormatInstance();let l=new Int32Array(P.NUMBER_OF_SEQUENCE_CODEWORDS);for(let h=0;h<P.NUMBER_OF_SEQUENCE_CODEWORDS;h++,o++)l[h]=i[o];a.setSegmentIndex(we.parseInt(P.decodeBase900toBase10(l,P.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new ze;o=P.textCompaction(i,o,u),a.setFileId(u.toString());let d=-1;for(i[o]===P.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=o+1);o<i[0];)switch(i[o]){case P.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i[++o]){case P.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let h=new ze;o=P.textCompaction(i,o+1,h),a.setFileName(h.toString());break;case P.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let p=new ze;o=P.textCompaction(i,o+1,p),a.setSender(p.toString());break;case P.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let _=new ze;o=P.textCompaction(i,o+1,_),a.setAddressee(_.toString());break;case P.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let w=new ze;o=P.numericCompaction(i,o+1,w),a.setSegmentCount(we.parseInt(w.toString()));break;case P.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let C=new ze;o=P.numericCompaction(i,o+1,C),a.setTimestamp(gi.parseLong(C.toString()));break;case P.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let b=new ze;o=P.numericCompaction(i,o+1,b),a.setChecksum(we.parseInt(b.toString()));break;case P.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let I=new ze;o=P.numericCompaction(i,o+1,I),a.setFileSize(gi.parseLong(I.toString()));break;default:throw Q.getFormatInstance()}break;case P.MACRO_PDF417_TERMINATOR:o++,a.setLastSegment(!0);break;default:throw Q.getFormatInstance()}if(-1!==d){let h=o-d;a.isLastSegment()&&h--,a.setOptionalData(Et.copyOfRange(i,d,d+h))}return o}static textCompaction(i,o,a){let l=new Int32Array(2*(i[0]-o)),u=new Int32Array(2*(i[0]-o)),d=0,h=!1;for(;o<i[0]&&!h;){let p=i[o++];if(p<P.TEXT_COMPACTION_MODE_LATCH)l[d]=p/30,l[d+1]=p%30,d+=2;else switch(p){case P.TEXT_COMPACTION_MODE_LATCH:l[d++]=P.TEXT_COMPACTION_MODE_LATCH;break;case P.BYTE_COMPACTION_MODE_LATCH:case P.BYTE_COMPACTION_MODE_LATCH_6:case P.NUMERIC_COMPACTION_MODE_LATCH:case P.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case P.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case P.MACRO_PDF417_TERMINATOR:o--,h=!0;break;case P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[d]=P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,p=i[o++],u[d]=p,d++}}return P.decodeTextCompaction(l,u,d,a),o}static decodeTextCompaction(i,o,a,l){let u=Ge.ALPHA,d=Ge.ALPHA,h=0;for(;h<a;){let p=i[h],_="";switch(u){case Ge.ALPHA:if(p<26)_=String.fromCharCode(65+p);else switch(p){case 26:_=" ";break;case P.LL:u=Ge.LOWER;break;case P.ML:u=Ge.MIXED;break;case P.PS:d=u,u=Ge.PUNCT_SHIFT;break;case P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(o[h]);break;case P.TEXT_COMPACTION_MODE_LATCH:u=Ge.ALPHA}break;case Ge.LOWER:if(p<26)_=String.fromCharCode(97+p);else switch(p){case 26:_=" ";break;case P.AS:d=u,u=Ge.ALPHA_SHIFT;break;case P.ML:u=Ge.MIXED;break;case P.PS:d=u,u=Ge.PUNCT_SHIFT;break;case P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(o[h]);break;case P.TEXT_COMPACTION_MODE_LATCH:u=Ge.ALPHA}break;case Ge.MIXED:if(p<P.PL)_=P.MIXED_CHARS[p];else switch(p){case P.PL:u=Ge.PUNCT;break;case 26:_=" ";break;case P.LL:u=Ge.LOWER;break;case P.AL:u=Ge.ALPHA;break;case P.PS:d=u,u=Ge.PUNCT_SHIFT;break;case P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(o[h]);break;case P.TEXT_COMPACTION_MODE_LATCH:u=Ge.ALPHA}break;case Ge.PUNCT:if(p<P.PAL)_=P.PUNCT_CHARS[p];else switch(p){case P.PAL:u=Ge.ALPHA;break;case P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(o[h]);break;case P.TEXT_COMPACTION_MODE_LATCH:u=Ge.ALPHA}break;case Ge.ALPHA_SHIFT:if(u=d,p<26)_=String.fromCharCode(65+p);else switch(p){case 26:_=" ";break;case P.TEXT_COMPACTION_MODE_LATCH:u=Ge.ALPHA}break;case Ge.PUNCT_SHIFT:if(u=d,p<P.PAL)_=P.PUNCT_CHARS[p];else switch(p){case P.PAL:u=Ge.ALPHA;break;case P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(o[h]);break;case P.TEXT_COMPACTION_MODE_LATCH:u=Ge.ALPHA}}""!==_&&l.append(_),h++}}static byteCompaction(i,o,a,l,u){let d=new ye,h=0,p=0,_=!1;switch(i){case P.BYTE_COMPACTION_MODE_LATCH:let w=new Int32Array(6),C=o[l++];for(;l<o[0]&&!_;)switch(w[h++]=C,p=900*p+C,C=o[l++],C){case P.TEXT_COMPACTION_MODE_LATCH:case P.BYTE_COMPACTION_MODE_LATCH:case P.NUMERIC_COMPACTION_MODE_LATCH:case P.BYTE_COMPACTION_MODE_LATCH_6:case P.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case P.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case P.MACRO_PDF417_TERMINATOR:l--,_=!0;break;default:if(h%5==0&&h>0){for(let b=0;b<6;++b)d.write(Number(Yn(p)>>Yn(8*(5-b))));p=0,h=0}}l===o[0]&&C<P.TEXT_COMPACTION_MODE_LATCH&&(w[h++]=C);for(let b=0;b<h;b++)d.write(w[b]);break;case P.BYTE_COMPACTION_MODE_LATCH_6:for(;l<o[0]&&!_;){let b=o[l++];if(b<P.TEXT_COMPACTION_MODE_LATCH)h++,p=900*p+b;else switch(b){case P.TEXT_COMPACTION_MODE_LATCH:case P.BYTE_COMPACTION_MODE_LATCH:case P.NUMERIC_COMPACTION_MODE_LATCH:case P.BYTE_COMPACTION_MODE_LATCH_6:case P.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case P.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case P.MACRO_PDF417_TERMINATOR:l--,_=!0}if(h%5==0&&h>0){for(let I=0;I<6;++I)d.write(Number(Yn(p)>>Yn(8*(5-I))));p=0,h=0}}}return u.append(Ft.decode(d.toByteArray(),a)),l}static numericCompaction(i,o,a){let l=0,u=!1,d=new Int32Array(P.MAX_NUMERIC_CODEWORDS);for(;o<i[0]&&!u;){let h=i[o++];if(o===i[0]&&(u=!0),h<P.TEXT_COMPACTION_MODE_LATCH)d[l]=h,l++;else switch(h){case P.TEXT_COMPACTION_MODE_LATCH:case P.BYTE_COMPACTION_MODE_LATCH:case P.BYTE_COMPACTION_MODE_LATCH_6:case P.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case P.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case P.MACRO_PDF417_TERMINATOR:o--,u=!0}(l%P.MAX_NUMERIC_CODEWORDS==0||h===P.NUMERIC_COMPACTION_MODE_LATCH||u)&&l>0&&(a.append(P.decodeBase900toBase10(d,l)),l=0)}return o}static decodeBase900toBase10(i,o){let a=Yn(0);for(let u=0;u<o;u++)a+=P.EXP900[o-u-1]*Yn(i[u]);let l=a.toString();if("1"!==l.charAt(0))throw new Q;return l.substring(1)}}P.TEXT_COMPACTION_MODE_LATCH=900,P.BYTE_COMPACTION_MODE_LATCH=901,P.NUMERIC_COMPACTION_MODE_LATCH=902,P.BYTE_COMPACTION_MODE_LATCH_6=924,P.ECI_USER_DEFINED=925,P.ECI_GENERAL_PURPOSE=926,P.ECI_CHARSET=927,P.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,P.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,P.MACRO_PDF417_TERMINATOR=922,P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,P.MAX_NUMERIC_CODEWORDS=15,P.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,P.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,P.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,P.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,P.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,P.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,P.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,P.PL=25,P.LL=27,P.AS=27,P.ML=28,P.AL=28,P.PS=29,P.PAL=29,P.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",P.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",P.EXP900=Ks()?function Qd(){let y=[];y[0]=Yn(1);let i=Yn(900);y[1]=i;for(let o=2;o<16;o++)y[o]=y[o-1]*i;return y}():[],P.NUMBER_OF_SEQUENCE_CODEWORDS=2;class de{constructor(){}static decode(i,o,a,l,u,d,h){let C,p=new Zr(i,o,a,l,u),_=null,w=null;for(let v=!0;;v=!1){if(null!=o&&(_=de.getRowIndicatorColumn(i,p,o,!0,d,h)),null!=l&&(w=de.getRowIndicatorColumn(i,p,l,!1,d,h)),C=de.merge(_,w),null==C)throw V.getNotFoundInstance();let M=C.getBoundingBox();if(!v||null==M||!(M.getMinY()<p.getMinY()||M.getMaxY()>p.getMaxY()))break;p=M}C.setBoundingBox(p);let b=C.getBarcodeColumnCount()+1;C.setDetectionResultColumn(0,_),C.setDetectionResultColumn(b,w);let I=null!=_;for(let v=1;v<=b;v++){let N,M=I?v:b-v;if(void 0!==C.getDetectionResultColumn(M))continue;N=0===M||M===b?new Bc(p,0===M):new br(p),C.setDetectionResultColumn(M,N);let L=-1,W=L;for(let Z=p.getMinY();Z<=p.getMaxY();Z++){if(L=de.getStartColumn(C,M,Z,I),L<0||L>p.getMaxX()){if(-1===W)continue;L=W}let B=de.detectCodeword(i,p.getMinX(),p.getMaxX(),I,L,Z,d,h);null!=B&&(N.setCodeword(Z,B),W=L,d=Math.min(d,B.getWidth()),h=Math.max(h,B.getWidth()))}}return de.createDecoderResult(C)}static merge(i,o){if(null==i&&null==o)return null;let a=de.getBarcodeMetadata(i,o);if(null==a)return null;let l=Zr.merge(de.adjustBoundingBox(i),de.adjustBoundingBox(o));return new Qr(a,l)}static adjustBoundingBox(i){if(null==i)return null;let o=i.getRowHeights();if(null==o)return null;let a=de.getMax(o),l=0;for(let h of o)if(l+=a-h,h>0)break;let u=i.getCodewords();for(let h=0;l>0&&null==u[h];h++)l--;let d=0;for(let h=o.length-1;h>=0&&(d+=a-o[h],!(o[h]>0));h--);for(let h=u.length-1;d>0&&null==u[h];h--)d--;return i.getBoundingBox().addMissingRows(l,d,i.isLeft())}static getMax(i){let o=-1;for(let a of i)o=Math.max(o,a);return o}static getBarcodeMetadata(i,o){let a,l;return null==i||null==(a=i.getBarcodeMetadata())?null==o?null:o.getBarcodeMetadata():null==o||null==(l=o.getBarcodeMetadata())?a:a.getColumnCount()!==l.getColumnCount()&&a.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&a.getRowCount()!==l.getRowCount()?null:a}static getRowIndicatorColumn(i,o,a,l,u,d){let h=new Bc(o,l);for(let p=0;p<2;p++){let _=0===p?1:-1,w=Math.trunc(Math.trunc(a.getX()));for(let C=Math.trunc(Math.trunc(a.getY()));C<=o.getMaxY()&&C>=o.getMinY();C+=_){let b=de.detectCodeword(i,0,i.getWidth(),l,w,C,u,d);null!=b&&(h.setCodeword(C,b),w=l?b.getStartX():b.getEndX())}}return h}static adjustCodewordCount(i,o){let a=o[0][1],l=a.getValue(),u=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-de.getNumberOfECCodeWords(i.getBarcodeECLevel());if(0===l.length){if(u<1||u>pe.MAX_CODEWORDS_IN_BARCODE)throw V.getNotFoundInstance();a.setValue(u)}else l[0]!==u&&a.setValue(u)}static createDecoderResult(i){let o=de.createBarcodeMatrix(i);de.adjustCodewordCount(i,o);let a=new Array,l=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),u=[],d=new Array;for(let p=0;p<i.getBarcodeRowCount();p++)for(let _=0;_<i.getBarcodeColumnCount();_++){let w=o[p][_+1].getValue(),C=p*i.getBarcodeColumnCount()+_;0===w.length?a.push(C):1===w.length?l[C]=w[0]:(d.push(C),u.push(w))}let h=new Array(u.length);for(let p=0;p<h.length;p++)h[p]=u[p];return de.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),l,pe.toIntArray(a),pe.toIntArray(d),h)}static createDecoderResultFromAmbiguousValues(i,o,a,l,u){let d=new Int32Array(l.length),h=100;for(;h-- >0;){for(let p=0;p<d.length;p++)o[l[p]]=u[p][d[p]];try{return de.decodeCodewords(o,i,a)}catch(p){if(!(p instanceof bt))throw p}if(0===d.length)throw bt.getChecksumInstance();for(let p=0;p<d.length;p++){if(d[p]<u[p].length-1){d[p]++;break}if(d[p]=0,p===d.length-1)throw bt.getChecksumInstance()}}throw bt.getChecksumInstance()}static createBarcodeMatrix(i){let o=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let l=0;l<o.length;l++)for(let u=0;u<o[l].length;u++)o[l][u]=new sr;let a=0;for(let l of i.getDetectionResultColumns()){if(null!=l)for(let u of l.getCodewords())if(null!=u){let d=u.getRowNumber();if(d>=0){if(d>=o.length)continue;o[d][a].setValue(u.getValue())}}a++}return o}static isValidBarcodeColumn(i,o){return o>=0&&o<=i.getBarcodeColumnCount()+1}static getStartColumn(i,o,a,l){let u=l?1:-1,d=null;if(de.isValidBarcodeColumn(i,o-u)&&(d=i.getDetectionResultColumn(o-u).getCodeword(a)),null!=d)return l?d.getEndX():d.getStartX();if(d=i.getDetectionResultColumn(o).getCodewordNearby(a),null!=d)return l?d.getStartX():d.getEndX();if(de.isValidBarcodeColumn(i,o-u)&&(d=i.getDetectionResultColumn(o-u).getCodewordNearby(a)),null!=d)return l?d.getEndX():d.getStartX();let h=0;for(;de.isValidBarcodeColumn(i,o-u);){o-=u;for(let p of i.getDetectionResultColumn(o).getCodewords())if(null!=p)return(l?p.getEndX():p.getStartX())+u*h*(p.getEndX()-p.getStartX());h++}return l?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,o,a,l,u,d,h,p){u=de.adjustCodewordStartColumn(i,o,a,l,u,d);let _=de.getModuleBitCount(i,o,a,l,u,d);if(null==_)return null;let w,C=Ve.sum(_);if(l)w=u+C;else{for(let v=0;v<_.length/2;v++){let M=_[v];_[v]=_[_.length-1-v],_[_.length-1-v]=M}w=u,u=w-C}if(!de.checkCodewordSkew(C,h,p))return null;let b=en.getDecodedValue(_),I=pe.getCodeword(b);return-1===I?null:new kc(u,w,de.getCodewordBucketNumber(b),I)}static getModuleBitCount(i,o,a,l,u,d){let h=u,p=new Int32Array(8),_=0,w=l?1:-1,C=l;for(;(l?h<a:h>=o)&&_<p.length;)i.get(h,d)===C?(p[_]++,h+=w):(_++,C=!C);return _===p.length||h===(l?a:o)&&_===p.length-1?p:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,o,a,l,u,d){let h=u,p=l?-1:1;for(let _=0;_<2;_++){for(;(l?h>=o:h<a)&&l===i.get(h,d);){if(Math.abs(u-h)>de.CODEWORD_SKEW_SIZE)return u;h+=p}p=-p,l=!l}return h}static checkCodewordSkew(i,o,a){return o-de.CODEWORD_SKEW_SIZE<=i&&i<=a+de.CODEWORD_SKEW_SIZE}static decodeCodewords(i,o,a){if(0===i.length)throw Q.getFormatInstance();let l=1<<o+1,u=de.correctErrors(i,a,l);de.verifyCodewordCount(i,l);let d=P.decode(i,""+o);return d.setErrorsCorrected(u),d.setErasures(a.length),d}static correctErrors(i,o,a){if(null!=o&&o.length>a/2+de.MAX_ERRORS||a<0||a>de.MAX_EC_CODEWORDS)throw bt.getChecksumInstance();return de.errorCorrection.decode(i,a,o)}static verifyCodewordCount(i,o){if(i.length<4)throw Q.getFormatInstance();let a=i[0];if(a>i.length)throw Q.getFormatInstance();if(0===a){if(!(o<i.length))throw Q.getFormatInstance();i[0]=i.length-o}}static getBitCountForCodeword(i){let o=new Int32Array(8),a=0,l=o.length-1;for(;!((1&i)!==a&&(a=1&i,l--,l<0));)o[l]++,i>>=1;return o}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return de.getCodewordBucketNumber(de.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let o=new Vi;for(let a=0;a<i.length;a++){o.format("Row %2d: ",a);for(let l=0;l<i[a].length;l++){let u=i[a][l];0===u.getValue().length?o.format("        ",null):o.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}o.format("%n")}return o.toString()}}de.CODEWORD_SKEW_SIZE=2,de.MAX_ERRORS=3,de.MAX_EC_CODEWORDS=512,de.errorCorrection=new Fc;class Wt{decode(i,o=null){let a=Wt.decode(i,o,!1);if(null==a||0===a.length||null==a[0])throw V.getNotFoundInstance();return a[0]}decodeMultiple(i,o=null){try{return Wt.decode(i,o,!0)}catch(a){throw a instanceof Q||a instanceof bt?V.getNotFoundInstance():a}}static decode(i,o,a){const l=new Array,u=Se.detectMultiple(i,o,a);for(const d of u.getPoints()){const h=de.decode(u.getBits(),d[4],d[5],d[6],d[7],Wt.getMinCodewordWidth(d),Wt.getMaxCodewordWidth(d)),p=new Bt(h.getText(),h.getRawBytes(),void 0,d,le.PDF_417);p.putMetadata(xt.ERROR_CORRECTION_LEVEL,h.getECLevel());const _=h.getOther();null!=_&&p.putMetadata(xt.PDF417_EXTRA_METADATA,_),l.push(p)}return l.map(d=>d)}static getMaxWidth(i,o){return null==i||null==o?0:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMinWidth(i,o){return null==i||null==o?we.MAX_VALUE:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(Wt.getMaxWidth(i[0],i[4]),Wt.getMaxWidth(i[6],i[2])*pe.MODULES_IN_CODEWORD/pe.MODULES_IN_STOP_PATTERN),Math.max(Wt.getMaxWidth(i[1],i[5]),Wt.getMaxWidth(i[7],i[3])*pe.MODULES_IN_CODEWORD/pe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(Wt.getMinWidth(i[0],i[4]),Wt.getMinWidth(i[6],i[2])*pe.MODULES_IN_CODEWORD/pe.MODULES_IN_STOP_PATTERN),Math.min(Wt.getMinWidth(i[1],i[5]),Wt.getMinWidth(i[7],i[3])*pe.MODULES_IN_CODEWORD/pe.MODULES_IN_STOP_PATTERN)))}reset(){}}let Js=(()=>{class y extends Gt{}return y.kind="ReaderException",y})();class Sn{constructor(i,o){this.verbose=!0===i,o&&this.setHints(o)}decode(i,o){return o&&this.setHints(o),this.decodeInternal(i)}decodeWithState(i){return null==this.readers&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const o=!nt(i)&&!0===i.get(rt.TRY_HARDER),a=nt(i)?null:i.get(rt.POSSIBLE_FORMATS),l=new Array;if(!nt(a)){const u=a.some(d=>d===le.UPC_A||d===le.UPC_E||d===le.EAN_13||d===le.EAN_8||d===le.CODABAR||d===le.CODE_39||d===le.CODE_93||d===le.CODE_128||d===le.ITF||d===le.RSS_14||d===le.RSS_EXPANDED);u&&!o&&l.push(new Yr(i,this.verbose)),a.includes(le.QR_CODE)&&l.push(new or),a.includes(le.DATA_MATRIX)&&l.push(new Xr),a.includes(le.AZTEC)&&l.push(new Bn),a.includes(le.PDF_417)&&l.push(new Wt),u&&o&&l.push(new Yr(i,this.verbose))}0===l.length&&(o||l.push(new Yr(i,this.verbose)),l.push(new or),l.push(new Xr),l.push(new Bn),l.push(new Wt),o&&l.push(new Yr(i,this.verbose))),this.readers=l}reset(){if(null!==this.readers)for(const i of this.readers)i.reset()}decodeInternal(i){if(null===this.readers)throw new Js("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(i,this.hints)}catch(a){if(a instanceof Js)continue}throw new V("No MultiFormat Readers were able to detect the code.")}}var Xn=(()=>{return(y=Xn||(Xn={}))[y.ERROR_CORRECTION=0]="ERROR_CORRECTION",y[y.CHARACTER_SET=1]="CHARACTER_SET",y[y.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",y[y.MIN_SIZE=3]="MIN_SIZE",y[y.MAX_SIZE=4]="MAX_SIZE",y[y.MARGIN=5]="MARGIN",y[y.PDF417_COMPACT=6]="PDF417_COMPACT",y[y.PDF417_COMPACTION=7]="PDF417_COMPACTION",y[y.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",y[y.AZTEC_LAYERS=9]="AZTEC_LAYERS",y[y.QR_VERSION=10]="QR_VERSION",Xn;var y})(),fe=Xn;class qr{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new zt(i,Int32Array.from([1])))}buildGenerator(i){const o=this.cachedGenerators;if(i>=o.length){let a=o[o.length-1];const l=this.field;for(let u=o.length;u<=i;u++){const d=a.multiply(new zt(l,Int32Array.from([1,l.exp(u-1+l.getGeneratorBase())])));o.push(d),a=d}}return o[i]}encode(i,o){if(0===o)throw new ne("No error correction bytes");const a=i.length-o;if(a<=0)throw new ne("No data bytes provided");const l=this.buildGenerator(o),u=new Int32Array(a);qe.arraycopy(i,0,u,0,a);let d=new zt(this.field,u);d=d.multiplyByMonomial(o,1);const p=d.divide(l)[1].getCoefficients(),_=o-p.length;for(let w=0;w<_;w++)i[a+w]=0;qe.arraycopy(p,0,i,a+_,p.length)}}let ar=(()=>{class y{constructor(){}static applyMaskPenaltyRule1(o){return y.applyMaskPenaltyRule1Internal(o,!0)+y.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let a=0;const l=o.getArray(),u=o.getWidth(),d=o.getHeight();for(let h=0;h<d-1;h++){const p=l[h];for(let _=0;_<u-1;_++){const w=p[_];w===p[_+1]&&w===l[h+1][_]&&w===l[h+1][_+1]&&a++}}return y.N2*a}static applyMaskPenaltyRule3(o){let a=0;const l=o.getArray(),u=o.getWidth(),d=o.getHeight();for(let h=0;h<d;h++)for(let p=0;p<u;p++){const _=l[h];p+6<u&&1===_[p]&&0===_[p+1]&&1===_[p+2]&&1===_[p+3]&&1===_[p+4]&&0===_[p+5]&&1===_[p+6]&&(y.isWhiteHorizontal(_,p-4,p)||y.isWhiteHorizontal(_,p+7,p+11))&&a++,h+6<d&&1===l[h][p]&&0===l[h+1][p]&&1===l[h+2][p]&&1===l[h+3][p]&&1===l[h+4][p]&&0===l[h+5][p]&&1===l[h+6][p]&&(y.isWhiteVertical(l,p,h-4,h)||y.isWhiteVertical(l,p,h+7,h+11))&&a++}return a*y.N3}static isWhiteHorizontal(o,a,l){a=Math.max(a,0),l=Math.min(l,o.length);for(let u=a;u<l;u++)if(1===o[u])return!1;return!0}static isWhiteVertical(o,a,l,u){l=Math.max(l,0),u=Math.min(u,o.length);for(let d=l;d<u;d++)if(1===o[d][a])return!1;return!0}static applyMaskPenaltyRule4(o){let a=0;const l=o.getArray(),u=o.getWidth(),d=o.getHeight();for(let _=0;_<d;_++){const w=l[_];for(let C=0;C<u;C++)1===w[C]&&a++}const h=o.getHeight()*o.getWidth();return Math.floor(10*Math.abs(2*a-h)/h)*y.N4}static getDataMaskBit(o,a,l){let u,d;switch(o){case 0:u=l+a&1;break;case 1:u=1&l;break;case 2:u=a%3;break;case 3:u=(l+a)%3;break;case 4:u=Math.floor(l/2)+Math.floor(a/3)&1;break;case 5:d=l*a,u=(1&d)+d%3;break;case 6:d=l*a,u=(1&d)+d%3&1;break;case 7:d=l*a,u=d%3+(l+a&1)&1;break;default:throw new ne("Invalid mask pattern: "+o)}return 0===u}static applyMaskPenaltyRule1Internal(o,a){let l=0;const u=a?o.getHeight():o.getWidth(),d=a?o.getWidth():o.getHeight(),h=o.getArray();for(let p=0;p<u;p++){let _=0,w=-1;for(let C=0;C<d;C++){const b=a?h[p][C]:h[C][p];b===w?_++:(_>=5&&(l+=y.N1+(_-5)),_=1,w=b)}_>=5&&(l+=y.N1+(_-5))}return l}}return y.N1=3,y.N2=3,y.N3=40,y.N4=10,y})();class $r{constructor(i,o){this.width=i,this.height=o;const a=new Array(o);for(let l=0;l!==o;l++)a[l]=new Uint8Array(i);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(i,o){return this.bytes[o][i]}getArray(){return this.bytes}setNumber(i,o,a){this.bytes[o][i]=a}setBoolean(i,o,a){this.bytes[o][i]=a?1:0}clear(i){for(const o of this.bytes)Et.fill(o,i)}equals(i){if(!(i instanceof $r))return!1;const o=i;if(this.width!==o.width||this.height!==o.height)return!1;for(let a=0,l=this.height;a<l;++a){const u=this.bytes[a],d=o.bytes[a];for(let h=0,p=this.width;h<p;++h)if(u[h]!==d[h])return!1}return!0}toString(){const i=new ze;for(let o=0,a=this.height;o<a;++o){const l=this.bytes[o];for(let u=0,d=this.width;u<d;++u)switch(l[u]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ")}i.append("\n")}return i.toString()}}let pi=(()=>{class y{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const o=new ze;return o.append("<<\n"),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append("\n ecLevel: "),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append("\n version: "),o.append(this.version?this.version.toString():"null"),o.append("\n maskPattern: "),o.append(this.maskPattern.toString()),this.matrix?(o.append("\n matrix:\n"),o.append(this.matrix.toString())):o.append("\n matrix: null\n"),o.append(">>\n"),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<y.NUM_MASK_PATTERNS}}return y.NUM_MASK_PATTERNS=8,y})(),Fe=(()=>{class y extends Gt{}return y.kind="WriterException",y})();class ce{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,o,a,l,u){ce.clearMatrix(u),ce.embedBasicPatterns(a,u),ce.embedTypeInfo(o,l,u),ce.maybeEmbedVersionInfo(a,u),ce.embedDataBits(i,l,u)}static embedBasicPatterns(i,o){ce.embedPositionDetectionPatternsAndSeparators(o),ce.embedDarkDotAtLeftBottomCorner(o),ce.maybeEmbedPositionAdjustmentPatterns(i,o),ce.embedTimingPatterns(o)}static embedTypeInfo(i,o,a){const l=new $e;ce.makeTypeInfoBits(i,o,l);for(let u=0,d=l.getSize();u<d;++u){const h=l.get(l.getSize()-1-u),p=ce.TYPE_INFO_COORDINATES[u];if(a.setBoolean(p[0],p[1],h),u<8){const C=a.getWidth()-u-1;a.setBoolean(C,8,h)}else{const b=a.getHeight()-7+(u-8);a.setBoolean(8,b,h)}}}static maybeEmbedVersionInfo(i,o){if(i.getVersionNumber()<7)return;const a=new $e;ce.makeVersionInfoBits(i,a);let l=17;for(let u=0;u<6;++u)for(let d=0;d<3;++d){const h=a.get(l);l--,o.setBoolean(u,o.getHeight()-11+d,h),o.setBoolean(o.getHeight()-11+d,u,h)}}static embedDataBits(i,o,a){let l=0,u=-1,d=a.getWidth()-1,h=a.getHeight()-1;for(;d>0;){for(6===d&&(d-=1);h>=0&&h<a.getHeight();){for(let p=0;p<2;++p){const _=d-p;if(!ce.isEmpty(a.get(_,h)))continue;let w;l<i.getSize()?(w=i.get(l),++l):w=!1,255!==o&&ar.getDataMaskBit(o,_,h)&&(w=!w),a.setBoolean(_,h,w)}h+=u}u=-u,h+=u,d-=2}if(l!==i.getSize())throw new Fe("Not all bits consumed: "+l+"/"+i.getSize())}static findMSBSet(i){return 32-we.numberOfLeadingZeros(i)}static calculateBCHCode(i,o){if(0===o)throw new ne("0 polynomial");const a=ce.findMSBSet(o);for(i<<=a-1;ce.findMSBSet(i)>=a;)i^=o<<ce.findMSBSet(i)-a;return i}static makeTypeInfoBits(i,o,a){if(!pi.isValidMaskPattern(o))throw new Fe("Invalid mask pattern");const l=i.getBits()<<3|o;a.appendBits(l,5);const u=ce.calculateBCHCode(l,ce.TYPE_INFO_POLY);a.appendBits(u,10);const d=new $e;if(d.appendBits(ce.TYPE_INFO_MASK_PATTERN,15),a.xor(d),15!==a.getSize())throw new Fe("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(i,o){o.appendBits(i.getVersionNumber(),6);const a=ce.calculateBCHCode(i.getVersionNumber(),ce.VERSION_INFO_POLY);if(o.appendBits(a,12),18!==o.getSize())throw new Fe("should not happen but we got: "+o.getSize())}static isEmpty(i){return 255===i}static embedTimingPatterns(i){for(let o=8;o<i.getWidth()-8;++o){const a=(o+1)%2;ce.isEmpty(i.get(o,6))&&i.setNumber(o,6,a),ce.isEmpty(i.get(6,o))&&i.setNumber(6,o,a)}}static embedDarkDotAtLeftBottomCorner(i){if(0===i.get(8,i.getHeight()-8))throw new Fe;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,o,a){for(let l=0;l<8;++l){if(!ce.isEmpty(a.get(i+l,o)))throw new Fe;a.setNumber(i+l,o,0)}}static embedVerticalSeparationPattern(i,o,a){for(let l=0;l<7;++l){if(!ce.isEmpty(a.get(i,o+l)))throw new Fe;a.setNumber(i,o+l,0)}}static embedPositionAdjustmentPattern(i,o,a){for(let l=0;l<5;++l){const u=ce.POSITION_ADJUSTMENT_PATTERN[l];for(let d=0;d<5;++d)a.setNumber(i+d,o+l,u[d])}}static embedPositionDetectionPattern(i,o,a){for(let l=0;l<7;++l){const u=ce.POSITION_DETECTION_PATTERN[l];for(let d=0;d<7;++d)a.setNumber(i+d,o+l,u[d])}}static embedPositionDetectionPatternsAndSeparators(i){const o=ce.POSITION_DETECTION_PATTERN[0].length;ce.embedPositionDetectionPattern(0,0,i),ce.embedPositionDetectionPattern(i.getWidth()-o,0,i),ce.embedPositionDetectionPattern(0,i.getWidth()-o,i);ce.embedHorizontalSeparationPattern(0,7,i),ce.embedHorizontalSeparationPattern(i.getWidth()-8,7,i),ce.embedHorizontalSeparationPattern(0,i.getWidth()-8,i);ce.embedVerticalSeparationPattern(7,0,i),ce.embedVerticalSeparationPattern(i.getHeight()-7-1,0,i),ce.embedVerticalSeparationPattern(7,i.getHeight()-7,i)}static maybeEmbedPositionAdjustmentPatterns(i,o){if(i.getVersionNumber()<2)return;const a=i.getVersionNumber()-1,l=ce.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let u=0,d=l.length;u!==d;u++){const h=l[u];if(h>=0)for(let p=0;p!==d;p++){const _=l[p];_>=0&&ce.isEmpty(o.get(_,h))&&ce.embedPositionAdjustmentPattern(_-2,h-2,o)}}}}ce.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ce.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ce.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ce.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ce.VERSION_INFO_POLY=7973,ce.TYPE_INFO_POLY=1335,ce.TYPE_INFO_MASK_PATTERN=21522;class Uc{constructor(i,o){this.dataBytes=i,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Je{constructor(){}static calculateMaskPenalty(i){return ar.applyMaskPenaltyRule1(i)+ar.applyMaskPenaltyRule2(i)+ar.applyMaskPenaltyRule3(i)+ar.applyMaskPenaltyRule4(i)}static encode(i,o,a=null){let l=Je.DEFAULT_BYTE_MODE_ENCODING;const u=null!==a&&void 0!==a.get(fe.CHARACTER_SET);u&&(l=a.get(fe.CHARACTER_SET).toString());const d=this.chooseMode(i,l),h=new $e;if(d===ae.BYTE&&(u||Je.DEFAULT_BYTE_MODE_ENCODING!==l)){const Z=Y.getCharacterSetECIByName(l);void 0!==Z&&this.appendECI(Z,h)}this.appendModeInfo(d,h);const p=new $e;let _;if(this.appendBytes(i,d,p,l),null!==a&&void 0!==a.get(fe.QR_VERSION)){const Z=Number.parseInt(a.get(fe.QR_VERSION).toString(),10);_=se.getVersionForNumber(Z);const B=this.calculateBitsNeeded(d,h,p,_);if(!this.willFit(B,_,o))throw new Fe("Data too big for requested version")}else _=this.recommendVersion(o,d,h,p);const w=new $e;w.appendBitArray(h);const C=d===ae.BYTE?p.getSizeInBytes():i.length;this.appendLengthInfo(C,_,d,w),w.appendBitArray(p);const b=_.getECBlocksForLevel(o),I=_.getTotalCodewords()-b.getTotalECCodewords();this.terminateBits(I,w);const v=this.interleaveWithECBytes(w,_.getTotalCodewords(),I,b.getNumBlocks()),M=new pi;M.setECLevel(o),M.setMode(d),M.setVersion(_);const N=_.getDimensionForVersion(),L=new $r(N,N),W=this.chooseMaskPattern(v,o,_,L);return M.setMaskPattern(W),ce.buildMatrix(v,o,_,W,L),M.setMatrix(L),M}static recommendVersion(i,o,a,l){const u=this.calculateBitsNeeded(o,a,l,se.getVersionForNumber(1)),d=this.chooseVersion(u,i),h=this.calculateBitsNeeded(o,a,l,d);return this.chooseVersion(h,i)}static calculateBitsNeeded(i,o,a,l){return o.getSize()+i.getCharacterCountBits(l)+a.getSize()}static getAlphanumericCode(i){return i<Je.ALPHANUMERIC_TABLE.length?Je.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,o=null){if(Y.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(i))return ae.KANJI;let a=!1,l=!1;for(let u=0,d=i.length;u<d;++u){const h=i.charAt(u);if(Je.isDigit(h))a=!0;else{if(-1===this.getAlphanumericCode(h.charCodeAt(0)))return ae.BYTE;l=!0}}return l?ae.ALPHANUMERIC:a?ae.NUMERIC:ae.BYTE}static isOnlyDoubleByteKanji(i){let o;try{o=Ft.encode(i,Y.SJIS)}catch{return!1}const a=o.length;if(a%2!=0)return!1;for(let l=0;l<a;l+=2){const u=255&o[l];if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(i,o,a,l){let u=Number.MAX_SAFE_INTEGER,d=-1;for(let h=0;h<pi.NUM_MASK_PATTERNS;h++){ce.buildMatrix(i,o,a,h,l);let p=this.calculateMaskPenalty(l);p<u&&(u=p,d=h)}return d}static chooseVersion(i,o){for(let a=1;a<=40;a++){const l=se.getVersionForNumber(a);if(Je.willFit(i,l,o))return l}throw new Fe("Data too big")}static willFit(i,o,a){return o.getTotalCodewords()-o.getECBlocksForLevel(a).getTotalECCodewords()>=(i+7)/8}static terminateBits(i,o){const a=8*i;if(o.getSize()>a)throw new Fe("data bits cannot fit in the QR Code"+o.getSize()+" > "+a);for(let d=0;d<4&&o.getSize()<a;++d)o.appendBit(!1);const l=7&o.getSize();if(l>0)for(let d=l;d<8;d++)o.appendBit(!1);const u=i-o.getSizeInBytes();for(let d=0;d<u;++d)o.appendBits(0==(1&d)?236:17,8);if(o.getSize()!==a)throw new Fe("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,o,a,l,u,d){if(l>=a)throw new Fe("Block ID too large");const h=i%a,p=a-h,_=Math.floor(i/a),w=_+1,C=Math.floor(o/a),b=C+1,I=_-C,v=w-b;if(I!==v)throw new Fe("EC bytes mismatch");if(a!==p+h)throw new Fe("RS blocks mismatch");if(i!==(C+I)*p+(b+v)*h)throw new Fe("Total bytes mismatch");l<p?(u[0]=C,d[0]=I):(u[0]=b,d[0]=v)}static interleaveWithECBytes(i,o,a,l){if(i.getSizeInBytes()!==a)throw new Fe("Number of bits and data bytes does not match");let u=0,d=0,h=0;const p=new Array;for(let w=0;w<l;++w){const C=new Int32Array(1),b=new Int32Array(1);Je.getNumDataBytesAndNumECBytesForBlockID(o,a,l,w,C,b);const I=C[0],v=new Uint8Array(I);i.toBytes(8*u,v,0,I);const M=Je.generateECBytes(v,b[0]);p.push(new Uc(v,M)),d=Math.max(d,I),h=Math.max(h,M.length),u+=C[0]}if(a!==u)throw new Fe("Data bytes does not match offset");const _=new $e;for(let w=0;w<d;++w)for(const C of p){const b=C.getDataBytes();w<b.length&&_.appendBits(b[w],8)}for(let w=0;w<h;++w)for(const C of p){const b=C.getErrorCorrectionBytes();w<b.length&&_.appendBits(b[w],8)}if(o!==_.getSizeInBytes())throw new Fe("Interleaving error: "+o+" and "+_.getSizeInBytes()+" differ.");return _}static generateECBytes(i,o){const a=i.length,l=new Int32Array(a+o);for(let d=0;d<a;d++)l[d]=255&i[d];new qr(ke.QR_CODE_FIELD_256).encode(l,o);const u=new Uint8Array(o);for(let d=0;d<o;d++)u[d]=l[a+d];return u}static appendModeInfo(i,o){o.appendBits(i.getBits(),4)}static appendLengthInfo(i,o,a,l){const u=a.getCharacterCountBits(o);if(i>=1<<u)throw new Fe(i+" is bigger than "+((1<<u)-1));l.appendBits(i,u)}static appendBytes(i,o,a,l){switch(o){case ae.NUMERIC:Je.appendNumericBytes(i,a);break;case ae.ALPHANUMERIC:Je.appendAlphanumericBytes(i,a);break;case ae.BYTE:Je.append8BitBytes(i,a,l);break;case ae.KANJI:Je.appendKanjiBytes(i,a);break;default:throw new Fe("Invalid mode: "+o)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const o=Je.getDigit(i);return o>=0&&o<=9}static appendNumericBytes(i,o){const a=i.length;let l=0;for(;l<a;){const u=Je.getDigit(i.charAt(l));if(l+2<a){const d=Je.getDigit(i.charAt(l+1)),h=Je.getDigit(i.charAt(l+2));o.appendBits(100*u+10*d+h,10),l+=3}else if(l+1<a){const d=Je.getDigit(i.charAt(l+1));o.appendBits(10*u+d,7),l+=2}else o.appendBits(u,4),l++}}static appendAlphanumericBytes(i,o){const a=i.length;let l=0;for(;l<a;){const u=Je.getAlphanumericCode(i.charCodeAt(l));if(-1===u)throw new Fe;if(l+1<a){const d=Je.getAlphanumericCode(i.charCodeAt(l+1));if(-1===d)throw new Fe;o.appendBits(45*u+d,11),l+=2}else o.appendBits(u,6),l++}}static append8BitBytes(i,o,a){let l;try{l=Ft.encode(i,a)}catch(u){throw new Fe(u)}for(let u=0,d=l.length;u!==d;u++)o.appendBits(l[u],8)}static appendKanjiBytes(i,o){let a;try{a=Ft.encode(i,Y.SJIS)}catch(u){throw new Fe(u)}const l=a.length;for(let u=0;u<l;u+=2){const p=(255&a[u])<<8&4294967295|255&a[u+1];let _=-1;if(p>=33088&&p<=40956?_=p-33088:p>=57408&&p<=60351&&(_=p-49472),-1===_)throw new Fe("Invalid byte sequence");o.appendBits(192*(_>>8)+(255&_),13)}}static appendECI(i,o){o.appendBits(ae.ECI.getBits(),4),o.appendBits(i.getValue(),8)}}Je.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Je.DEFAULT_BYTE_MODE_ENCODING=Y.UTF8.getName();let jc=(()=>{class y{write(o,a,l,u=null){if(0===o.length)throw new ne("Found empty contents");if(a<0||l<0)throw new ne("Requested dimensions are too small: "+a+"x"+l);let d=$.L,h=y.QUIET_ZONE_SIZE;null!==u&&(void 0!==u.get(fe.ERROR_CORRECTION)&&(d=$.fromString(u.get(fe.ERROR_CORRECTION).toString())),void 0!==u.get(fe.MARGIN)&&(h=Number.parseInt(u.get(fe.MARGIN).toString(),10)));const p=Je.encode(o,d,u);return this.renderResult(p,a,l,h)}writeToDom(o,a,l,u,d=null){"string"==typeof o&&(o=document.querySelector(o));const h=this.write(a,l,u,d);o&&o.appendChild(h)}renderResult(o,a,l,u){const d=o.getMatrix();if(null===d)throw new rr;const h=d.getWidth(),p=d.getHeight(),_=h+2*u,w=p+2*u,C=Math.max(a,_),b=Math.max(l,w),I=Math.min(Math.floor(C/_),Math.floor(b/w)),v=Math.floor((C-h*I)/2),M=Math.floor((b-p*I)/2),N=this.createSVGElement(C,b);for(let L=0,W=M;L<p;L++,W+=I)for(let Z=0,B=v;Z<h;Z++,B+=I)if(1===d.get(Z,L)){const Me=this.createSvgRectElement(B,W,I,I);N.appendChild(Me)}return N}createSVGElement(o,a){const l=document.createElementNS(y.SVG_NS,"svg");return l.setAttributeNS(null,"height",o.toString()),l.setAttributeNS(null,"width",a.toString()),l}createSvgRectElement(o,a,l,u){const d=document.createElementNS(y.SVG_NS,"rect");return d.setAttributeNS(null,"x",o.toString()),d.setAttributeNS(null,"y",a.toString()),d.setAttributeNS(null,"height",l.toString()),d.setAttributeNS(null,"width",u.toString()),d.setAttributeNS(null,"fill","#000000"),d}}return y.QUIET_ZONE_SIZE=4,y.SVG_NS="http://www.w3.org/2000/svg",y})(),Ho=(()=>{class y{encode(o,a,l,u,d){if(0===o.length)throw new ne("Found empty contents");if(a!==le.QR_CODE)throw new ne("Can only encode QR_CODE, but got "+a);if(l<0||u<0)throw new ne(`Requested dimensions are too small: ${l}x${u}`);let h=$.L,p=y.QUIET_ZONE_SIZE;null!==d&&(void 0!==d.get(fe.ERROR_CORRECTION)&&(h=$.fromString(d.get(fe.ERROR_CORRECTION).toString())),void 0!==d.get(fe.MARGIN)&&(p=Number.parseInt(d.get(fe.MARGIN).toString(),10)));const _=Je.encode(o,h,d);return y.renderResult(_,l,u,p)}static renderResult(o,a,l,u){const d=o.getMatrix();if(null===d)throw new rr;const h=d.getWidth(),p=d.getHeight(),_=h+2*u,w=p+2*u,C=Math.max(a,_),b=Math.max(l,w),I=Math.min(Math.floor(C/_),Math.floor(b/w)),v=Math.floor((C-h*I)/2),M=Math.floor((b-p*I)/2),N=new Tt(C,b);for(let L=0,W=M;L<p;L++,W+=I)for(let Z=0,B=v;Z<h;Z++,B+=I)1===d.get(Z,L)&&N.setRegion(B,W,I,I);return N}}return y.QUIET_ZONE_SIZE=4,y})();let xi=(()=>{class y extends Gr{constructor(o,a,l,u,d,h,p,_){if(super(h,p),this.yuvData=o,this.dataWidth=a,this.dataHeight=l,this.left=u,this.top=d,u+h>a||d+p>l)throw new ne("Crop rectangle does not fit within image data.");_&&this.reverseHorizontal(h,p)}getRow(o,a){if(o<0||o>=this.getHeight())throw new ne("Requested row is outside the image: "+o);const l=this.getWidth();return(null==a||a.length<l)&&(a=new Uint8ClampedArray(l)),qe.arraycopy(this.yuvData,(o+this.top)*this.dataWidth+this.left,a,0,l),a}getMatrix(){const o=this.getWidth(),a=this.getHeight();if(o===this.dataWidth&&a===this.dataHeight)return this.yuvData;const l=o*a,u=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return qe.arraycopy(this.yuvData,d,u,0,l),u;for(let h=0;h<a;h++)qe.arraycopy(this.yuvData,d,u,h*o,o),d+=this.dataWidth;return u}isCropSupported(){return!0}crop(o,a,l,u){return new y(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+a,l,u,!1)}renderThumbnail(){const o=this.getWidth()/y.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/y.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(o*a),u=this.yuvData;let d=this.top*this.dataWidth+this.left;for(let h=0;h<a;h++){const p=h*o;for(let _=0;_<o;_++)l[p+_]=4278190080|65793*(255&u[d+_*y.THUMBNAIL_SCALE_FACTOR]);d+=this.dataWidth*y.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/y.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/y.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,a){const l=this.yuvData;for(let u=0,d=this.top*this.dataWidth+this.left;u<a;u++,d+=this.dataWidth){const h=d+o/2;for(let p=d,_=d+o-1;p<h;p++,_--){const w=l[p];l[p]=l[_],l[_]=w}}}invert(){return new pt(this)}}return y.THUMBNAIL_SCALE_FACTOR=2,y})();class Go extends Gr{constructor(i,o,a,l,u,d,h){if(super(o,a),this.dataWidth=l,this.dataHeight=u,this.left=d,this.top=h,4===i.BYTES_PER_ELEMENT){const p=o*a,_=new Uint8ClampedArray(p);for(let w=0;w<p;w++){const C=i[w];_[w]=((C>>16&255)+(C>>7&510)+(255&C))/4&255}this.luminances=_}else this.luminances=i;if(void 0===l&&(this.dataWidth=o),void 0===u&&(this.dataHeight=a),void 0===d&&(this.left=0),void 0===h&&(this.top=0),this.left+o>this.dataWidth||this.top+a>this.dataHeight)throw new ne("Crop rectangle does not fit within image data.")}getRow(i,o){if(i<0||i>=this.getHeight())throw new ne("Requested row is outside the image: "+i);const a=this.getWidth();return(null==o||o.length<a)&&(o=new Uint8ClampedArray(a)),qe.arraycopy(this.luminances,(i+this.top)*this.dataWidth+this.left,o,0,a),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.luminances;const a=i*o,l=new Uint8ClampedArray(a);let u=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return qe.arraycopy(this.luminances,u,l,0,a),l;for(let d=0;d<o;d++)qe.arraycopy(this.luminances,u,l,d*i,i),u+=this.dataWidth;return l}isCropSupported(){return!0}crop(i,o,a,l){return new Go(this.luminances,a,l,this.dataWidth,this.dataHeight,this.left+i,this.top+o)}invert(){return new pt(this)}}class zo extends Y{static forName(i){return this.getCharacterSetECIByName(i)}}class tn{}tn.ISO_8859_1=Y.ISO8859_1;class qt{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class Xe{static singletonList(i){return[i]}static min(i,o){return i.sort(o)[0]}}class Ct extends class $t{constructor(i){this.previous=i}getPrevious(){return this.previous}}{constructor(i,o,a){super(i),this.value=o,this.bitCount=a}appendTo(i,o){i.appendBits(this.value,this.bitCount)}add(i,o){return new Ct(this,i,o)}addBinaryShift(i,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ct(this,i,o)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+we.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class Dr extends Ct{constructor(i,o,a){super(i,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=a}appendTo(i,o){for(let a=0;a<this.binaryShiftByteCount;a++)(0===a||31===a&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):i.appendBits(0===a?Math.min(this.binaryShiftByteCount,31):this.binaryShiftByteCount-31,5)),i.appendBits(o[this.binaryShiftStart+a],8)}addBinaryShift(i,o){return new Dr(this,i,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Yt(y,i,o){return new Ct(y,i,o)}const K=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ir=new Ct(null,0,0),ut=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])];const Kr=function mi(y){for(let i of y)Et.fill(i,-1);return y[0][4]=0,y[1][4]=0,y[1][0]=28,y[3][4]=0,y[2][4]=0,y[2][0]=15,y}(Et.createInt32Array(6,6));class ue{constructor(i,o,a,l){this.token=i,this.mode=o,this.binaryShiftByteCount=a,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,o){let a=this.bitCount,l=this.token;if(i!==this.mode){let d=ut[this.mode][i];l=Yt(l,65535&d,d>>16),a+=d>>16}let u=2===i?4:5;return l=Yt(l,o,u),new ue(l,i,0,a+u)}shiftAndAppend(i,o){let a=this.token,l=2===this.mode?4:5;return a=Yt(a,Kr[this.mode][i],l),a=Yt(a,o,5),new ue(a,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(i){let o=this.token,a=this.mode,l=this.bitCount;if(4===this.mode||2===this.mode){let h=ut[a][0];o=Yt(o,65535&h,h>>16),l+=h>>16,a=0}let d=new ue(o,a,this.binaryShiftByteCount+1,l+(0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8));return 2078===d.binaryShiftByteCount&&(d=d.endBinaryShift(i+1)),d}endBinaryShift(i){if(0===this.binaryShiftByteCount)return this;let o=this.token;return o=function dn(y,i,o){return new Dr(y,i,o)}(o,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new ue(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let o=this.bitCount+(ut[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?o+=ue.calculateBinaryShiftCost(i)-ue.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(o+=10),o<=i.bitCount}toBitArray(i){let o=[];for(let l=this.endBinaryShift(i.length).token;null!==l;l=l.getPrevious())o.unshift(l);let a=new $e;for(const l of o)l.appendTo(a,i);return a}toString(){return _e.format("%s bits=%d bytes=%d",K[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}ue.INITIAL_STATE=new ue(Ir,0,0,0);const lr=function Ui(y){const i=_e.getCharCode(" "),o=_e.getCharCode("."),a=_e.getCharCode(",");y[0][i]=1;const l=_e.getCharCode("Z"),u=_e.getCharCode("A");for(let b=u;b<=l;b++)y[0][b]=b-u+2;y[1][i]=1;const d=_e.getCharCode("z"),h=_e.getCharCode("a");for(let b=h;b<=d;b++)y[1][b]=b-h+2;y[2][i]=1;const p=_e.getCharCode("9"),_=_e.getCharCode("0");for(let b=_;b<=p;b++)y[2][b]=b-_+2;y[2][a]=12,y[2][o]=13;const w=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"];for(let b=0;b<w.length;b++)y[3][_e.getCharCode(w[b])]=b;const C=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let b=0;b<C.length;b++)_e.getCharCode(C[b])>0&&(y[4][_e.getCharCode(C[b])]=b);return y}(Et.createInt32Array(5,256));class Sr{constructor(i){this.text=i}encode(){const i=_e.getCharCode(" "),o=_e.getCharCode("\n");let a=Xe.singletonList(ue.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let d,h=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case _e.getCharCode("\r"):d=h===o?2:0;break;case _e.getCharCode("."):d=h===i?3:0;break;case _e.getCharCode(","):d=h===i?4:0;break;case _e.getCharCode(":"):d=h===i?5:0;break;default:d=0}d>0?(a=Sr.updateStateListForPair(a,u,d),u++):a=this.updateStateListForChar(a,u)}return Xe.min(a,(u,d)=>u.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,o){const a=[];for(let l of i)this.updateStateForChar(l,o,a);return Sr.simplifyStates(a)}updateStateForChar(i,o,a){let l=255&this.text[o],u=lr[i.getMode()][l]>0,d=null;for(let h=0;h<=4;h++){let p=lr[h][l];if(p>0){if(null==d&&(d=i.endBinaryShift(o)),!u||h===i.getMode()||2===h){const _=d.latchAndAppend(h,p);a.push(_)}if(!u&&Kr[i.getMode()][h]>=0){const _=d.shiftAndAppend(h,p);a.push(_)}}}if(i.getBinaryShiftByteCount()>0||0===lr[i.getMode()][l]){let h=i.addBinaryShiftChar(o);a.push(h)}}static updateStateListForPair(i,o,a){const l=[];for(let u of i)this.updateStateForPair(u,o,a,l);return this.simplifyStates(l)}static updateStateForPair(i,o,a,l){let u=i.endBinaryShift(o);if(l.push(u.latchAndAppend(4,a)),4!==i.getMode()&&l.push(u.shiftAndAppend(4,a)),3===a||4===a){let d=u.latchAndAppend(2,16-a).latchAndAppend(2,1);l.push(d)}if(i.getBinaryShiftByteCount()>0){let d=i.addBinaryShiftChar(o).addBinaryShiftChar(o+1);l.push(d)}}static simplifyStates(i){let o=[];for(const a of i){let l=!0;for(const u of o){if(u.isBetterThanOrEqualTo(a)){l=!1;break}a.isBetterThanOrEqualTo(u)&&(o=o.filter(d=>d!==u))}l&&o.push(a)}return o}}class ve{constructor(){}static encodeBytes(i){return ve.encode(i,ve.DEFAULT_EC_PERCENT,ve.DEFAULT_AZTEC_LAYERS)}static encode(i,o,a){let h,p,_,w,C,l=new Sr(i).encode(),u=we.truncDivision(l.getSize()*o,100)+11,d=l.getSize()+u;if(a!==ve.DEFAULT_AZTEC_LAYERS){if(h=a<0,p=Math.abs(a),p>(h?ve.MAX_NB_BITS_COMPACT:ve.MAX_NB_BITS))throw new ne(_e.format("Illegal value %s for layers",a));_=ve.totalBitsInLayer(p,h),w=ve.WORD_SIZE[p];let B=_-_%w;if(C=ve.stuffBits(l,w),C.getSize()+u>B)throw new ne("Data to large for user specified layer");if(h&&C.getSize()>64*w)throw new ne("Data to large for user specified layer")}else{w=0,C=null;for(let B=0;;B++){if(B>ve.MAX_NB_BITS)throw new ne("Data too large for an Aztec code");if(h=B<=3,p=h?B+1:B,_=ve.totalBitsInLayer(p,h),d>_)continue;(null==C||w!==ve.WORD_SIZE[p])&&(w=ve.WORD_SIZE[p],C=ve.stuffBits(l,w));let Me=_-_%w;if(!(h&&C.getSize()>64*w)&&C.getSize()+u<=Me)break}}let L,b=ve.generateCheckWords(C,_,w),I=C.getSize()/w,v=ve.generateModeMessage(h,p,I),M=(h?11:14)+4*p,N=new Int32Array(M);if(h){L=M;for(let B=0;B<N.length;B++)N[B]=B}else{L=M+1+2*we.truncDivision(we.truncDivision(M,2)-1,15);let B=we.truncDivision(M,2),Me=we.truncDivision(L,2);for(let be=0;be<B;be++){let nn=be+we.truncDivision(be,15);N[B-be-1]=Me-nn-1,N[B+be]=Me+nn+1}}let W=new Tt(L);for(let B=0,Me=0;B<p;B++){let be=4*(p-B)+(h?9:12);for(let nn=0;nn<be;nn++){let vn=2*nn;for(let fn=0;fn<2;fn++)b.get(Me+vn+fn)&&W.set(N[2*B+fn],N[2*B+nn]),b.get(Me+2*be+vn+fn)&&W.set(N[2*B+nn],N[M-1-2*B-fn]),b.get(Me+4*be+vn+fn)&&W.set(N[M-1-2*B-fn],N[M-1-2*B-nn]),b.get(Me+6*be+vn+fn)&&W.set(N[M-1-2*B-nn],N[2*B+fn])}Me+=8*be}if(ve.drawModeMessage(W,h,L,v),h)ve.drawBullsEye(W,we.truncDivision(L,2),5);else{ve.drawBullsEye(W,we.truncDivision(L,2),7);for(let B=0,Me=0;B<we.truncDivision(M,2)-1;B+=15,Me+=16)for(let be=1&we.truncDivision(L,2);be<L;be+=2)W.set(we.truncDivision(L,2)-Me,be),W.set(we.truncDivision(L,2)+Me,be),W.set(be,we.truncDivision(L,2)-Me),W.set(be,we.truncDivision(L,2)+Me)}let Z=new qt;return Z.setCompact(h),Z.setSize(L),Z.setLayers(p),Z.setCodeWords(I),Z.setMatrix(W),Z}static drawBullsEye(i,o,a){for(let l=0;l<a;l+=2)for(let u=o-l;u<=o+l;u++)i.set(u,o-l),i.set(u,o+l),i.set(o-l,u),i.set(o+l,u);i.set(o-a,o-a),i.set(o-a+1,o-a),i.set(o-a,o-a+1),i.set(o+a,o-a),i.set(o+a,o-a+1),i.set(o+a,o+a-1)}static generateModeMessage(i,o,a){let l=new $e;return i?(l.appendBits(o-1,2),l.appendBits(a-1,6),l=ve.generateCheckWords(l,28,4)):(l.appendBits(o-1,5),l.appendBits(a-1,11),l=ve.generateCheckWords(l,40,4)),l}static drawModeMessage(i,o,a,l){let u=we.truncDivision(a,2);if(o)for(let d=0;d<7;d++){let h=u-3+d;l.get(d)&&i.set(h,u-5),l.get(d+7)&&i.set(u+5,h),l.get(20-d)&&i.set(h,u+5),l.get(27-d)&&i.set(u-5,h)}else for(let d=0;d<10;d++){let h=u-5+d+we.truncDivision(d,5);l.get(d)&&i.set(h,u-7),l.get(d+10)&&i.set(u+7,h),l.get(29-d)&&i.set(h,u+7),l.get(39-d)&&i.set(u-7,h)}}static generateCheckWords(i,o,a){let l=i.getSize()/a,u=new qr(ve.getGF(a)),d=we.truncDivision(o,a),h=ve.bitsToWords(i,a,d);u.encode(h,d-l);let p=o%a,_=new $e;_.appendBits(0,p);for(const w of Array.from(h))_.appendBits(w,a);return _}static bitsToWords(i,o,a){let u,d,l=new Int32Array(a);for(u=0,d=i.getSize()/o;u<d;u++){let h=0;for(let p=0;p<o;p++)h|=i.get(u*o+p)?1<<o-p-1:0;l[u]=h}return l}static getGF(i){switch(i){case 4:return ke.AZTEC_PARAM;case 6:return ke.AZTEC_DATA_6;case 8:return ke.AZTEC_DATA_8;case 10:return ke.AZTEC_DATA_10;case 12:return ke.AZTEC_DATA_12;default:throw new ne("Unsupported word size "+i)}}static stuffBits(i,o){let a=new $e,l=i.getSize(),u=(1<<o)-2;for(let d=0;d<l;d+=o){let h=0;for(let p=0;p<o;p++)(d+p>=l||i.get(d+p))&&(h|=1<<o-1-p);(h&u)===u?(a.appendBits(h&u,o),d--):0==(h&u)?(a.appendBits(1|h,o),d--):a.appendBits(h,o)}return a}static totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}ve.DEFAULT_EC_PERCENT=33,ve.DEFAULT_AZTEC_LAYERS=0,ve.MAX_NB_BITS=32,ve.MAX_NB_BITS_COMPACT=4,ve.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class St{encode(i,o,a,l){return this.encodeWithHints(i,o,a,l,null)}encodeWithHints(i,o,a,l,u){let d=tn.ISO_8859_1,h=ve.DEFAULT_EC_PERCENT,p=ve.DEFAULT_AZTEC_LAYERS;return null!=u&&(u.has(fe.CHARACTER_SET)&&(d=zo.forName(u.get(fe.CHARACTER_SET).toString())),u.has(fe.ERROR_CORRECTION)&&(h=we.parseInt(u.get(fe.ERROR_CORRECTION).toString())),u.has(fe.AZTEC_LAYERS)&&(p=we.parseInt(u.get(fe.AZTEC_LAYERS).toString()))),St.encodeLayers(i,o,a,l,d,h,p)}static encodeLayers(i,o,a,l,u,d,h){if(o!==le.AZTEC)throw new ne("Can only encode AZTEC, but got "+o);let p=ve.encode(_e.getBytes(i,u),d,h);return St.renderResult(p,a,l)}static renderResult(i,o,a){let l=i.getMatrix();if(null==l)throw new rr;let u=l.getWidth(),d=l.getHeight(),h=Math.max(o,u),p=Math.max(a,d),_=Math.min(h/u,p/d),w=(h-u*_)/2,C=(p-d*_)/2,b=new Tt(h,p);for(let I=0,v=C;I<d;I++,v+=_)for(let M=0,N=w;M<u;M++,N+=_)l.get(M,I)&&b.setRegion(N,v,_,_);return b}}z.AbstractExpandedDecoder=Ro,z.ArgumentException=cn,z.ArithmeticException=ks,z.AztecCode=qt,z.AztecCodeReader=Bn,z.AztecCodeWriter=St,z.AztecDecoder=Vs,z.AztecDetector=Ac,z.AztecDetectorResult=Cc,z.AztecEncoder=ve,z.AztecHighLevelEncoder=Sr,z.AztecPoint=Kt,z.BarcodeFormat=le,z.Binarizer=So,z.BinaryBitmap=Hn,z.BitArray=$e,z.BitMatrix=Tt,z.BitSource=ko,z.BrowserAztecCodeReader=class bc extends _r{constructor(i=500){super(new Bn,i)}},z.BrowserBarcodeReader=class Mc extends _r{constructor(i=500,o){super(new Yr(o),i,o)}},z.BrowserCodeReader=_r,z.BrowserDatamatrixCodeReader=class Nc extends _r{constructor(i=500){super(new Xr,i)}},z.BrowserMultiFormatReader=class it extends _r{constructor(i=null,o=500){const a=new Sn;a.setHints(i),super(a,o)}decodeBitmap(i){return this.reader.decodeWithState(i)}},z.BrowserPDF417Reader=class qd extends _r{constructor(i=500){super(new Wt,i)}},z.BrowserQRCodeReader=class $d extends _r{constructor(i=500){super(new or,i)}},z.BrowserQRCodeSvgWriter=jc,z.CharacterSetECI=Y,z.ChecksumException=bt,z.Code128Reader=X,z.Code39Reader=Hs,z.DataMatrixDecodedBitStreamParser=Pe,z.DataMatrixReader=Xr,z.DecodeHintType=rt,z.DecoderResult=li,z.DefaultGridSampler=js,z.DetectorResult=Ri,z.EAN13Reader=fi,z.EncodeHintType=fe,z.Exception=Gt,z.FormatException=Q,z.GenericGF=ke,z.GenericGFPoly=zt,z.GlobalHistogramBinarizer=Dt,z.GridSampler=Us,z.GridSamplerInstance=yr,z.HTMLCanvasElementLuminanceSource=zn,z.HybridBinarizer=Ie,z.ITFReader=Ke,z.IllegalArgumentException=ne,z.IllegalStateException=rr,z.InvertedLuminanceSource=pt,z.LuminanceSource=Gr,z.MathUtils=Ve,z.MultiFormatOneDReader=Yr,z.MultiFormatReader=Sn,z.MultiFormatWriter=class ea{encode(i,o,a,l,u){let d;if(o!==le.QR_CODE)throw new ne("No encoder available for format "+o);return d=new Ho,d.encode(i,o,a,l,u)}},z.NotFoundException=V,z.OneDReader=It,z.PDF417DecodedBitStreamParser=P,z.PDF417DecoderErrorCorrection=Fc,z.PDF417Reader=Wt,z.PDF417ResultMetadata=Uo,z.PerspectiveTransform=_n,z.PlanarYUVLuminanceSource=xi,z.QRCodeByteMatrix=$r,z.QRCodeDataMask=Ce,z.QRCodeDecodedBitStreamParser=Jt,z.QRCodeDecoderErrorCorrectionLevel=$,z.QRCodeDecoderFormatInformation=Nt,z.QRCodeEncoder=Je,z.QRCodeEncoderQRCode=pi,z.QRCodeMaskUtil=ar,z.QRCodeMatrixUtil=ce,z.QRCodeMode=ae,z.QRCodeReader=or,z.QRCodeVersion=se,z.QRCodeWriter=Ho,z.RGBLuminanceSource=Go,z.RSS14Reader=ft,z.RSSExpandedReader=j,z.ReaderException=Js,z.ReedSolomonDecoder=Oi,z.ReedSolomonEncoder=qr,z.ReedSolomonException=Ni,z.Result=Bt,z.ResultMetadataType=xt,z.ResultPoint=oe,z.StringUtils=_e,z.UnsupportedOperationException=Gn,z.VideoInputDevice=Bs,z.WhiteRectangleDetector=di,z.WriterException=Fe,z.ZXingArrays=Et,z.ZXingCharset=zo,z.ZXingInteger=we,z.ZXingStandardCharsets=tn,z.ZXingStringBuilder=ze,z.ZXingStringEncoding=Ft,z.ZXingSystem=qe,z.createAbstractExpandedDecoder=Ys,Object.defineProperty(z,"__esModule",{value:!0})}(Rs)}},Os=>{Os(Os.s=145)}]);